!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Mi.apply(null,arguments)}function e(t){Mi=t}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var i in e)r(e,i)&&(t[i]=e[i]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,i,n){return Dt(t,e,i,n,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=h(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function u(t){var e=a(NaN);return null!=t?o(h(e),t):h(e).userInvalidated=!0,e}function d(t,e){var i,n,s;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=h(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ii.length>0)for(i in Ii)n=Ii[i],s=e[n],"undefined"!=typeof s&&(t[n]=s);return t}function p(e){d(this,e),this._d=new Date((+e._d)),Pi===!1&&(Pi=!0,t.updateOffset(this),Pi=!1)}function f(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function g(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function m(t,e,i){var n,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;s>n;n++)(i&&t[n]!==e[n]||!i&&g(t[n])!==g(e[n]))&&o++;return o+r}function v(){}function y(t){return t?t.toLowerCase().replace("_","-"):t}function b(t){for(var e,i,n,s,r=0;r<t.length;){for(s=y(t[r]).split("-"),e=s.length,i=y(t[r+1]),i=i?i.split("-"):null;e>0;){if(n=w(s.slice(0,e).join("-")))return n;if(i&&i.length>=e&&m(s,i,!0)>=e-1)break;e--}r++}return null}function w(t){var e=null;if(!Ri[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ai._abbr,require("./locale/"+t),x(e)}catch(i){}return Ri[t]}function x(t,e){var i;return t&&(i="undefined"==typeof e?k(t):S(t,e),i&&(Ai=i)),Ai._abbr}function S(t,e){return null!==e?(e.abbr=t,Ri[t]||(Ri[t]=new v),Ri[t].set(e),x(t),Ri[t]):(delete Ri[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ai;if(!i(t)){if(e=w(t))return e;t=[t]}return b(t)}function C(t,e){var i=t.toLowerCase();Hi[i]=Hi[i+"s"]=Hi[e]=t}function D(t){return"string"==typeof t?Hi[t]||Hi[t.toLowerCase()]:void 0}function T(t){var e,i,n={};for(i in t)r(t,i)&&(e=D(i),e&&(n[e]=t[i]));return n}function _(e,i){return function(n){return null!=n?(M(this,e,n),t.updateOffset(this,i),this):E(this,e)}}function E(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function M(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function A(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=D(t),"function"==typeof this[t])return this[t](e);return this}function I(t,e,i){for(var n=""+Math.abs(t),s=t>=0;n.length<e;)n="0"+n;return(s?i?"+":"":"-")+n}function P(t,e,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),t&&(Fi[t]=s),e&&(Fi[e[0]]=function(){return I(s.apply(this,arguments),e[1],e[2])}),i&&(Fi[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function R(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function H(t){var e,i,n=t.match($i);for(e=0,i=n.length;i>e;e++)Fi[n[e]]?n[e]=Fi[n[e]]:n[e]=R(n[e]);return function(s){var r="";for(e=0;i>e;e++)r+=n[e]instanceof Function?n[e].call(s,t):n[e];return r}}function $(t,e){return t.isValid()?(e=L(e,t.localeData()),Oi[e]||(Oi[e]=H(e)),Oi[e](t)):t.localeData().invalidDate()}function L(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Li.lastIndex=0;n>=0&&Li.test(t);)t=t.replace(Li,i),Li.lastIndex=0,n-=1;return t}function O(t,e,i){Ji[t]="function"==typeof e?e:function(t){return t&&i?i:e}}function F(t,e){return r(Ji,t)?Ji[t](e._strict,e._locale):new RegExp(B(t))}function B(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function N(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=g(t)}),i=0;i<t.length;i++)tn[t[i]]=n}function j(t,e){N(t,function(t,i,n,s){n._w=n._w||{},e(t,n._w,n,s)})}function z(t,e,i){null!=e&&r(tn,t)&&tn[t](e,i._a,i,t)}function W(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function Y(t){return this._months[t.month()]}function G(t){return this._monthsShort[t.month()]}function U(t,e,i){var n,s,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(s=a([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function V(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),W(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function q(e){return null!=e?(V(this,e),t.updateOffset(this,!0),this):E(this,"Month")}function X(){return W(this.year(),this.month())}function K(t){var e,i=t._a;return i&&-2===h(t).overflow&&(e=i[nn]<0||i[nn]>11?nn:i[sn]<1||i[sn]>W(i[en],i[nn])?sn:i[rn]<0||i[rn]>24||24===i[rn]&&(0!==i[on]||0!==i[an]||0!==i[ln])?rn:i[on]<0||i[on]>59?on:i[an]<0||i[an]>59?an:i[ln]<0||i[ln]>999?ln:-1,h(t)._overflowDayOfYear&&(en>e||e>sn)&&(e=sn),h(t).overflow=e),t}function Q(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Z(t,e){var i=!0,n=t+"\n"+(new Error).stack;return o(function(){return i&&(Q(n),i=!1),e.apply(this,arguments)},e)}function J(t,e){un[t]||(Q(e),un[t]=!0)}function tt(t){var e,i,n=t._i,s=dn.exec(n);if(s){for(h(t).iso=!0,e=0,i=pn.length;i>e;e++)if(pn[e][1].exec(n)){t._f=pn[e][0]+(s[6]||" ");break}for(e=0,i=fn.length;i>e;e++)if(fn[e][1].exec(n)){t._f+=fn[e][0];break}n.match(Ki)&&(t._f+="Z"),bt(t)}else t._isValid=!1}function et(e){var i=gn.exec(e._i);return null!==i?void(e._d=new Date((+i[1]))):(tt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function it(t,e,i,n,s,r,o){var a=new Date(t,e,i,n,s,r,o);return 1970>t&&a.setFullYear(t),a}function nt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function st(t){return rt(t)?366:365}function rt(t){return t%4===0&&t%100!==0||t%400===0}function ot(){return rt(this.year())}function at(t,e,i){var n,s=i-e,r=i-t.day();return r>s&&(r-=7),s-7>r&&(r+=7),n=Tt(t).add(r,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function lt(t){return at(t,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function ct(){return this._week.doy}function ut(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function dt(t){var e=at(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function pt(t,e,i,n,s){var r,o,a=nt(t,0,1).getUTCDay();return a=0===a?7:a,i=null!=i?i:s,r=s-a+(a>n?7:0)-(s>a?7:0),o=7*(e-1)+(i-s)+r+1,{year:o>0?t:t-1,dayOfYear:o>0?o:st(t-1)+o}}function ft(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gt(t,e,i){return null!=t?t:null!=e?e:i}function mt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vt(t){var e,i,n,s,r=[];if(!t._d){for(n=mt(t),t._w&&null==t._a[sn]&&null==t._a[nn]&&yt(t),t._dayOfYear&&(s=gt(t._a[en],n[en]),t._dayOfYear>st(s)&&(h(t)._overflowDayOfYear=!0),i=nt(s,0,t._dayOfYear),t._a[nn]=i.getUTCMonth(),t._a[sn]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[rn]&&0===t._a[on]&&0===t._a[an]&&0===t._a[ln]&&(t._nextDay=!0,t._a[rn]=0),t._d=(t._useUTC?nt:it).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[rn]=24)}}function yt(t){var e,i,n,s,r,o,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,o=4,i=gt(e.GG,t._a[en],at(Tt(),1,4).year),n=gt(e.W,1),s=gt(e.E,1)):(r=t._locale._week.dow,o=t._locale._week.doy,i=gt(e.gg,t._a[en],at(Tt(),r,o).year),n=gt(e.w,1),null!=e.d?(s=e.d,r>s&&++n):s=null!=e.e?e.e+r:r),a=pt(i,n,s,o,r),t._a[en]=a.year,t._dayOfYear=a.dayOfYear}function bt(e){if(e._f===t.ISO_8601)return void tt(e);e._a=[],h(e).empty=!0;var i,n,s,r,o,a=""+e._i,l=a.length,c=0;for(s=L(e._f,e._locale).match($i)||[],i=0;i<s.length;i++)r=s[i],n=(a.match(F(r,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&h(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),c+=n.length),Fi[r]?(n?h(e).empty=!1:h(e).unusedTokens.push(r),z(r,n,e)):e._strict&&!n&&h(e).unusedTokens.push(r);h(e).charsLeftOver=l-c,a.length>0&&h(e).unusedInput.push(a),h(e).bigHour===!0&&e._a[rn]<=12&&e._a[rn]>0&&(h(e).bigHour=void 0),e._a[rn]=wt(e._locale,e._a[rn],e._meridiem),vt(e),K(e)}function wt(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function xt(t){var e,i,n,s,r;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],bt(e),c(e)&&(r+=h(e).charsLeftOver,r+=10*h(e).unusedTokens.length,h(e).score=r,(null==n||n>r)&&(n=r,i=e));o(t,i||e)}function St(t){if(!t._d){var e=T(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],vt(t)}}function kt(t){var e,s=t._i,r=t._f;return t._locale=t._locale||k(t._l),null===s||void 0===r&&""===s?u({nullInput:!0}):("string"==typeof s&&(t._i=s=t._locale.preparse(s)),f(s)?new p(K(s)):(i(r)?xt(t):r?bt(t):n(s)?t._d=s:Ct(t),e=new p(K(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Ct(e){var r=e._i;void 0===r?e._d=new Date:n(r)?e._d=new Date((+r)):"string"==typeof r?et(e):i(r)?(e._a=s(r.slice(0),function(t){return parseInt(t,10)}),vt(e)):"object"==typeof r?St(e):"number"==typeof r?e._d=new Date(r):t.createFromInputFallback(e)}function Dt(t,e,i,n,s){var r={};return"boolean"==typeof i&&(n=i,i=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=i,r._i=t,r._f=e,r._strict=n,kt(r)}function Tt(t,e,i,n){return Dt(t,e,i,n,!1)}function _t(t,e){var n,s;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Tt();for(n=e[0],s=1;s<e.length;++s)e[s][t](n)&&(n=e[s]);return n}function Et(){var t=[].slice.call(arguments,0);return _t("isBefore",t)}function Mt(){var t=[].slice.call(arguments,0);return _t("isAfter",t)}function At(t){var e=T(t),i=e.year||0,n=e.quarter||0,s=e.month||0,r=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*h+6e4*l+36e5*a,this._days=+o+7*r,this._months=+s+3*n+12*i,this._data={},this._locale=k(),this._bubble()}function It(t){return t instanceof At}function Pt(t,e){P(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+I(~~(t/60),2)+e+I(~~t%60,2)})}function Rt(t){var e=(t||"").match(Ki)||[],i=e[e.length-1]||[],n=(i+"").match(wn)||["-",0,0],s=+(60*n[1])+g(n[2]);return"+"===n[0]?s:-s}function Ht(e,i){var s,r;return i._isUTC?(s=i.clone(),r=(f(e)||n(e)?+e:+Tt(e))-+s,s._d.setTime(+s._d+r),t.updateOffset(s,!1),s):Tt(e).local()}function $t(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Lt(e,i){var n,s=this._offset||0;return null!=e?("string"==typeof e&&(e=Rt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&i&&(n=$t(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==e&&(!i||this._changeInProgress?Zt(this,Vt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:$t(this)}function Ot(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ft(t){return this.utcOffset(0,t)}function Bt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($t(this),"m")),this}function Nt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Rt(this._i)),this}function jt(t){return t=t?Tt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wt(){if(this._a){var t=this._isUTC?a(this._a):Tt(this._a);return this.isValid()&&m(this._a,t.toArray())>0}return!1}function Yt(){return!this._isUTC}function Gt(){return this._isUTC}function Ut(){return this._isUTC&&0===this._offset}function Vt(t,e){var i,n,s,o=t,a=null;return It(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=xn.exec(t))?(i="-"===a[1]?-1:1,o={y:0,d:g(a[sn])*i,h:g(a[rn])*i,m:g(a[on])*i,s:g(a[an])*i,ms:g(a[ln])*i}):(a=Sn.exec(t))?(i="-"===a[1]?-1:1,o={y:qt(a[2],i),M:qt(a[3],i),d:qt(a[4],i),h:qt(a[5],i),m:qt(a[6],i),s:qt(a[7],i),w:qt(a[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=Kt(Tt(o.from),Tt(o.to)),o={},o.ms=s.milliseconds,o.M=s.months),n=new At(o),It(t)&&r(t,"_locale")&&(n._locale=t._locale),n}function qt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Xt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Kt(t,e){var i;return e=Ht(e,t),t.isBefore(e)?i=Xt(t,e):(i=Xt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function Qt(t,e){return function(i,n){var s,r;return null===n||isNaN(+n)||(J(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=i,i=n,n=r),i="string"==typeof i?+i:i,s=Vt(i,n),Zt(this,s,t),this}}function Zt(e,i,n,s){var r=i._milliseconds,o=i._days,a=i._months;s=null==s||s,r&&e._d.setTime(+e._d+r*n),o&&M(e,"Date",E(e,"Date")+o*n),a&&V(e,E(e,"Month")+a*n),s&&t.updateOffset(e,o||a)}function Jt(t){var e=t||Tt(),i=Ht(e,this).startOf("day"),n=this.diff(i,"days",!0),s=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this,Tt(e)))}function te(){return new p(this)}function ee(t,e){var i;return e=D("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:Tt(t),+this>+t):(i=f(t)?+t:+Tt(t),i<+this.clone().startOf(e))}function ie(t,e){var i;return e=D("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:Tt(t),+t>+this):(i=f(t)?+t:+Tt(t),+this.clone().endOf(e)<i)}function ne(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function se(t,e){var i;return e=D(e||"millisecond"),"millisecond"===e?(t=f(t)?t:Tt(t),+this===+t):(i=+Tt(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function re(t){return 0>t?Math.ceil(t):Math.floor(t)}function oe(t,e,i){var n,s,r=Ht(t,this),o=6e4*(r.utcOffset()-this.utcOffset());return e=D(e),"year"===e||"month"===e||"quarter"===e?(s=ae(this,r),"quarter"===e?s/=3:"year"===e&&(s/=12)):(n=this-r,s="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-o)/864e5:"week"===e?(n-o)/6048e5:n),i?s:re(s)}function ae(t,e){var i,n,s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months");return 0>e-r?(i=t.clone().add(s-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(s+1,"months"),n=(e-r)/(i-r)),-(s+n)}function le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():$(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):$(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ce(e){var i=$(this,e||t.defaultFormat);return this.localeData().postformat(i)}function ue(t,e){return this.isValid()?Vt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function de(t){return this.from(Tt(),t)}function pe(t,e){return this.isValid()?Vt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fe(t){return this.to(Tt(),t)}function ge(t){var e;return void 0===t?this._locale._abbr:(e=k(t),null!=e&&(this._locale=e),this)}function me(){return this._locale}function ve(t){switch(t=D(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ye(t){return t=D(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function be(){return+this._d-6e4*(this._offset||0)}function we(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date((+this)):this._d}function Se(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ke(){return c(this)}function Ce(){return o({},h(this))}function De(){return h(this).overflow}function Te(t,e){P(0,[t,t.length],0,e)}function _e(t,e,i){return at(Tt([t,11,31+e-i]),e,i).week}function Ee(t){var e=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Me(t){var e=at(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ae(){return _e(this.year(),1,4)}function Ie(){var t=this.localeData()._week;return _e(this.year(),t.dow,t.doy)}function Pe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Re(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function He(t){return this._weekdays[t.day()]}function $e(t){return this._weekdaysShort[t.day()]}function Le(t){return this._weekdaysMin[t.day()]}function Oe(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=Tt([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Fe(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Re(t,this.localeData()),this.add(t-e,"d")):e}function Be(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ne(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function je(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ze(t,e){return e._meridiemParse}function We(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ye(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Ge(t){P(0,[t,3],0,"millisecond")}function Ue(){return this._isUTC?"UTC":""}function Ve(){return this._isUTC?"Coordinated Universal Time":""}function qe(t){return Tt(1e3*t)}function Xe(){return Tt.apply(null,arguments).parseZone()}function Ke(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.call(e,i):n}function Qe(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Ze(){return this._invalidDate}function Je(t){return this._ordinal.replace("%d",t)}function ti(t){return t}function ei(t,e,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(t,e,i,n):s.replace(/%d/i,t)}function ii(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function ni(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function si(t,e,i,n){var s=k(),r=a().set(n,e);return s[i](r,t)}function ri(t,e,i,n,s){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return si(t,e,i,s);var r,o=[];for(r=0;n>r;r++)o[r]=si(t,r,i,s);return o}function oi(t,e){return ri(t,e,"months",12,"month")}function ai(t,e){return ri(t,e,"monthsShort",12,"month")}function li(t,e){return ri(t,e,"weekdays",7,"day")}function hi(t,e){return ri(t,e,"weekdaysShort",7,"day")}function ci(t,e){return ri(t,e,"weekdaysMin",7,"day")}function ui(){var t=this._data;return this._milliseconds=Yn(this._milliseconds),this._days=Yn(this._days),this._months=Yn(this._months),t.milliseconds=Yn(t.milliseconds),t.seconds=Yn(t.seconds),t.minutes=Yn(t.minutes),t.hours=Yn(t.hours),t.months=Yn(t.months),t.years=Yn(t.years),this}function di(t,e,i,n){var s=Vt(e,i);return t._milliseconds+=n*s._milliseconds,t._days+=n*s._days,t._months+=n*s._months,t._bubble()}function pi(t,e){return di(this,t,e,1)}function fi(t,e){return di(this,t,e,-1)}function gi(){var t,e,i,n=this._milliseconds,s=this._days,r=this._months,o=this._data,a=0;return o.milliseconds=n%1e3,t=re(n/1e3),o.seconds=t%60,e=re(t/60),o.minutes=e%60,i=re(e/60),o.hours=i%24,s+=re(i/24),a=re(mi(s)),s-=re(vi(a)),r+=re(s/30),s%=30,a+=re(r/12),r%=12,o.days=s,o.months=r,o.years=a,this}function mi(t){return 400*t/146097}function vi(t){return 146097*t/400}function yi(t){var e,i,n=this._milliseconds;if(t=D(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+12*mi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(vi(this._months/12)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function bi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function wi(t){return function(){return this.as(t)}}function xi(t){return t=D(t),this[t+"s"]()}function Si(t){return function(){return this._data[t]}}function ki(){return re(this.days()/7)}function Ci(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}function Di(t,e,i){var n=Vt(t).abs(),s=os(n.as("s")),r=os(n.as("m")),o=os(n.as("h")),a=os(n.as("d")),l=os(n.as("M")),h=os(n.as("y")),c=s<as.s&&["s",s]||1===r&&["m"]||r<as.m&&["mm",r]||1===o&&["h"]||o<as.h&&["hh",o]||1===a&&["d"]||a<as.d&&["dd",a]||1===l&&["M"]||l<as.M&&["MM",l]||1===h&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Ci.apply(null,c)}function Ti(t,e){return void 0!==as[t]&&(void 0===e?as[t]:(as[t]=e,!0))}function _i(t){var e=this.localeData(),i=Di(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Ei(){var t=ls(this.years()),e=ls(this.months()),i=ls(this.days()),n=ls(this.hours()),s=ls(this.minutes()),r=ls(this.seconds()+this.milliseconds()/1e3),o=this.asSeconds();return o?(0>o?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||s||r?"T":"")+(n?n+"H":"")+(s?s+"M":"")+(r?r+"S":""):"P0D"}var Mi,Ai,Ii=t.momentProperties=[],Pi=!1,Ri={},Hi={},$i=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Li=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Oi={},Fi={},Bi=/\d/,Ni=/\d\d/,ji=/\d{3}/,zi=/\d{4}/,Wi=/[+-]?\d{6}/,Yi=/\d\d?/,Gi=/\d{1,3}/,Ui=/\d{1,4}/,Vi=/[+-]?\d{1,6}/,qi=/\d+/,Xi=/[+-]?\d+/,Ki=/Z|[+-]\d\d:?\d\d/gi,Qi=/[+-]?\d+(\.\d{1,3})?/,Zi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ji={},tn={},en=0,nn=1,sn=2,rn=3,on=4,an=5,ln=6;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),O("M",Yi),O("MM",Yi,Ni),O("MMM",Zi),O("MMMM",Zi),N(["M","MM"],function(t,e){e[nn]=g(t)-1}),N(["MMM","MMMM"],function(t,e,i,n){var s=i._locale.monthsParse(t,n,i._strict);null!=s?e[nn]=s:h(i).invalidMonth=t});var hn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),un={};t.suppressDeprecationWarnings=!1;var dn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],fn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gn=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=Z("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),C("year","y"),O("Y",Xi),O("YY",Yi,Ni),O("YYYY",Ui,zi),O("YYYYY",Vi,Wi),O("YYYYYY",Vi,Wi),N(["YYYY","YYYYY","YYYYYY"],en),N("YY",function(e,i){i[en]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var mn=_("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),O("w",Yi),O("ww",Yi,Ni),O("W",Yi),O("WW",Yi,Ni),j(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=g(t)});var vn={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),O("DDD",Gi),O("DDDD",ji),N(["DDD","DDDD"],function(t,e,i){i._dayOfYear=g(t)}),t.ISO_8601=function(){};var yn=Z("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Tt.apply(null,arguments);return this>t?this:t}),bn=Z("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Tt.apply(null,arguments);return t>this?this:t});Pt("Z",":"),Pt("ZZ",""),O("Z",Ki),O("ZZ",Ki),N(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Rt(t)});var wn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var xn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Sn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Vt.fn=At.prototype;var kn=Qt(1,"add"),Cn=Qt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Dn=Z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Te("gggg","weekYear"),Te("ggggg","weekYear"),Te("GGGG","isoWeekYear"),Te("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),O("G",Xi),O("g",Xi),O("GG",Yi,Ni),O("gg",Yi,Ni),O("GGGG",Ui,zi),O("gggg",Ui,zi),O("GGGGG",Vi,Wi),O("ggggg",Vi,Wi),j(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=g(t)}),j(["gg","GG"],function(e,i,n,s){i[s]=t.parseTwoDigitYear(e)}),P("Q",0,0,"quarter"),C("quarter","Q"),O("Q",Bi),N("Q",function(t,e){e[nn]=3*(g(t)-1)}),P("D",["DD",2],"Do","date"),C("date","D"),O("D",Yi),O("DD",Yi,Ni),O("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),N(["D","DD"],sn),N("Do",function(t,e){e[sn]=g(t.match(Yi)[0],10)});var Tn=_("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),O("d",Yi),O("e",Yi),O("E",Yi),O("dd",Zi),O("ddd",Zi),O("dddd",Zi),j(["dd","ddd","dddd"],function(t,e,i){var n=i._locale.weekdaysParse(t);null!=n?e.d=n:h(i).invalidWeekday=t}),j(["d","e","E"],function(t,e,i,n){e[n]=g(t)});var _n="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),En="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mn="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),je("a",!0),je("A",!1),C("hour","h"),O("a",ze),O("A",ze),O("H",Yi),O("h",Yi),O("HH",Yi,Ni),O("hh",Yi,Ni),N(["H","HH"],rn),N(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),N(["h","hh"],function(t,e,i){e[rn]=g(t),h(i).bigHour=!0});var An=/[ap]\.?m?\.?/i,In=_("Hours",!0);P("m",["mm",2],0,"minute"),C("minute","m"),O("m",Yi),O("mm",Yi,Ni),N(["m","mm"],on);var Pn=_("Minutes",!1);P("s",["ss",2],0,"second"),C("second","s"),O("s",Yi),O("ss",Yi,Ni),N(["s","ss"],an);var Rn=_("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ge("SSS"),Ge("SSSS"),C("millisecond","ms"),O("S",Gi,Bi),O("SS",Gi,Ni),O("SSS",Gi,ji),O("SSSS",qi),N(["S","SS","SSS","SSSS"],function(t,e){e[ln]=g(1e3*("0."+t))});var Hn=_("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var $n=p.prototype;$n.add=kn,$n.calendar=Jt,$n.clone=te,$n.diff=oe,$n.endOf=ye,$n.format=ce,$n.from=ue,$n.fromNow=de,$n.to=pe,$n.toNow=fe,$n.get=A,$n.invalidAt=De,$n.isAfter=ee,$n.isBefore=ie,$n.isBetween=ne,$n.isSame=se,$n.isValid=ke,$n.lang=Dn,$n.locale=ge,$n.localeData=me,$n.max=bn,$n.min=yn,$n.parsingFlags=Ce,$n.set=A,$n.startOf=ve,$n.subtract=Cn,$n.toArray=Se,$n.toDate=xe,$n.toISOString=he,$n.toJSON=he,$n.toString=le,$n.unix=we,$n.valueOf=be,$n.year=mn,$n.isLeapYear=ot,$n.weekYear=Ee,$n.isoWeekYear=Me,$n.quarter=$n.quarters=Pe,$n.month=q,$n.daysInMonth=X,$n.week=$n.weeks=ut,$n.isoWeek=$n.isoWeeks=dt,$n.weeksInYear=Ie,$n.isoWeeksInYear=Ae,$n.date=Tn,$n.day=$n.days=Fe,$n.weekday=Be,$n.isoWeekday=Ne,$n.dayOfYear=ft,$n.hour=$n.hours=In,$n.minute=$n.minutes=Pn,$n.second=$n.seconds=Rn,$n.millisecond=$n.milliseconds=Hn,$n.utcOffset=Lt,$n.utc=Ft,$n.local=Bt,$n.parseZone=Nt,$n.hasAlignedHourOffset=jt,$n.isDST=zt,$n.isDSTShifted=Wt,$n.isLocal=Yt,$n.isUtcOffset=Gt,$n.isUtc=Ut,$n.isUTC=Ut,$n.zoneAbbr=Ue,$n.zoneName=Ve,$n.dates=Z("dates accessor is deprecated. Use date instead.",Tn),$n.months=Z("months accessor is deprecated. Use month instead",q),$n.years=Z("years accessor is deprecated. Use year instead",mn),$n.zone=Z("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ot);var Ln=$n,On={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Bn="Invalid date",Nn="%d",jn=/\d{1,2}/,zn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",
MM:"%d months",y:"a year",yy:"%d years"},Wn=v.prototype;Wn._calendar=On,Wn.calendar=Ke,Wn._longDateFormat=Fn,Wn.longDateFormat=Qe,Wn._invalidDate=Bn,Wn.invalidDate=Ze,Wn._ordinal=Nn,Wn.ordinal=Je,Wn._ordinalParse=jn,Wn.preparse=ti,Wn.postformat=ti,Wn._relativeTime=zn,Wn.relativeTime=ei,Wn.pastFuture=ii,Wn.set=ni,Wn.months=Y,Wn._months=hn,Wn.monthsShort=G,Wn._monthsShort=cn,Wn.monthsParse=U,Wn.week=lt,Wn._week=vn,Wn.firstDayOfYear=ct,Wn.firstDayOfWeek=ht,Wn.weekdays=He,Wn._weekdays=_n,Wn.weekdaysMin=Le,Wn._weekdaysMin=Mn,Wn.weekdaysShort=$e,Wn._weekdaysShort=En,Wn.weekdaysParse=Oe,Wn.isPM=We,Wn._meridiemParse=An,Wn.meridiem=Ye,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=Z("moment.lang is deprecated. Use moment.locale instead.",x),t.langData=Z("moment.langData is deprecated. Use moment.localeData instead.",k);var Yn=Math.abs,Gn=wi("ms"),Un=wi("s"),Vn=wi("m"),qn=wi("h"),Xn=wi("d"),Kn=wi("w"),Qn=wi("M"),Zn=wi("y"),Jn=Si("milliseconds"),ts=Si("seconds"),es=Si("minutes"),is=Si("hours"),ns=Si("days"),ss=Si("months"),rs=Si("years"),os=Math.round,as={s:45,m:45,h:22,d:26,M:11},ls=Math.abs,hs=At.prototype;hs.abs=ui,hs.add=pi,hs.subtract=fi,hs.as=yi,hs.asMilliseconds=Gn,hs.asSeconds=Un,hs.asMinutes=Vn,hs.asHours=qn,hs.asDays=Xn,hs.asWeeks=Kn,hs.asMonths=Qn,hs.asYears=Zn,hs.valueOf=bi,hs._bubble=gi,hs.get=xi,hs.milliseconds=Jn,hs.seconds=ts,hs.minutes=es,hs.hours=is,hs.days=ns,hs.weeks=ki,hs.months=ss,hs.years=rs,hs.humanize=_i,hs.toISOString=Ei,hs.toString=Ei,hs.toJSON=Ei,hs.locale=ge,hs.localeData=me,hs.toIsoString=Z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ei),hs.lang=Dn,P("X",0,0,"unix"),P("x",0,0,"valueOf"),O("x",Xi),O("X",Qi),N("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),N("x",function(t,e,i){i._d=new Date(g(t))}),t.version="2.10.3",e(Tt),t.fn=Ln,t.min=Et,t.max=Mt,t.utc=a,t.unix=qe,t.months=oi,t.isDate=n,t.locale=x,t.invalid=u,t.duration=Vt,t.isMoment=f,t.weekdays=li,t.parseZone=Xe,t.localeData=k,t.isDuration=It,t.monthsShort=ai,t.weekdaysMin=ci,t.defineLocale=S,t.weekdaysShort=hi,t.normalizeUnits=D,t.relativeTimeThreshold=Ti;var cs=t;return cs}),!function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(i,n,s){t.daterangepicker=e(t,s,i,n)});else if("undefined"!=typeof exports){var i=require("moment"),n="undefined"!=typeof window?window.jQuery:void 0;if(!n)try{n=require("jquery"),n.fn||(n.fn={})}catch(s){if(!n)throw new Error("jQuery dependency not found")}e(t,exports,i,n)}else t.daterangepicker=e(t,{},t.moment||moment,t.jQuery||t.Zepto||t.ender||t.$)}(this||{},function(t,e,i,n){var s=function(t,e,s){if(this.parentEl="body",this.element=n(t),this.startDate=i().startOf("day"),this.endDate=i().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:i.weekdaysMin(),monthNames:i.monthsShort(),firstDay:i.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},("object"!=typeof e||null===e)&&(e={}),e=n.extend(this.element.data(),e),"string"!=typeof e.template&&(e.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=n(e.parentEl&&n(e.parentEl).length?e.parentEl:this.parentEl),this.container=n(e.template).appendTo(this.parentEl),"object"==typeof e.locale&&("string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel&&(this.locale.customRangeLabel=e.locale.customRangeLabel)),"string"==typeof e.startDate&&(this.startDate=i(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=i(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=i(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=i(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=i(e.startDate)),"object"==typeof e.endDate&&(this.endDate=i(e.endDate)),"object"==typeof e.minDate&&(this.minDate=i(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=i(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var o,a,l;if("undefined"==typeof e.startDate&&"undefined"==typeof e.endDate&&n(this.element).is("input[type=text]")){var h=n(this.element).val(),c=h.split(this.locale.separator);o=a=null,2==c.length?(o=i(c[0],this.locale.format),a=i(c[1],this.locale.format)):this.singleDatePicker&&""!==h&&(o=i(h,this.locale.format),a=i(h,this.locale.format)),null!==o&&null!==a&&(this.setStartDate(o),this.setEndDate(a))}if("object"==typeof e.ranges){for(l in e.ranges){o="string"==typeof e.ranges[l][0]?i(e.ranges[l][0],this.locale.format):i(e.ranges[l][0]),a="string"==typeof e.ranges[l][1]?i(e.ranges[l][1],this.locale.format):i(e.ranges[l][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var u=this.maxDate;if(this.dateLimit&&o.clone().add(this.dateLimit).isAfter(u)&&(u=o.clone().add(this.dateLimit)),u&&a.isAfter(u)&&(a=u.clone()),!(this.minDate&&a.isBefore(this.minDate)||u&&o.isAfter(u))){var d=document.createElement("textarea");d.innerHTML=l,rangeHtml=d.value,this.ranges[rangeHtml]=[o,a]}}var p="<ul>";for(l in this.ranges)p+="<li>"+l+"</li>";p+="<li>"+this.locale.customRangeLabel+"</li>",p+="</ul>",this.container.find(".ranges").prepend(p)}if("function"==typeof s&&(this.callback=s),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof e.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),"undefined"!=typeof e.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof e.ranges&&"right"==this.opens){var f=this.container.find(".ranges"),g=f.clone();f.remove(),this.container.find(".calendar.left").parent().prepend(g)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",n.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",n.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",n.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",n.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",n.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",n.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",n.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",n.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",n.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",n.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",n.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",n.proxy(this.clickCancel,this)).on("click.daterangepicker","li",n.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",n.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",n.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":n.proxy(this.show,this),"focus.daterangepicker":n.proxy(this.show,this),"keyup.daterangepicker":n.proxy(this.elementChanged,this),"keydown.daterangepicker":n.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",n.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};s.prototype={constructor:s,setStartDate:function(t){"string"==typeof t&&(this.startDate=i(t,this.locale.format)),"object"==typeof t&&(this.startDate=i(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=i(t,this.locale.format)),"object"==typeof t&&(this.endDate=i(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,i;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".left .ampmselect").val();"PM"===n&&12>t&&(t+=12),"AM"===n&&12===t&&(t=0)}}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".right .ampmselect").val();"PM"===n&&12>t&&(t+=12),"AM"===n&&12===t&&(t=0)}this.leftCalendar.month.hour(t).minute(e).second(i),this.rightCalendar.month.hour(t).minute(e).second(i)}if(this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate){var s=!0,r=0;for(var o in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[o][0])&&this.endDate.isSame(this.ranges[o][1])){s=!1,this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[o][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[o][1].format("YYYY-MM-DD")){s=!1,this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").html();break}r++}s&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())}},renderCalendar:function(t){var e="left"==t?this.leftCalendar:this.rightCalendar,s=e.month.month(),r=e.month.year(),o=e.month.hour(),a=e.month.minute(),l=e.month.second(),h=i([r,s]).daysInMonth(),c=i([r,s,1]),u=i([r,s,h]),d=i(c).subtract(1,"month").month(),p=i(c).subtract(1,"month").year(),f=i([p,d]).daysInMonth(),g=c.day(),e=[];e.firstDay=c,e.lastDay=u;for(var m=0;6>m;m++)e[m]=[];var v=f-g+this.locale.firstDay+1;v>f&&(v-=7),g==this.locale.firstDay&&(v=f-6);for(var y,b,w=i([p,d,v,12,a,l]),m=0,y=0,b=0;42>m;m++,y++,w=i(w).add(24,"hour"))m>0&&y%7===0&&(y=0,b++),e[b][y]=w.clone().hour(o).minute(a).second(l),w.hour(12),this.minDate&&e[b][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[b][y].isBefore(this.minDate)&&"left"==t&&(e[b][y]=this.minDate.clone()),this.maxDate&&e[b][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[b][y].isAfter(this.maxDate)&&"right"==t&&(e[b][y]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var x="left"==t?this.minDate:this.startDate,S=this.maxDate,k=("left"==t?this.startDate:this.endDate,'<table class="table-condensed">');k+="<thead>",k+="<tr>",this.showWeekNumbers&&(k+="<th></th>"),k+=x&&!x.isBefore(e.firstDay)||this.linkedCalendars&&"left"!=t?"<th></th>":'<th class="prev available"><i class="fa fa-angle-left"></i></th>';var C=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var D=e[1][1].month(),T=e[1][1].year(),_=S&&S.year()||T+5,E=x&&x.year()||T-50,M=T==E,A=T==_,I='<select class="monthselect">',P=0;12>P;P++)I+=(!M||P>=x.month())&&(!A||P<=S.month())?"<option value='"+P+"'"+(P===D?" selected='selected'":"")+">"+this.locale.monthNames[P]+"</option>":"<option value='"+P+"'"+(P===D?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[P]+"</option>";I+="</select>";for(var R='<select class="yearselect">',H=E;_>=H;H++)R+='<option value="'+H+'"'+(H===T?' selected="selected"':"")+">"+H+"</option>";R+="</select>",C=I+R}if(k+='<th colspan="5" class="month">'+C+"</th>",k+=S&&!S.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-angle-right"></i></th>',k+="</tr>",k+="<tr>",this.showWeekNumbers&&(k+='<th class="week">'+this.locale.weekLabel+"</th>"),n.each(this.locale.daysOfWeek,function(t,e){k+="<th>"+e+"</th>"}),k+="</tr>",k+="</thead>",k+="<tbody>",null==this.endDate&&this.dateLimit){var $=this.startDate.clone().add(this.dateLimit).endOf("day");(!S||$.isBefore(S))&&(S=$)}for(var b=0;6>b;b++){k+="<tr>",this.showWeekNumbers&&(k+='<td class="week">'+e[b][0].week()+"</td>");for(var y=0;7>y;y++){var L=[];e[b][y].isSame(new Date,"day")&&L.push("today"),e[b][y].isoWeekday()>5&&L.push("weekend"),e[b][y].month()!=e[1][1].month()&&L.push("off"),this.minDate&&e[b][y].isBefore(this.minDate,"day")&&L.push("off","disabled"),S&&e[b][y].isAfter(S,"day")&&L.push("off","disabled"),this.isInvalidDate(e[b][y])&&L.push("off","disabled"),e[b][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&L.push("active","start-date"),null!=this.endDate&&e[b][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&L.push("active","end-date"),null!=this.endDate&&e[b][y]>this.startDate&&e[b][y]<this.endDate&&L.push("in-range");for(var O="",F=!1,m=0;m<L.length;m++)O+=L[m]+" ","disabled"==L[m]&&(F=!0);F||(O+="available"),k+='<td class="'+O.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+y+'">'+e[b][y].date()+"</td>"}k+="</tr>"}k+="</tbody>",k+="</table>",this.container.find(".calendar."+t+" .calendar-table").html(k)},renderTimePicker:function(t){var e,i,n,s=this.maxDate;!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(s=this.startDate.clone().add(this.dateLimit)),"left"==t?(i=this.startDate.clone(),n=this.minDate):"right"==t&&(i=this.endDate?this.endDate.clone():this.startDate.clone(),n=this.startDate),e='<select class="hourselect">';for(var r=this.timePicker24Hour?0:1,o=this.timePicker24Hour?23:12,a=r;o>=a;a++){var l=a;this.timePicker24Hour||(l=i.hour()>=12?12==a?12:a+12:12==a?0:a);var h=i.clone().hour(l),c=!1;n&&h.minute(59).isBefore(n)&&(c=!0),s&&h.minute(0).isAfter(s)&&(c=!0),e+=l!=i.hour()||c?c?'<option value="'+a+'" disabled="disabled" class="disabled">'+a+"</option>":'<option value="'+a+'">'+a+"</option>":'<option value="'+a+'" selected="selected">'+a+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(var a=0;60>a;a+=this.timePickerIncrement){var u=10>a?"0"+a:a,h=i.clone().minute(a),c=!1;n&&h.second(59).isBefore(n)&&(c=!0),s&&h.second(0).isAfter(s)&&(c=!0),e+=i.minute()!=a||c?c?'<option value="'+a+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+a+'">'+u+"</option>":'<option value="'+a+'" selected="selected">'+u+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(var a=0;60>a;a++){var u=10>a?"0"+a:a,h=i.clone().second(a),c=!1;n&&h.isBefore(n)&&(c=!0),s&&h.isAfter(s)&&(c=!0),e+=i.second()!=a||c?c?'<option value="'+a+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+a+'">'+u+"</option>":'<option value="'+a+'" selected="selected">'+u+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var d="",p="";n&&i.clone().hour(12).minute(0).second(0).isBefore(n)&&(d=' disabled="disabled" class="disabled"'),s&&i.clone().hour(0).minute(0).second(0).isAfter(s)&&(p=' disabled="disabled" class="disabled"'),e+=i.hour()>=12?'<option value="AM"'+d+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":'<option value="AM" selected="selected"'+d+'>AM</option><option value="PM"'+p+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,e={top:0,left:0},i=n(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>n(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=n.proxy(function(t){this.outsideClick(t)},this),n(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),n(window).on("resize.daterangepicker",n.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),n(document).off(".daterangepicker"),n(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=n(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.innerHTML;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),this.clickApply()}},clickPrev:function(t){var e=n(t.target).parents(".calendar");e.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){var e=n(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&n(t.target).hasClass("available")){var e=n(t.target).attr("data-title"),i=e.substr(1,1),s=e.substr(3,1),r=n(t.target).parents(".calendar"),o=r.hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];this.endDate?this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format));var a=this.leftCalendar,l=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".calendar td").each(function(t,e){if(!n(e).hasClass("week")){var i=n(e).attr("data-title"),s=i.substr(1,1),r=i.substr(3,1),c=n(e).parents(".calendar"),u=c.hasClass("left")?a.calendar[s][r]:l.calendar[s][r];u.isAfter(h)&&u.isBefore(o)?n(e).addClass("in-range"):n(e).removeClass("in-range")}})}},clickDate:function(t){if(n(t.target).hasClass("available")){var e=n(t.target).attr("data-title"),i=e.substr(1,1),s=e.substr(3,1),r=n(t.target).parents(".calendar"),o=r.hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];if(this.endDate||o.isBefore(this.startDate)){if(this.timePicker){var a=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=r.find(".ampmselect").val();"PM"===l&&12>a&&(a+=12),"AM"===l&&12===a&&(a=0)}var h=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(a).minute(h).second(c)}this.endDate=null,this.setStartDate(o.clone())}else{if(this.timePicker){var a=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&12>a&&(a+=12),"AM"===l&&12===a&&(a=0)}var h=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(a).minute(h).second(c)}this.setEndDate(o.clone()),this.autoApply&&this.clickApply()}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=n(t.target).closest(".calendar").hasClass("left"),i=e?"left":"right",s=this.container.find(".calendar."+i),r=parseInt(s.find(".monthselect").val(),10),o=s.find(".yearselect").val();e||(o<this.startDate.year()||o==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),o=this.maxDate.year()),e?(this.leftCalendar.month.month(r).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var e=n(t.target).closest(".calendar"),i=e.hasClass("left"),s=parseInt(e.find(".hourselect").val(),10),r=parseInt(e.find(".minuteselect").val(),10),o=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var a=e.find(".ampmselect").val();"PM"===a&&12>s&&(s+=12),"AM"===a&&12===s&&(s=0)}if(i){var l=this.startDate.clone();l.hour(s),l.minute(r),l.second(o),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var h=this.endDate.clone();h.hour(s),h.minute(r),h.second(o),this.setEndDate(h)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(t){var e=n(t.target).closest(".calendar").hasClass("right"),s=i(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),r=i(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);s.isValid()&&r.isValid()&&(e&&r.isBefore(s)&&(s=r.clone()),this.setStartDate(s),
this.setEndDate(r),e?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var t=this.element.val().split(this.locale.separator),e=null,n=null;2===t.length&&(e=i(t[0],this.locale.format),n=i(t[1],this.locale.format)),(this.singleDatePicker||null===e||null===n)&&(e=i(this.element.val(),this.locale.format),n=e),e.isValid()&&n.isValid()&&(this.setStartDate(e),this.setEndDate(n),this.updateView())}},keydown:function(t){(9===t.keyCode||13===t.keyCode)&&this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},n.fn.daterangepicker=function(t,e){return this.each(function(){var i=n(this);i.data("daterangepicker")&&i.data("daterangepicker").remove(),i.data("daterangepicker",new s(i,t,e))}),this}}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function i(t){return V(t,Vt)}function n(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function s(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function r(){t("body").addClass("fc-not-allowed")}function o(){t("body").removeClass("fc-not-allowed")}function a(e,i,n){var s=Math.floor(i/e.length),r=Math.floor(i-s*(e.length-1)),o=[],a=[],h=[],c=0;l(e),e.each(function(i,n){var l=i===e.length-1?r:s,u=t(n).outerHeight(!0);u<l?(o.push(n),a.push(u),h.push(t(n).height())):c+=u}),n&&(i-=c,s=Math.floor(i/o.length),r=Math.floor(i-s*(o.length-1))),t(o).each(function(e,i){var n=e===o.length-1?r:s,l=a[e],c=h[e],u=n-(l-c);l<n&&t(i).height(u)})}function l(t){t.height("")}function h(e){var i=0;return e.find("> *").each(function(e,n){var s=t(n).outerWidth();s>i&&(i=s)}),i++,e.width(i),i}function c(t,e){var i,n=t.add(e);return n.css({position:"relative",left:-1}),i=t.outerHeight()-e.outerHeight(),n.css({position:"",left:""}),i}function u(e){var i=e.css("position"),n=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&n.length?n:t(e[0].ownerDocument||document)}function d(t,e){var i=t.offset(),n=i.left-(e?e.left:0),s=i.top-(e?e.top:0);return{left:n,right:n+t.outerWidth(),top:s,bottom:s+t.outerHeight()}}function p(t,e){var i=t.offset(),n=g(t),s=i.left+y(t,"border-left-width")+n.left-(e?e.left:0),r=i.top+y(t,"border-top-width")+n.top-(e?e.top:0);return{left:s,right:s+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function f(t,e){var i=t.offset(),n=i.left+y(t,"border-left-width")+y(t,"padding-left")-(e?e.left:0),s=i.top+y(t,"border-top-width")+y(t,"padding-top")-(e?e.top:0);return{left:n,right:n+t.width(),top:s,bottom:s+t.height()}}function g(t){var e=t.innerWidth()-t[0].clientWidth,i={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return m()&&"rtl"==t.css("direction")?i.left=e:i.right=e,i}function m(){return null===qt&&(qt=v()),qt}function v(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=e.children(),n=i.offset().left>e.offset().left;return e.remove(),n}function y(t,e){return parseFloat(t.css(e))||0}function b(t){return 1==t.which&&!t.ctrlKey}function w(t){if(void 0!==t.pageX)return t.pageX;var e=t.originalEvent.touches;return e?e[0].pageX:void 0}function x(t){if(void 0!==t.pageY)return t.pageY;var e=t.originalEvent.touches;return e?e[0].pageY:void 0}function S(t){return/^touch/.test(t.type)}function k(t){t.addClass("fc-unselectable").on("selectstart",C)}function C(t){t.preventDefault()}function D(t){return!!window.addEventListener&&(window.addEventListener("scroll",t,!0),!0)}function T(t){return!!window.removeEventListener&&(window.removeEventListener("scroll",t,!0),!0)}function _(t,e){var i={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return i.left<i.right&&i.top<i.bottom&&i}function E(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function M(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function A(t,e){return{left:t.left-e.left,top:t.top-e.top}}function I(e){var i,n,s=[],r=[];for("string"==typeof e?r=e.split(/\s*,\s*/):"function"==typeof e?r=[e]:t.isArray(e)&&(r=e),i=0;i<r.length;i++)n=r[i],"string"==typeof n?s.push("-"==n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&s.push({func:n});return s}function P(t,e,i){var n,s;for(n=0;n<i.length;n++)if(s=R(t,e,i[n]))return s;return 0}function R(t,e,i){return i.func?i.func(t,e):H(t[i.field],e[i.field])*(i.order||1)}function H(e,i){return e||i?null==i?-1:null==e?1:"string"===t.type(e)||"string"===t.type(i)?String(e).localeCompare(String(i)):e-i:0}function $(t,e){var i,n,s,r,o=t.start,a=t.end,l=e.start,h=e.end;if(a>l&&o<h)return o>=l?(i=o.clone(),s=!0):(i=l.clone(),s=!1),a<=h?(n=a.clone(),r=!0):(n=h.clone(),r=!1),{start:i,end:n,isStart:s,isEnd:r}}function L(t,i){return e.duration({days:t.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:t.time()-i.time()})}function O(t,i){return e.duration({days:t.clone().stripTime().diff(i.clone().stripTime(),"days")})}function F(t,i,n){return e.duration(Math.round(t.diff(i,n,!0)),n)}function B(t,e){var i,n,s;for(i=0;i<Kt.length&&(n=Kt[i],s=N(n,t,e),!(s>=1&&ot(s)));i++);return n}function N(t,i,n){return null!=n?n.diff(i,t,!0):e.isDuration(i)?i.as(t):i.end.diff(i.start,t,!0)}function j(t,e,i){var n;return Y(i)?(e-t)/i:(n=i.asMonths(),Math.abs(n)>=1&&ot(n)?e.diff(t,"months",!0)/n:e.diff(t,"days",!0)/i.asDays())}function z(t,e){var i,n;return Y(t)||Y(e)?t/e:(i=t.asMonths(),n=e.asMonths(),Math.abs(i)>=1&&ot(i)&&Math.abs(n)>=1&&ot(n)?i/n:t.asDays()/e.asDays())}function W(t,i){var n;return Y(t)?e.duration(t*i):(n=t.asMonths(),Math.abs(n)>=1&&ot(n)?e.duration({months:n*i}):e.duration({days:t.asDays()*i}))}function Y(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function G(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function U(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function V(t,e){var i,n,s,r,o,a,l={};if(e)for(i=0;i<e.length;i++){for(n=e[i],s=[],r=t.length-1;r>=0;r--)if(o=t[r][n],"object"==typeof o)s.unshift(o);else if(void 0!==o){l[n]=o;break}s.length&&(l[n]=V(s))}for(i=t.length-1;i>=0;i--){a=t[i];for(n in a)n in l||(l[n]=a[n])}return l}function q(t){var e=function(){};return e.prototype=t,new e}function X(t,e){for(var i in t)K(t,i)&&(e[i]=t[i])}function K(t,e){return Qt.call(t,e)}function Q(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function Z(e,i,n){if(t.isFunction(e)&&(e=[e]),e){var s,r;for(s=0;s<e.length;s++)r=e[s].apply(i,n)||r;return r}}function J(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function tt(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function et(t){return t.replace(/&.*?;/g,"")}function it(e){var i=[];return t.each(e,function(t,e){null!=e&&i.push(t+":"+e)}),i.join(";")}function nt(e){var i=[];return t.each(e,function(t,e){null!=e&&i.push(t+'="'+tt(e)+'"')}),i.join(" ")}function st(t){return t.charAt(0).toUpperCase()+t.slice(1)}function rt(t,e){return t-e}function ot(t){return t%1===0}function at(t,e){var i=t[e];return function(){return i.apply(t,arguments)}}function lt(t,e,i){var n,s,r,o,a,l=function(){var h=+new Date-o;h<e?n=setTimeout(l,e-h):(n=null,i||(a=t.apply(r,s),r=s=null))};return function(){r=this,s=arguments,o=+new Date;var h=i&&!n;return n||(n=setTimeout(l,e)),h&&(a=t.apply(r,s),r=s=null),a}}function ht(e,i){return e&&e.then&&"resolved"!==e.state()?i?e.then(i):void 0:t.when(i())}function ct(i,n,s){var r,o,a,l,h=i[0],c=1==i.length&&"string"==typeof h;return e.isMoment(h)||G(h)||void 0===h?l=e.apply(null,i):(r=!1,o=!1,c?Zt.test(h)?(h+="-01",i=[h],r=!0,o=!0):(a=Jt.exec(h))&&(r=!a[5],o=!0):t.isArray(h)&&(o=!0),l=n||r?e.utc.apply(e,i):e.apply(null,i),r?(l._ambigTime=!0,l._ambigZone=!0):s&&(o?l._ambigZone=!0:c&&l.utcOffset(h))),l._fullCalendar=!0,l}function ut(t,e){return ee.format.call(t,e)}function dt(t,e){return pt(t,yt(e))}function pt(t,e){var i,n="";for(i=0;i<e.length;i++)n+=ft(t,e[i]);return n}function ft(t,e){var i,n;return"string"==typeof e?e:(i=e.token)?ne[i]?ne[i](t):ut(t,i):e.maybe&&(n=pt(t,e.maybe),n.match(/[1-9]/))?n:""}function gt(t,e,i,n,s){var r;return t=Gt.moment.parseZone(t),e=Gt.moment.parseZone(e),r=t.localeData(),i=r.longDateFormat(i)||i,n=n||" - ",mt(t,e,yt(i),n,s)}function mt(t,e,i,n,s){var r,o,a,l,h=t.clone().stripZone(),c=e.clone().stripZone(),u="",d="",p="",f="",g="";for(o=0;o<i.length&&(r=vt(t,e,h,c,i[o]),r!==!1);o++)u+=r;for(a=i.length-1;a>o&&(r=vt(t,e,h,c,i[a]),r!==!1);a--)d=r+d;for(l=o;l<=a;l++)p+=ft(t,i[l]),f+=ft(e,i[l]);return(p||f)&&(g=s?f+n+p:p+n+f),u+g+d}function vt(t,e,i,n,s){var r,o;return"string"==typeof s?s:!!((r=s.token)&&(o=se[r.charAt(0)],o&&i.isSame(n,o)))&&ut(t,r)}function yt(t){return t in re?re[t]:re[t]=bt(t)}function bt(t){for(var e,i=[],n=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=n.exec(t);)e[1]?i.push(e[1]):e[2]?i.push({maybe:bt(e[2])}):e[3]?i.push({token:e[3]}):e[5]&&i.push(e[5]);return i}function wt(){}function xt(t,e){var i;return K(e,"constructor")&&(i=e.constructor),"function"!=typeof i&&(i=e.constructor=function(){t.apply(this,arguments)}),i.prototype=q(t.prototype),X(e,i.prototype),X(t,i),i}function St(t,e){X(e,t.prototype)}function kt(t,e){return!t&&!e||!(!t||!e)&&t.component===e.component&&Ct(t,e)&&Ct(e,t)}function Ct(t,e){for(var i in t)if(!/^(component|left|right|top|bottom)$/.test(i)&&t[i]!==e[i])return!1;return!0}function Dt(t){return{start:t.start.clone(),end:t.end?t.end.clone():null,allDay:t.allDay}}function Tt(t){var e=Et(t);return"background"===e||"inverse-background"===e}function _t(t){return"inverse-background"===Et(t)}function Et(t){return J((t.source||{}).rendering,t.rendering)}function Mt(t){var e,i,n={};for(e=0;e<t.length;e++)i=t[e],(n[i._id]||(n[i._id]=[])).push(i);return n}function At(t,e){return t.start-e.start}function It(i){var n,s,r,o,a=Gt.dataAttrPrefix;return a&&(a+="-"),n=i.data(a+"event")||null,n&&(n="object"==typeof n?t.extend({},n):{},s=n.start,null==s&&(s=n.time),r=n.duration,o=n.stick,delete n.start,delete n.time,delete n.duration,delete n.stick),null==s&&(s=i.data(a+"start")),null==s&&(s=i.data(a+"time")),null==r&&(r=i.data(a+"duration")),null==o&&(o=i.data(a+"stick")),s=null!=s?e.duration(s):null,r=null!=r?e.duration(r):null,o=Boolean(o),{eventProps:n,startTime:s,duration:r,stick:o}}function Pt(t,e){var i,n;for(i=0;i<e.length;i++)if(n=e[i],n.leftCol<=t.rightCol&&n.rightCol>=t.leftCol)return!0;return!1}function Rt(t,e){return t.leftCol-e.leftCol}function Ht(t){var e,i,n,s=[];for(e=0;e<t.length;e++){for(i=t[e],n=0;n<s.length&&Ot(i,s[n]).length;n++);i.level=n,(s[n]||(s[n]=[])).push(i)}return s}function $t(t){var e,i,n,s,r;for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for(s=i[n],s.forwardSegs=[],r=e+1;r<t.length;r++)Ot(s,t[r],s.forwardSegs)}function Lt(t){var e,i,n=t.forwardSegs,s=0;if(void 0===t.forwardPressure){for(e=0;e<n.length;e++)i=n[e],Lt(i),s=Math.max(s,1+i.forwardPressure);t.forwardPressure=s}}function Ot(t,e,i){i=i||[];for(var n=0;n<e.length;n++)Ft(t,e[n])&&i.push(e[n]);return i}function Ft(t,e){return t.bottom>e.top&&t.top<e.bottom}function Bt(i,n){function s(t){t._locale=U}function r(){X?h()&&(f(),c()):o()}function o(){i.addClass("fc"),i.on("click.fc","a[data-goto]",function(e){var i=t(this),n=i.data("goto"),s=G.moment(n.date),r=n.type,o=Q.opt("navLink"+st(r)+"Click");"function"==typeof o?o(s,e):("string"==typeof o&&(r=o),L(s,r))}),G.bindOption("theme",function(t){K=t?"ui":"fc",i.toggleClass("ui-widget",t),i.toggleClass("fc-unthemed",!t)}),G.bindOptions(["isRTL","locale"],function(t){i.toggleClass("fc-ltr",!t),i.toggleClass("fc-rtl",t)}),X=t("<div class='fc-view-container'/>").prependTo(i),V=G.header=new zt(G),a(),c(G.options.defaultView),G.options.handleWindowResize&&(J=lt(v,G.options.windowResizeDelay),t(window).resize(J))}function a(){V.render(),V.el&&i.prepend(V.el)}function l(){Q&&Q.removeElement(),V.removeElement(),X.remove(),i.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),i.off(".fc"),J&&t(window).unbind("resize",J)}function h(){return i.is(":visible")}function c(e,i){at++,Q&&e&&Q.type!==e&&(F(),u()),!Q&&e&&(Q=G.view=ot[e]||(ot[e]=G.instantiateView(e)),Q.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(X)),V.activateButton(e)),Q&&(tt=Q.massageCurrentDate(tt),Q.displaying&&tt>=Q.intervalStart&&tt<Q.intervalEnd||h()&&(Q.display(tt,i),B(),D(),T(),x())),B(),at--}function u(){V.deactivateButton(Q.type),Q.removeElement(),Q=G.view=null}function d(){at++,F();var t=Q.type,e=Q.queryScroll();u(),c(t,e),B(),at--}function p(t){if(h())return t&&g(),at++,Q.updateSize(!0),at--,!0}function f(){h()&&g()}function g(){var t=G.options.contentHeight,e=G.options.height;Z="number"==typeof t?t:"function"==typeof t?t():"number"==typeof e?e-m():"function"==typeof e?e()-m():"parent"===e?i.parent().height()-m():Math.round(X.width()/Math.max(G.options.aspectRatio,.5))}function m(){return V.el?V.el.outerHeight(!0):0}function v(t){!at&&t.target===window&&Q.start&&p(!0)&&Q.trigger("windowResize",rt)}function y(){S()}function b(t){nt(G.getEventSourcesByMatchArray(t))}function w(){h()&&(F(),Q.displayEvents(ht),B())}function x(){!G.options.lazyFetching||et(Q.start,Q.end)?S():w()}function S(){it(Q.start,Q.end)}function k(t){ht=t,w()}function C(){w()}function D(){V.updateTitle(Q.title)}function T(){var t=G.getNow();t>=Q.intervalStart&&t<Q.intervalEnd?V.disableButton("today"):V.enableButton("today")}function _(t,e){Q.select(G.buildSelectSpan.apply(G,arguments))}function E(){Q&&Q.unselect()}function M(){tt=Q.computePrevDate(tt),c()}function A(){tt=Q.computeNextDate(tt),c()}function I(){tt.add(-1,"years"),c()}function P(){tt.add(1,"years"),c()}function R(){tt=G.getNow(),c()}function H(t){tt=G.moment(t).stripZone(),c()}function $(t){tt.add(e.duration(t)),c()}function L(t,e){var i;e=e||"day",i=G.getViewSpec(e)||G.getUnitViewSpec(e),tt=t.clone(),c(i?i.type:null)}function O(){return G.applyTimezone(tt)}function F(){X.css({width:"100%",height:X.height(),overflow:"hidden"})}function B(){X.css({width:"",height:"",overflow:""})}function N(){return G}function j(){return Q}function z(t,e){var i;if("string"==typeof t){if(void 0===e)return G.options[t];i={},i[t]=e,W(i)}else"object"==typeof t&&W(t)}function W(t){var e,i=0;for(e in t)G.dynamicOverrides[e]=t[e];G.viewSpecCache={},G.populateOptionsHash();for(e in t)G.triggerOptionHandlers(e),i++;if(1===i){if("height"===e||"contentHeight"===e||"aspectRatio"===e)return void p(!0);if("defaultDate"===e)return;if("businessHours"===e)return void(Q&&(Q.unrenderBusinessHours(),Q.renderBusinessHours()));if("timezone"===e)return G.rezoneArrayEventSources(),void y()}a(),ot={},d()}function Y(t,e){var i=Array.prototype.slice.call(arguments,2);if(e=e||rt,this.triggerWith(t,e,i),G.options[t])return G.options[t].apply(e,i)}var G=this;G.render=r,G.destroy=l,G.refetchEvents=y,G.refetchEventSources=b,G.reportEvents=k,G.reportEventChange=C,G.rerenderEvents=w,G.changeView=c,G.select=_,G.unselect=E,G.prev=M,G.next=A,G.prevYear=I,G.nextYear=P,G.today=R,G.gotoDate=H,G.incrementDate=$,G.zoomTo=L,G.getDate=O,G.getCalendar=N,G.getView=j,G.option=z,G.trigger=Y,G.dynamicOverrides={},G.viewSpecCache={},G.optionHandlers={},G.overrides=t.extend({},n),G.populateOptionsHash();var U;G.bindOptions(["locale","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(t,e,i,n,r,o,a){if("iso"===a&&(a="ISO"),U=q(jt(t)),e&&(U._months=e),i&&(U._monthsShort=i),n&&(U._weekdays=n),r&&(U._weekdaysShort=r),null==o&&"ISO"===a&&(o=1),null!=o){var l=q(U._week);l.dow=o,U._week=l}"ISO"!==a&&"local"!==a&&"function"!=typeof a||(U._fullCalendar_weekCalc=a),tt&&s(tt)}),G.defaultAllDayEventDuration=e.duration(G.options.defaultAllDayEventDuration),G.defaultTimedEventDuration=e.duration(G.options.defaultTimedEventDuration),G.moment=function(){var t;return"local"===G.options.timezone?(t=Gt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===G.options.timezone?Gt.moment.utc.apply(null,arguments):Gt.moment.parseZone.apply(null,arguments),s(t),t},G.localizeMoment=s,G.getIsAmbigTimezone=function(){return"local"!==G.options.timezone&&"UTC"!==G.options.timezone},G.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,i=G.moment(t.toArray()),n=t.time()-i.time();return n&&(e=i.clone().add(n),t.time()-e.time()===0&&(i=e)),i},G.getNow=function(){var t=G.options.now;return"function"==typeof t&&(t=t()),G.moment(t).stripZone()},G.getEventEnd=function(t){return t.end?t.end.clone():G.getDefaultEventEnd(t.allDay,t.start)},G.getDefaultEventEnd=function(t,e){var i=e.clone();return t?i.stripTime().add(G.defaultAllDayEventDuration):i.add(G.defaultTimedEventDuration),G.getIsAmbigTimezone()&&i.stripZone(),i},G.humanizeDuration=function(t){return t.locale(G.options.locale).humanize()},Wt.call(G);var V,X,K,Q,Z,J,tt,et=G.isFetchNeeded,it=G.fetchEvents,nt=G.fetchEventSources,rt=i[0],ot={},at=0,ht=[];tt=null!=G.options.defaultDate?G.moment(G.options.defaultDate).stripZone():G.getNow(),G.getSuggestedViewHeight=function(){return void 0===Z&&f(),Z},G.isHeightAuto=function(){return"auto"===G.options.contentHeight||"auto"===G.options.height},G.freezeContentHeight=F,G.unfreezeContentHeight=B,G.initialize()}function Nt(e){t.each(De,function(t,i){null==e[t]&&(e[t]=i(e))})}function jt(t){return e.localeData(t)||e.localeData("en")}function zt(e){function i(){var i=e.options,r=i.header;p=i.theme?"ui":"fc",r?(d?d.empty():d=this.el=t("<div class='fc-toolbar'/>"),d.append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>')):n()}function n(){d&&(d.remove(),d=u.el=null)}function s(i){var n=t('<div class="fc-'+i+'"/>'),s=e.options,r=s.header[i];return r&&t.each(r.split(" "),function(i){var r,o=t(),a=!0;t.each(this.split(","),function(i,n){var r,l,h,c,u,d,g,m,v,y;"title"==n?(o=o.add(t("<h2>&nbsp;</h2>")),a=!1):((r=(s.customButtons||{})[n])?(h=function(t){r.click&&r.click.call(y[0],t)},c="",u=r.text):(l=e.getViewSpec(n))?(h=function(){e.changeView(n)},f.push(n),c=l.buttonTextOverride,u=l.buttonTextDefault):e[n]&&(h=function(){e[n]()},c=(e.overrides.buttonText||{})[n],u=s.buttonText[n]),h&&(d=r?r.themeIcon:s.themeButtonIcons[n],g=r?r.icon:s.buttonIcons[n],m=c?tt(c):d&&s.theme?"<span class='ui-icon ui-icon-"+d+"'></span>":g&&!s.theme?"<span class='fc-icon fc-icon-"+g+"'></span>":tt(u),v=["fc-"+n+"-button",p+"-button",p+"-state-default"],y=t('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(t){y.hasClass(p+"-state-disabled")||(h(t),(y.hasClass(p+"-state-active")||y.hasClass(p+"-state-disabled"))&&y.removeClass(p+"-state-hover"))}).mousedown(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){y.removeClass(p+"-state-down")}).hover(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){y.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),o=o.add(y)))}),a&&o.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),o.length>1?(r=t("<div/>"),a&&r.addClass("fc-button-group"),r.append(o),n.append(r)):n.append(o)}),n}function r(t){d&&d.find("h2").text(t)}function o(t){d&&d.find(".fc-"+t+"-button").addClass(p+"-state-active")}function a(t){d&&d.find(".fc-"+t+"-button").removeClass(p+"-state-active")}function l(t){d&&d.find(".fc-"+t+"-button").prop("disabled",!0).addClass(p+"-state-disabled")}function h(t){d&&d.find(".fc-"+t+"-button").prop("disabled",!1).removeClass(p+"-state-disabled")}function c(){return f}var u=this;u.render=i,u.removeElement=n,u.updateTitle=r,u.activateButton=o,u.deactivateButton=a,u.disableButton=l,u.enableButton=h,u.getViewsWithButtons=c,u.el=null;var d,p,f=[]}function Wt(){function i(t,e){return!B||t<B||e>N}function n(t,e){B=t,N=e,s(W,"reset")}function s(t,e){var i,n;for("reset"===e?G=[]:"add"!==e&&(G=w(G,t)),i=0;i<t.length;i++)n=t[i],"pending"!==n._status&&Y++,n._fetchId=(n._fetchId||0)+1,n._status="pending";for(i=0;i<t.length;i++)n=t[i],r(n,n._fetchId)}function r(e,i){l(e,function(n){var s,r,o,l=t.isArray(e.events);if(i===e._fetchId&&"rejected"!==e._status){if(e._status="resolved",n)for(s=0;s<n.length;s++)r=n[s],o=l?r:E(r,e),o&&G.push.apply(G,P(o));a()}})}function o(t){var e="pending"===t._status;t._status="rejected",e&&a()}function a(){Y--,Y||j(G)}function l(e,i){var n,s,r=Gt.sourceFetchers;for(n=0;n<r.length;n++){if(s=r[n].call($,e,B.clone(),N.clone(),$.options.timezone,i),s===!0)return;if("object"==typeof s)return void l(s,i)}var o=e.events;if(o)t.isFunction(o)?($.pushLoading(),o.call($,B.clone(),N.clone(),$.options.timezone,function(t){i(t),$.popLoading()})):t.isArray(o)?i(o):i();else{var a=e.url;if(a){var h,c=e.success,u=e.error,d=e.complete;h=t.isFunction(e.data)?e.data():e.data;var p=t.extend({},h||{}),f=J(e.startParam,$.options.startParam),g=J(e.endParam,$.options.endParam),m=J(e.timezoneParam,$.options.timezoneParam);f&&(p[f]=B.format()),g&&(p[g]=N.format()),$.options.timezone&&"local"!=$.options.timezone&&(p[m]=$.options.timezone),$.pushLoading(),t.ajax(t.extend({},Te,e,{data:p,success:function(e){e=e||[];var n=Z(c,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){Z(u,this,arguments),i()},complete:function(){Z(d,this,arguments),$.popLoading()}}))}else i()}}function h(t){var e=c(t);e&&(W.push(e),s([e],"add"))}function c(e){var i,n,s=Gt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?i={events:e}:"string"==typeof e?i={url:e}:"object"==typeof e&&(i=t.extend({},e)),i){for(i.className?"string"==typeof i.className&&(i.className=i.className.split(/\s+/)):i.className=[],t.isArray(i.events)&&(i.origArray=i.events,i.events=t.map(i.events,function(t){return E(t,i)})),n=0;n<s.length;n++)s[n].call($,i);return i}}function u(t){p(v(t))}function d(t){null==t?p(W,!0):p(m(t))}function p(e,i){var n;for(n=0;n<e.length;n++)o(e[n]);i?(W=[],G=[]):(W=t.grep(W,function(t){for(n=0;n<e.length;n++)if(t===e[n])return!1;return!0}),G=w(G,e)),j(G)}function f(){return W.slice(1)}function g(e){return t.grep(W,function(t){return t.id&&t.id===e})[0]}function m(e){e?t.isArray(e)||(e=[e]):e=[];var i,n=[];for(i=0;i<e.length;i++)n.push.apply(n,v(e[i]));return n}function v(e){var i,n;for(i=0;i<W.length;i++)if(n=W[i],n===e)return[n];return n=g(e),n?[n]:t.grep(W,function(t){return y(e,t)})}function y(t,e){return t&&e&&b(t)==b(e)}function b(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function w(e,i){return t.grep(e,function(t){for(var e=0;e<i.length;e++)if(t.source===i[e])return!1;return!0})}function x(t){t.start=$.moment(t.start),t.end?t.end=$.moment(t.end):t.end=null,R(t,S(t)),j(G)}function S(e){var i={};return t.each(e,function(t,e){k(t)&&void 0!==e&&Q(e)&&(i[t]=e)}),i}function k(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function C(t,e){var i,n,s,r=E(t);if(r){for(i=P(r),n=0;n<i.length;n++)s=i[n],s.source||(e&&(z.events.push(s),s.source=z),G.push(s));return j(G),i}return[]}function D(e){var i,n;for(null==e?e=function(){return!0}:t.isFunction(e)||(i=e+"",e=function(t){return t._id==i}),G=t.grep(G,e,!0),n=0;n<W.length;n++)t.isArray(W[n].events)&&(W[n].events=t.grep(W[n].events,e,!0));j(G)}function T(e){return t.isFunction(e)?t.grep(G,e):null!=e?(e+="",t.grep(G,function(t){return t._id==e})):G}function _(t){t.start=$.moment(t.start),t.end&&(t.end=$.moment(t.end)),Yt(t)}function E(i,n){var s,r,o,a={};if($.options.eventDataTransform&&(i=$.options.eventDataTransform(i)),n&&n.eventDataTransform&&(i=n.eventDataTransform(i)),t.extend(a,i),n&&(a.source=n),a._id=i._id||(void 0===i.id?"_fc"+_e++:i.id+""),i.className?"string"==typeof i.className?a.className=i.className.split(/\s+/):a.className=i.className:a.className=[],s=i.start||i.date,r=i.end,U(s)&&(s=e.duration(s)),U(r)&&(r=e.duration(r)),i.dow||e.isDuration(s)||e.isDuration(r))a.start=s?e.duration(s):null,a.end=r?e.duration(r):null,a._recurring=!0;else{if(s&&(s=$.moment(s),!s.isValid()))return!1;r&&(r=$.moment(r),r.isValid()||(r=null)),o=i.allDay,void 0===o&&(o=J(n?n.allDayDefault:void 0,$.options.allDayDefault)),M(s,r,o,a)}return $.normalizeEvent(a),a}function M(t,e,i,n){n.start=t,n.end=e,n.allDay=i,A(n),Yt(n)}function A(t){I(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||($.options.forceEventDuration?t.end=$.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function I(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=$.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=$.applyTimezone(t.end.time(0))))}function P(e,i,n){var s,r,o,a,l,h,c,u,d,p=[];if(i=i||B,n=n||N,e)if(e._recurring){if(r=e.dow)for(s={},o=0;o<r.length;o++)s[r[o]]=!0;for(a=i.clone().stripTime();a.isBefore(n);)s&&!s[a.day()]||(l=e.start,h=e.end,c=a.clone(),u=null,l&&(c=c.time(l)),h&&(u=a.clone().time(h)),d=t.extend({},e),M(c,u,!l&&!h,d),p.push(d)),a.add(1,"days")}else p.push(e);return p}function R(e,i,n){function s(t,e){return n?F(t,e,n):i.allDay?O(t,e):L(t,e)}var r,o,a,l,h,c,u={};return i=i||{},i.start||(i.start=e.start.clone()),void 0===i.end&&(i.end=e.end?e.end.clone():null),null==i.allDay&&(i.allDay=e.allDay),A(i),r={start:e._start.clone(),end:e._end?e._end.clone():$.getDefaultEventEnd(e._allDay,e._start),allDay:i.allDay},A(r),o=null!==e._end&&null===i.end,a=s(i.start,r.start),i.end?(l=s(i.end,r.end),h=l.subtract(a)):h=null,t.each(i,function(t,e){k(t)&&void 0!==e&&(u[t]=e)}),c=H(T(e._id),o,i.allDay,a,h,u),{dateDelta:a,durationDelta:h,undo:c}}function H(e,i,n,s,r,o){var a=$.getIsAmbigTimezone(),l=[];return s&&!s.valueOf()&&(s=null),r&&!r.valueOf()&&(r=null),t.each(e,function(e,h){var c,u;c={start:h.start.clone(),end:h.end?h.end.clone():null,allDay:h.allDay},t.each(o,function(t){c[t]=h[t]}),u={start:h._start,end:h._end,allDay:n},A(u),i?u.end=null:r&&!u.end&&(u.end=$.getDefaultEventEnd(u.allDay,u.start)),s&&(u.start.add(s),u.end&&u.end.add(s)),r&&u.end.add(r),a&&!u.allDay&&(s||r)&&(u.start.stripZone(),u.end&&u.end.stripZone()),t.extend(h,o,u),Yt(h),l.push(function(){t.extend(h,c),Yt(h)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}var $=this;$.isFetchNeeded=i,$.fetchEvents=n,$.fetchEventSources=s,$.getEventSources=f,$.getEventSourceById=g,$.getEventSourcesByMatchArray=m,$.getEventSourcesByMatch=v,$.addEventSource=h,$.removeEventSource=u,$.removeEventSources=d,$.updateEvent=x,$.renderEvent=C,$.removeEvents=D,$.clientEvents=T,$.mutateEvent=R,$.normalizeEventDates=A,$.normalizeEventTimes=I;var B,N,j=$.reportEvents,z={events:[]},W=[z],Y=0,G=[];t.each(($.options.events?[$.options.events]:[]).concat($.options.eventSources||[]),function(t,e){var i=c(e);i&&W.push(i)}),$.rezoneArrayEventSources=function(){var e,i,n;for(e=0;e<W.length;e++)if(i=W[e].events,t.isArray(i))for(n=0;n<i.length;n++)_(i[n])},$.buildEventFromInput=E,$.expandEvent=P,$.getEventCache=function(){return G}}function Yt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Gt=t.fullCalendar={version:"3.0.1",internalApiVersion:6},Ut=Gt.views={};t.fn.fullCalendar=function(e){var i=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(s,r){var o,a=t(r),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(o=l[e].apply(l,i),s||(n=o),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new xe(a,e),a.data("fullCalendar",l),l.render())}),n};var Vt=["header","buttonText","buttonIcons","themeButtonIcons"];Gt.intersectRanges=$,Gt.applyAll=Z,Gt.debounce=lt,Gt.isInt=ot,Gt.htmlEscape=tt,Gt.cssToStr=it,Gt.proxy=at,Gt.capitaliseFirstLetter=st,Gt.getOuterRect=d,Gt.getClientRect=p,Gt.getContentRect=f,Gt.getScrollbarWidths=g;var qt=null;Gt.preventDefault=C,Gt.intersectRects=_,Gt.parseFieldSpecs=I,Gt.compareByFieldSpecs=P,Gt.compareByFieldSpec=R,Gt.flexibleCompare=H,Gt.computeIntervalUnit=B,Gt.divideRangeByDuration=j,Gt.divideDurationByDuration=z,Gt.multiplyDuration=W,Gt.durationHasTime=Y;var Xt=["sun","mon","tue","wed","thu","fri","sat"],Kt=["year","month","week","day","hour","minute","second","millisecond"];Gt.log=function(){var t=window.console;if(t&&t.log)return t.log.apply(t,arguments)},Gt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):Gt.log.apply(Gt,arguments)};var Qt={}.hasOwnProperty,Zt=/^\s*\d{4}-\d\d$/,Jt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,te=e.fn,ee=t.extend({},te),ie=e.momentProperties;ie.push("_fullCalendar"),ie.push("_ambigTime"),ie.push("_ambigZone"),Gt.moment=function(){return ct(arguments)},Gt.moment.utc=function(){var t=ct(arguments,!0);return t.hasTime()&&t.utc(),t},Gt.moment.parseZone=function(){return ct(arguments,!0,!0)},te.week=te.weeks=function(t){var e=this._locale._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?ee.isoWeek.apply(this,arguments):ee.week.apply(this,arguments)},te.time=function(t){if(!this._fullCalendar)return ee.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var i=0;return e.isDuration(t)&&(i=24*Math.floor(t.asDays())),this.hours(i+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},te.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},te.hasTime=function(){return!this._ambigTime},te.stripZone=function(){var t;return this._ambigZone||(t=this._ambigTime,this.utc(!0),this._ambigTime=t||!1,this._ambigZone=!0),this},te.hasZone=function(){return!this._ambigZone},te.local=function(t){return ee.local.call(this,this._ambigZone||t),this._ambigTime=!1,this._ambigZone=!1,this},te.utc=function(t){return ee.utc.call(this,t),this._ambigTime=!1,this._ambigZone=!1,this},te.utcOffset=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),ee.utcOffset.apply(this,arguments)},te.format=function(){return this._fullCalendar&&arguments[0]?dt(this,arguments[0]):this._ambigTime?ut(this,"YYYY-MM-DD"):this._ambigZone?ut(this,"YYYY-MM-DD[T]HH:mm:ss"):ee.format.apply(this,arguments)},te.toISOString=function(){return this._ambigTime?ut(this,"YYYY-MM-DD"):this._ambigZone?ut(this,"YYYY-MM-DD[T]HH:mm:ss"):ee.toISOString.apply(this,arguments)};var ne={t:function(t){return ut(t,"a").charAt(0)},T:function(t){return ut(t,"A").charAt(0)}};Gt.formatRange=gt;var se={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},re={},oe={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};Gt.queryMostGranularFormatUnit=function(t){var e,i,n,s,r=yt(t);
for(e=0;e<r.length;e++)i=r[e],i.token&&(n=oe[i.token.charAt(0)],n&&(!s||n.value>s.value)&&(s=n));return s?s.unit:null},Gt.Class=wt,wt.extend=function(){var t,e,i=arguments.length;for(t=0;t<i;t++)e=arguments[t],t<i-1&&St(this,e);return xt(this,e||{})},wt.mixin=function(t){St(this,t)};var ae=Gt.EmitterMixin={on:function(e,i){var n=function(t,e){return i.apply(e.context||this,e.args||[])};return i.guid||(i.guid=t.guid++),n.guid=i.guid,t(this).on(e,n),this},off:function(e,i){return t(this).off(e,i),this},trigger:function(e){var i=Array.prototype.slice.call(arguments,1);return t(this).triggerHandler(e,{args:i}),this},triggerWith:function(e,i,n){return t(this).triggerHandler(e,{context:i,args:n}),this}},le=Gt.ListenerMixin=function(){var e=0,i={listenerId:null,listenTo:function(e,i,n){if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&this.listenTo(e,s,i[s]);else"string"==typeof i&&e.on(i+"."+this.getListenerNamespace(),t.proxy(n,this))},stopListeningTo:function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=e++),"_listener"+this.listenerId}};return i}(),he={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(t){this.delayUnignoreMouse=lt(at(this,"unignoreMouse"),t||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},ce=wt.extend(le,{isHidden:!0,options:null,el:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,i=this.options;this.el=t('<div class="fc-popover"/>').addClass(i.className||"").css({top:0,left:0}).append(i.content).appendTo(i.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),i.autoHide&&this.listenTo(t(document),"mousedown",this.documentMousedown)},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(t(document),"mousedown")},position:function(){var e,i,n,s,r,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),h=this.el.outerHeight(),c=t(window),d=u(this.el);s=o.top||0,r=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,d.is(window)||d.is(document)?(d=c,e=0,i=0):(n=d.offset(),e=n.top,i=n.left),e+=c.scrollTop(),i+=c.scrollLeft(),o.viewportConstrain!==!1&&(s=Math.min(s,e+d.outerHeight()-h-this.margin),s=Math.max(s,e+this.margin),r=Math.min(r,i+d.outerWidth()-l-this.margin),r=Math.max(r,i+this.margin)),this.el.css({top:s-a.top,left:r-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),ue=Gt.CoordCache=wt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var e=[],i=[];this.els.each(function(n,s){var r=t(s),o=r.offset().left,a=r.outerWidth();e.push(o),i.push(o+a)}),this.lefts=e,this.rights=i},buildElVerticals:function(){var e=[],i=[];this.els.each(function(n,s){var r=t(s),o=r.offset().top,a=r.outerHeight();e.push(o),i.push(o+a)}),this.tops=e,this.bottoms=i},getHorizontalIndex:function(t){this.ensureBuilt();var e,i=this.lefts,n=this.rights,s=i.length;for(e=0;e<s;e++)if(t>=i[e]&&t<n[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,i=this.tops,n=this.bottoms,s=i.length;for(e=0;e<s;e++)if(t>=i[e]&&t<n[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]},queryBoundingRect:function(){var t=u(this.els.eq(0));if(!t.is(document))return p(t)},isPointInBounds:function(t,e){return this.isLeftInBounds(t)&&this.isTopInBounds(e)},isLeftInBounds:function(t){return!this.boundingRect||t>=this.boundingRect.left&&t<this.boundingRect.right},isTopInBounds:function(t){return!this.boundingRect||t>=this.boundingRect.top&&t<this.boundingRect.bottom}}),de=Gt.DragListener=wt.extend(le,he,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(t){this.options=t||{},this.handleTouchScrollProxy=at(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(e,i){var n=S(e);if("mousedown"===e.type){if(this.isIgnoringMouse)return;if(!b(e))return;e.preventDefault()}this.isInteracting||(i=i||{},this.delay=J(i.delay,this.options.delay,0),this.minDistance=J(i.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=n,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=w(e),this.originY=x(e),this.scrollEl=u(t(e.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(e),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e))},handleInteractionStart:function(t){this.trigger("interactionStart",t)},endInteraction:function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(t,e){this.trigger("interactionEnd",t,e||!1)},bindHandlers:function(){var e=this,i=1;this.isTouch?(this.listenTo(t(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(t){i?i--:e.endInteraction(t,!0)}}),!D(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(t(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t(document),{selectstart:C,contextmenu:C})},unbindHandlers:function(){this.stopListeningTo(t(document)),T(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},handleDragStart:function(t){this.trigger("dragStart",t)},handleMove:function(t){var e,i=w(t)-this.originX,n=x(t)-this.originY,s=this.minDistance;this.isDistanceSurpassed||(e=i*i+n*n,e>=s*s&&this.handleDistanceSurpassed(t)),this.isDragging&&this.handleDrag(i,n,t)},handleDrag:function(t,e,i){this.trigger("drag",t,e,i),this.updateAutoScroll(i)},endDrag:function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},handleDragEnd:function(t){this.trigger("dragEnd",t)},startDelay:function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout(function(){e.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},handleDelayEnd:function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},handleDistanceSurpassed:function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},handleTouchMove:function(t){this.isDragging&&t.preventDefault(),this.handleMove(t)},handleMouseMove:function(t){this.handleMove(t)},handleTouchScroll:function(t){this.isDragging||this.endInteraction(t,!0)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+t]&&this["_"+t].apply(this,Array.prototype.slice.call(arguments,1))}});de.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",lt(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=d(this.scrollEl))},updateAutoScroll:function(t){var e,i,n,s,r=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(e=(r-(x(t)-o.top))/r,i=(r-(o.bottom-x(t)))/r,n=(r-(w(t)-o.left))/r,s=(r-(o.right-w(t)))/r,e>=0&&e<=1?a=e*this.scrollSpeed*-1:i>=0&&i<=1&&(a=i*this.scrollSpeed),n>=0&&n<=1?l=n*this.scrollSpeed*-1:s>=0&&s<=1&&(l=s*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(at(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var pe=de.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){de.call(this,e),this.component=t},handleInteractionStart:function(t){var e,i,n,s=this.subjectEl;this.computeCoords(),t?(i={left:w(t),top:x(t)},n=i,s&&(e=d(s),n=E(n,e)),this.origHit=this.queryHit(n.left,n.top),s&&this.options.subjectCenter&&(this.origHit&&(e=_(this.origHit,e)||e),n=M(e)),this.coordAdjust=A(n,i)):(this.origHit=null,this.coordAdjust=null),de.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(t){var e;de.prototype.handleDragStart.apply(this,arguments),e=this.queryHit(w(t),x(t)),e&&this.handleHitOver(e)},handleDrag:function(t,e,i){var n;de.prototype.handleDrag.apply(this,arguments),n=this.queryHit(w(i),x(i)),kt(n,this.hit)||(this.hit&&this.handleHitOut(),n&&this.handleHitOver(n))},handleDragEnd:function(){this.handleHitDone(),de.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(t){var e=kt(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){de.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){de.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),fe=wt.extend(le,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,i){this.options=i=i||{},this.sourceEl=e,this.parentEl=i.parentEl?t(i.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.y0=x(e),this.x0=w(e),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),S(e)?this.listenTo(t(document),"touchmove",this.handleMove):this.listenTo(t(document),"mousemove",this.handleMove))},stop:function(e,i){function n(){s.isAnimating=!1,s.removeElement(),s.top0=s.left0=null,i&&i()}var s=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(t(document)),e&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:n})):n())},getEl:function(){var t=this.el;return t||(t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),t.addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(t){this.topDelta=x(t)-this.y0,this.leftDelta=w(t)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),ge=Gt.Grid=wt.extend(le,he,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,i=this.view;this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),t=i.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=i.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?F(t,e,this.largeUnit):L(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(t,e){},getHitSpan:function(t){},getHitEl:function(t){},setElement:function(t){this.el=t,this.hasDayInteractions&&(k(t),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown)),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(e,i){var n=this;this.el.on(e,function(e){if(!t(e.target).is(n.segSelector+","+n.segSelector+" *,.fc-more,a[data-goto]"))return i.call(n,e)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(t(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},dayMousedown:function(t){this.isIgnoringMouse||this.dayDragListener.startInteraction(t,{})},dayTouchStart:function(t){var e=this.view;(e.isSelected||e.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(t,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var t,e,i=this,n=this.view,s=n.opt("selectable"),a=new pe(this,{scroll:n.opt("dragScroll"),interactionStart:function(){t=a.origHit,e=null},dragStart:function(){n.unselect()},hitOver:function(n,o,a){a&&(o||(t=null),s&&(e=i.computeSelection(i.getHitSpan(a),i.getHitSpan(n)),e?i.renderSelection(e):e===!1&&r()))},hitOut:function(){t=null,e=null,i.unrenderSelection()},hitDone:function(){o()},interactionEnd:function(s,r){r||(t&&!i.isIgnoringMouse&&n.triggerDayClick(i.getHitSpan(t),i.getHitEl(t),s),e&&n.reportSelection(e,s))}});return a},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(t,e){var i=this.fabricateHelperEvent(t,e);return this.renderHelper(i,e)},fabricateHelperEvent:function(t,e){var i=e?q(e.event):{};return i.start=t.start.clone(),i.end=t.end?t.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventDates(i),i.className=(i.className||[]).concat("fc-helper"),e||(i.editable=!1),i},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var i=this.computeSelectionSpan(t,e);return!(i&&!this.view.calendar.isSelectionSpanAllowed(i))&&i},computeSelectionSpan:function(t,e){var i=[t.start,t.end,e.start,e.end];return i.sort(rt),{start:i[0].clone(),end:i[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,i){var n,s=this,r=this[e+"SegEl"],o="",a=[];if(i.length){for(n=0;n<i.length;n++)o+=this.fillSegHtml(e,i[n]);t(o).each(function(e,n){var o=i[e],l=t(n);r&&(l=r.call(s,o,l)),l&&(l=t(l),l.is(s.fillSegTag)&&(o.el=l,a.push(o)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var i=this[t+"SegClasses"],n=this[t+"SegCss"],s=i?i.call(this,e):[],r=it(n?n.call(this,e):{});return"<"+this.fillSegTag+(s.length?' class="'+s.join(" ")+'"':"")+(r?' style="'+r+'"':"")+" />"},getDayClasses:function(t){var e=this.view,i=e.calendar.getNow(),n=["fc-"+Xt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&n.push("fc-other-month"),t.isSame(i,"day")?n.push("fc-today",e.highlightStateClass):t<i?n.push("fc-past"):n.push("fc-future"),n}});ge.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,i=[],n=[];for(e=0;e<t.length;e++)(Tt(t[e])?i:n).push(t[e]);this.segs=[].concat(this.renderBgEvents(i),this.renderFgEvents(n))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(e,i){var n,s=this.view,r="",o=[];if(e.length){for(n=0;n<e.length;n++)r+=this.fgSegHtml(e[n],i);t(r).each(function(i,n){var r=e[i],a=s.resolveEventEl(r.event,t(n));a&&(a.data("fc-seg",r),r.el=a,o.push(r))})}return o},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,i=e.source||{};return["fc-bgevent"].concat(e.className,i.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(e){var i=this.view.calendar.getCurrentBusinessHourEvents(e);return!i.length&&this.view.calendar.options.businessHours&&(i=[t.extend({},Ee,{start:this.view.end,end:this.view.end,dow:null})]),this.eventsToSegs(i)},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(t){this.bindSegHandlerToEl(t,"touchstart",this.handleSegTouchStart),this.bindSegHandlerToEl(t,"touchend",this.handleSegTouchEnd),this.bindSegHandlerToEl(t,"mouseenter",this.handleSegMouseover),this.bindSegHandlerToEl(t,"mouseleave",this.handleSegMouseout),this.bindSegHandlerToEl(t,"mousedown",this.handleSegMousedown),this.bindSegHandlerToEl(t,"click",this.handleSegClick)},bindSegHandlerToEl:function(e,i,n){var s=this;e.on(i,this.segSelector,function(e){var i=t(this).data("fc-seg");if(i&&!s.isDraggingSeg&&!s.isResizingSeg)return n.call(s,i,e)})},handleSegClick:function(t,e){var i=this.view.trigger("eventClick",t.el[0],t.event,e);i===!1&&e.preventDefault()},handleSegMouseover:function(t,e){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=t,this.view.isEventResizable(t.event)&&t.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",t.el[0],t.event,e))},handleSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(t.event)&&t.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",t.el[0],t.event,e))},handleSegMousedown:function(t,e){var i=this.startSegResize(t,e,{distance:5});!i&&this.view.isEventDraggable(t.event)&&this.buildSegDragListener(t).startInteraction(e,{distance:5})},handleSegTouchStart:function(t,e){var i,n=this.view,s=t.event,r=n.isEventSelected(s),o=n.isEventDraggable(s),a=n.isEventResizable(s),l=!1;r&&a&&(l=this.startSegResize(t,e)),l||!o&&!a||(i=o?this.buildSegDragListener(t):this.buildSegSelectListener(t),i.startInteraction(e,{delay:r?0:this.view.opt("longPressDelay")})),this.tempIgnoreMouse()},handleSegTouchEnd:function(t,e){this.tempIgnoreMouse()},startSegResize:function(e,i,n){return!!t(i.target).is(".fc-resizer")&&(this.buildSegResizeListener(e,t(i.target).is(".fc-start-resizer")).startInteraction(i,n),!0)},buildSegDragListener:function(t){var e,i,n,s=this,a=this.view,l=a.calendar,h=t.el,c=t.event;if(this.segDragListener)return this.segDragListener;var u=this.segDragListener=new pe(a,{scroll:a.opt("dragScroll"),subjectEl:h,subjectCenter:!0,interactionStart:function(n){t.component=s,e=!1,i=new fe(t.el,{additionalClass:"fc-dragging",parentEl:a.el,opacity:u.isTouch?null:a.opt("dragOpacity"),revertDuration:a.opt("dragRevertDuration"),zIndex:2}),i.hide(),i.start(n)},dragStart:function(i){u.isTouch&&!a.isEventSelected(c)&&a.selectEvent(c),e=!0,s.handleSegMouseout(t,i),s.segDragStart(t,i),a.hideEvent(c)},hitOver:function(e,o,h){var d;t.hit&&(h=t.hit),n=s.computeEventDrop(h.component.getHitSpan(h),e.component.getHitSpan(e),c),n&&!l.isEventSpanAllowed(s.eventToSpan(n),c)&&(r(),n=null),n&&(d=a.renderDrag(n,t))?(d.addClass("fc-dragging"),u.isTouch||s.applyDragOpacity(d),i.hide()):i.show(),o&&(n=null)},hitOut:function(){a.unrenderDrag(),i.show(),n=null},hitDone:function(){o()},interactionEnd:function(r){delete t.component,i.stop(!n,function(){e&&(a.unrenderDrag(),a.showEvent(c),s.segDragStop(t,r)),n&&a.reportEventDrop(c,n,this.largeUnit,h,r)}),s.segDragListener=null}});return u},buildSegSelectListener:function(t){var e=this,i=this.view,n=t.event;if(this.segDragListener)return this.segDragListener;var s=this.segDragListener=new de({dragStart:function(t){s.isTouch&&!i.isEventSelected(n)&&i.selectEvent(n)},interactionEnd:function(t){e.segDragListener=null}});return s},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,i){var n,s,r=this.view.calendar,o=t.start,a=e.start;return o.hasTime()===a.hasTime()?(n=this.diffDates(a,o),i.allDay&&Y(n)?(s={start:i.start.clone(),end:r.getEventEnd(i),allDay:!1},r.normalizeEventTimes(s)):s=Dt(i),s.start.add(n),s.end&&s.end.add(n)):s={start:a.clone(),end:null,allDay:!a.hasTime()},s},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.css("opacity",e)},externalDragStart:function(e,i){var n,s,r=this.view;r.opt("droppable")&&(n=t((i?i.item:null)||e.target),s=r.opt("dropAccept"),(t.isFunction(s)?s.call(n[0],n):n.is(s))&&(this.isDraggingExternal||this.listenToExternalDrag(n,e,i)))},listenToExternalDrag:function(t,e,i){var n,s=this,a=this.view.calendar,l=It(t),h=s.externalDragListener=new pe(this,{interactionStart:function(){s.isDraggingExternal=!0},hitOver:function(t){n=s.computeExternalDrop(t.component.getHitSpan(t),l),n&&!a.isExternalSpanAllowed(s.eventToSpan(n),n,l.eventProps)&&(r(),n=null),n&&s.renderDrag(n)},hitOut:function(){n=null},hitDone:function(){o(),s.unrenderDrag()},interactionEnd:function(e){n&&s.view.reportExternalDrop(l,n,t,e,i),s.isDraggingExternal=!1,s.externalDragListener=null}});h.startDrag(e)},computeExternalDrop:function(t,e){var i=this.view.calendar,n={start:i.applyTimezone(t.start),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),n},renderDrag:function(t,e){},unrenderDrag:function(){},buildSegResizeListener:function(t,e){var i,n,s=this,a=this.view,l=a.calendar,h=t.el,c=t.event,u=l.getEventEnd(c),d=this.segResizeListener=new pe(this,{scroll:a.opt("dragScroll"),subjectEl:h,interactionStart:function(){i=!1},dragStart:function(e){i=!0,s.handleSegMouseout(t,e),s.segResizeStart(t,e)},hitOver:function(i,o,h){var d=s.getHitSpan(h),p=s.getHitSpan(i);n=e?s.computeEventStartResize(d,p,c):s.computeEventEndResize(d,p,c),n&&(l.isEventSpanAllowed(s.eventToSpan(n),c)?n.start.isSame(c.start.clone().stripZone())&&n.end.isSame(u.clone().stripZone())&&(n=null):(r(),n=null)),n&&(a.hideEvent(c),s.renderEventResize(n,t))},hitOut:function(){n=null},hitDone:function(){s.unrenderEventResize(),a.showEvent(c),o()},interactionEnd:function(e){i&&s.segResizeStop(t,e),n&&a.reportEventResize(c,n,this.largeUnit,h,e),s.segResizeListener=null}});return d},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,i){return this.computeEventResize("start",t,e,i)},computeEventEndResize:function(t,e,i){return this.computeEventResize("end",t,e,i)},computeEventResize:function(t,e,i,n){var s,r,o=this.view.calendar,a=this.diffDates(i[t],e[t]);return s={start:n.start.clone(),end:o.getEventEnd(n),allDay:n.allDay},s.allDay&&Y(a)&&(s.allDay=!1,o.normalizeEventTimes(s)),s[t].add(a),s.start.isBefore(s.end)||(r=this.minResizeDuration||(n.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==t?s.start=s.end.clone().subtract(r):s.end=s.start.clone().add(r)),s},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,i){return null==e&&(e=this.eventTimeFormat),null==i&&(i=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?i&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,i){var n=this.view,s=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(t));return e&&s.push("fc-draggable"),i&&s.push("fc-resizable"),n.isEventSelected(t.event)&&s.push("fc-selected"),s},getSegCustomClasses:function(t){var e=t.event;return[].concat(e.className,e.source?e.source.className:[])},getSegSkinCss:function(t){return{"background-color":this.getSegBackgroundColor(t),"border-color":this.getSegBorderColor(t),color:this.getSegTextColor(t)}},getSegBackgroundColor:function(t){return t.event.backgroundColor||t.event.color||this.getSegDefaultBackgroundColor(t)},getSegDefaultBackgroundColor:function(t){var e=t.event.source||{};return e.backgroundColor||e.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(t){return t.event.borderColor||t.event.color||this.getSegDefaultBorderColor(t)},getSegDefaultBorderColor:function(t){var e=t.event.source||{};return e.borderColor||e.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(t){return t.event.textColor||this.getSegDefaultTextColor(t)},getSegDefaultTextColor:function(t){var e=t.event.source||{};return e.textColor||this.view.opt("eventTextColor")},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,i){var n=this,s=Mt(e),r=[];return t.each(s,function(t,e){var s,o=[];for(s=0;s<e.length;s++)o.push(n.eventToRange(e[s]));if(_t(e[0]))for(o=n.invertRanges(o),s=0;s<o.length;s++)r.push.apply(r,n.eventRangeToSegs(o[s],e[0],i));else for(s=0;s<o.length;s++)r.push.apply(r,n.eventRangeToSegs(o[s],e[s],i))}),r},eventToRange:function(t){var e=this.view.calendar,i=t.start.clone().stripZone(),n=(t.end?t.end.clone():e.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone();return e.localizeMoment(i),e.localizeMoment(n),{start:i,end:n}},eventRangeToSegs:function(t,e,i){var n,s=this.eventRangeToSpans(t,e),r=[];for(n=0;n<s.length;n++)r.push.apply(r,this.eventSpanToSegs(s[n],e,i));return r},eventRangeToSpans:function(e,i){return[t.extend({},e)]},eventSpanToSegs:function(t,e,i){var n,s,r=i?i(t):this.spanToSegs(t);for(n=0;n<r.length;n++)s=r[n],s.event=e,s.eventStartMS=+t.start,s.eventDurationMS=t.end-t.start;return r},invertRanges:function(t){var e,i,n=this.view,s=n.start.clone(),r=n.end.clone(),o=[],a=s;for(t.sort(At),e=0;e<t.length;e++)i=t[e],i.start>a&&o.push({start:a,end:i.start}),a=i.end;return a<r&&o.push({start:a,end:r}),o},sortEventSegs:function(t){t.sort(at(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||P(t.event,e.event,this.view.eventOrderSpecs)}}),Gt.pluckEventDateProps=Dt,Gt.isBgEvent=Tt,Gt.dataAttrPrefix="";var me=Gt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,i,n=this.view,s=this.start.clone(),r=-1,o=[],a=[];s.isBefore(this.end);)n.isHiddenDay(s)?o.push(r+.5):(r++,o.push(r),a.push(s.clone())),s.add(1,"days");if(this.breakOnWeeks){for(e=a[0].day(),t=1;t<a.length&&a[t].day()!=e;t++);i=Math.ceil(a.length/t)}else i=1,t=a.length;this.dayDates=a,this.dayIndices=o,this.daysPerRow=t,this.rowCnt=i,this.updateDayTableCols()},updateDayTableCols:function(){
this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var i=this.getCellDate(t,e),n=i.clone().add(1,"days");return{start:i,end:n}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,i=t.diff(this.start,"days");return i<0?e[0]-1:i>=e.length?e[e.length-1]+1:e[i]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,i,n,s,r,o=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),h=this.getDateDayIndex(a.end.clone().subtract(1,"days")),c=[];for(e=0;e<this.rowCnt;e++)i=e*o,n=i+o-1,s=Math.max(l,i),r=Math.min(h,n),s=Math.ceil(s),r=Math.floor(r),s<=r&&c.push({row:e,firstRowDayIndex:s-i,lastRowDayIndex:r-i,isStart:s===l,isEnd:r===h});return c},sliceRangeByDay:function(t){var e,i,n,s,r,o,a=this.daysPerRow,l=this.view.computeDayRange(t),h=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),u=[];for(e=0;e<this.rowCnt;e++)for(i=e*a,n=i+a-1,s=i;s<=n;s++)r=Math.max(h,s),o=Math.min(c,s),r=Math.ceil(r),o=Math.floor(o),r<=o&&u.push({row:e,firstRowDayIndex:r-i,lastRowDayIndex:o-i,isStart:r===h,isEnd:o===c});return u},renderHeadHtml:function(){var t=this.view;return'<div class="fc-row '+t.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,i=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),i.push(this.renderHeadDateCellHtml(e));return i.join("")},renderHeadDateCellHtml:function(t,e,i){var n=this.view;return'<th class="fc-day-header '+n.widgetHeaderClass+" fc-"+Xt[t.day()]+'"'+(1===this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(i?" "+i:"")+">"+n.buildGotoAnchorHtml({date:t,forceOff:this.rowCnt>1||1===this.colCnt},tt(t.format(this.colHeadFormat)))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(t){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,i,n=[];for(e=0;e<this.colCnt;e++)i=this.getCellDate(t,e),n.push(this.renderBgCellHtml(i));return n.join("")},renderBgCellHtml:function(t,e){var i=this.view,n=this.getDayClasses(t);return n.unshift("fc-day",i.widgetContentClass),'<td class="'+n.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},ve=Gt.DayGrid=ge.extend(me,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,i,n=this.view,s=this.rowCnt,r=this.colCnt,o="";for(e=0;e<s;e++)o+=this.renderDayRowHtml(e,t);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new ue({els:this.rowEls,isVertical:!0}),this.colCoordCache=new ue({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;e<s;e++)for(i=0;i<r;i++)n.trigger("dayRender",null,this.getCellDate(e,i),this.getCellEl(e,i))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",t,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(t,e){var i=this.view,n=["fc-row","fc-week",i.widgetContentClass];return e&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(t){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,i,n=[];for(e=0;e<this.colCnt;e++)i=this.getCellDate(t,e),n.push(this.renderNumberCellHtml(i));return n.join("")},renderNumberCellHtml:function(t){var e,i,n="";return this.view.dayNumbersVisible||this.view.cellWeekNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-top"),this.view.cellWeekNumbersVisible&&(i="ISO"===t._locale._fullCalendar_weekCalc?1:t._locale.firstDayOfWeek()),n+='<td class="'+e.join(" ")+'" data-date="'+t.format()+'">',this.view.cellWeekNumbersVisible&&t.day()==i&&(n+=this.view.buildGotoAnchorHtml({date:t,type:"week"},{"class":"fc-week-number"},t.format("w"))),this.view.dayNumbersVisible&&(n+=this.view.buildGotoAnchorHtml(t,{"class":"fc-day-number"},t.date())),n+="</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,i,n=this.sliceRangeByRow(t);for(e=0;e<n.length;e++)i=n[e],this.isRTL?(i.leftCol=this.daysPerRow-1-i.lastRowDayIndex,i.rightCol=this.daysPerRow-1-i.firstRowDayIndex):(i.leftCol=i.firstRowDayIndex,i.rightCol=i.lastRowDayIndex);return n},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){if(this.colCoordCache.isLeftInBounds(t)&&this.rowCoordCache.isTopInBounds(e)){var i=this.colCoordCache.getHorizontalIndex(t),n=this.rowCoordCache.getVerticalIndex(e);if(null!=n&&null!=i)return this.getCellHit(n,i)}},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){if(this.renderHighlight(this.eventToSpan(t)),e&&e.component!==this)return this.renderEventLocationHelper(t,e)},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,i){var n,s=[],r=this.eventToSegs(e);return r=this.renderFgSegEls(r),n=this.renderSegRows(r),this.rowEls.each(function(e,r){var o,a=t(r),l=t('<div class="fc-helper-skeleton"><table/></div>');o=i&&i.row===e?i.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(n[e].tbodyEl),a.append(l),s.push(l[0])}),this.helperEls=t(s)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,i,n){var s,r,o,a=[];for(i=this.renderFillSegEls(e,i),s=0;s<i.length;s++)r=i[s],o=this.renderFillRow(e,r,n),this.rowEls.eq(r.row).append(o),a.push(o[0]);return this.elsByFill[e]=t(a),i},renderFillRow:function(e,i,n){var s,r,o=this.colCnt,a=i.leftCol,l=i.rightCol+1;return n=n||e.toLowerCase(),s=t('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>'),r=s.find("tr"),a>0&&r.append('<td colspan="'+a+'"/>'),r.append(i.el.attr("colspan",l-a)),l<o&&r.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(r),s}});ve.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ge.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ge.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var i=t.grep(e,function(t){return t.event.allDay});return ge.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(e){var i;return e=this.renderFgSegEls(e),i=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,n){t(n).find(".fc-content-skeleton > table").append(i[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,i,n=[];for(e=this.groupSegRows(t),i=0;i<e.length;i++)n.push(this.renderSegRow(i,e[i]));return n},fgSegHtml:function(t,e){var i,n,s=this.view,r=t.event,o=s.isEventDraggable(r),a=!e&&r.allDay&&t.isStart&&s.isEventResizableFromStart(r),l=!e&&r.allDay&&t.isEnd&&s.isEventResizableFromEnd(r),h=this.getSegClasses(t,o,a||l),c=it(this.getSegSkinCss(t)),u="";return h.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(i=this.getEventTimeText(r),i&&(u='<span class="fc-time">'+tt(i)+"</span>")),n='<span class="fc-title">'+(tt(r.title||"")||"&nbsp;")+"</span>",'<a class="'+h.join(" ")+'"'+(r.url?' href="'+tt(r.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?n+" "+u:u+" "+n)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,i){function n(e){for(;o<e;)c=(v[s-1]||[])[o],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),a.append(c)),m[s][o]=c,v[s][o]=c,o++}var s,r,o,a,l,h,c,u=this.colCnt,d=this.buildSegLevels(i),p=Math.max(1,d.length),f=t("<tbody/>"),g=[],m=[],v=[];for(s=0;s<p;s++){if(r=d[s],o=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),r)for(l=0;l<r.length;l++){for(h=r[l],n(h.leftCol),c=t('<td class="fc-event-container"/>').append(h.el),h.leftCol!=h.rightCol?c.attr("colspan",h.rightCol-h.leftCol+1):v[s][o]=c;o<=h.rightCol;)m[s][o]=c,g[s][o]=h,o++;a.append(c)}n(u),this.bookendCells(a),f.append(a)}return{row:e,tbodyEl:f,cellMatrix:m,segMatrix:g,segLevels:d,segs:i}},buildSegLevels:function(t){var e,i,n,s=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(i=t[e],n=0;n<s.length&&Pt(i,s[n]);n++);i.level=n,(s[n]||(s[n]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(Rt);return s},groupSegRows:function(t){var e,i=[];for(e=0;e<this.rowCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].row].push(t[e]);return i}}),ve.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,i,n=this.rowStructs||[];for(e=0;e<n.length;e++)this.unlimitRow(e),i=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)),i!==!1&&this.limitRow(e,i)},computeRowLevelLimit:function(e){function i(e,i){r=Math.max(r,t(i).outerHeight())}var n,s,r,o=this.rowEls.eq(e),a=o.height(),l=this.rowStructs[e].tbodyEl.children();for(n=0;n<l.length;n++)if(s=l.eq(n).removeClass("fc-limited"),r=0,s.find("> td > :first-child").each(i),s.position().top+r>a)return n;return!1},limitRow:function(e,i){function n(n){for(;S<n;)h=b.getCellSegs(e,S,i),h.length&&(d=r[i-1][S],y=b.renderMoreLink(e,S,h),v=t("<div/>").append(y),d.append(v),x.push(v[0])),S++}var s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b=this,w=this.rowStructs[e],x=[],S=0;if(i&&i<w.segLevels.length){for(s=w.segLevels[i-1],r=w.cellMatrix,o=w.tbodyEl.children().slice(i).addClass("fc-limited").get(),a=0;a<s.length;a++){for(l=s[a],n(l.leftCol),u=[],c=0;S<=l.rightCol;)h=this.getCellSegs(e,S,i),u.push(h),c+=h.length,S++;if(c){for(d=r[i-1][l.leftCol],p=d.attr("rowspan")||1,f=[],g=0;g<u.length;g++)m=t('<td class="fc-more-cell"/>').attr("rowspan",p),h=u[g],y=this.renderMoreLink(e,l.leftCol+g,[l].concat(h)),v=t("<div/>").append(y),m.append(v),f.push(m[0]),x.push(m[0]);d.addClass("fc-limited").after(t(f)),o.push(d[0])}}n(this.colCnt),w.moreEls=t(x),w.limitedEls=t(o)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,i,n){var s=this,r=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(o){var a=r.opt("eventLimitClick"),l=s.getCellDate(e,i),h=t(this),c=s.getCellEl(e,i),u=s.getCellSegs(e,i),d=s.resliceDaySegs(u,l),p=s.resliceDaySegs(n,l);"function"==typeof a&&(a=r.trigger("eventLimitClick",null,{date:l,dayEl:c,moreEl:h,segs:d,hiddenSegs:p},o)),"popover"===a?s.showSegPopover(e,i,h,d):"string"==typeof a&&r.calendar.zoomTo(l,a)})},showSegPopover:function(t,e,i,n){var s,r,o=this,a=this.view,l=i.parent();s=1==this.rowCnt?a.el:this.rowEls.eq(t),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,n),parentEl:this.view.el,top:s.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?r.right=l.offset().left+l.outerWidth()+1:r.left=l.offset().left-1,this.segPopover=new ce(r),this.segPopover.show(),this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(e,i,n){var s,r=this.view,o=r.opt("theme"),a=this.getCellDate(e,i).format(r.opt("dayPopoverFormat")),l=t('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+tt(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),h=l.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,s=0;s<n.length;s++)this.prepareHits(),n[s].hit=this.getCellHit(e,i),this.releaseHits(),h.append(n[s].el);return l},resliceDaySegs:function(e,i){var n=t.map(e,function(t){return t.event}),s=i.clone(),r=s.clone().add(1,"days"),o={start:s,end:r};return e=this.eventsToSegs(n,function(t){var e=$(t,o);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,i){for(var n,s=this.rowStructs[t].segMatrix,r=i||0,o=[];r<s.length;)n=s[r][e],n&&o.push(n),r++;return o}});var ye=Gt.TimeGrid=ge.extend(me,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){ge.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new ue({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new ue({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,i,n,s=this.view,r=this.isRTL,o="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),i=ot(z(a,this.labelInterval)),n='<td class="fc-axis fc-time '+s.widgetContentClass+'" '+s.axisStyleAttr()+">"+(i?"<span>"+tt(t.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(i?"":' class="fc-minor"')+">"+(r?"":n)+'<td class="'+s.widgetContentClass+'"/>'+(r?n:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var i,n=this.view,s=n.opt("slotDuration"),r=n.opt("snapDuration");s=e.duration(s),r=r?e.duration(r):s,this.slotDuration=s,this.snapDuration=r,this.snapsPerSlot=s/r,this.minResizeDuration=r,this.minTime=e.duration(n.opt("minTime")),this.maxTime=e.duration(n.opt("maxTime")),i=n.opt("slotLabelFormat"),t.isArray(i)&&(i=i[i.length-1]),this.labelFormat=i||n.opt("smallTimeFormat"),i=n.opt("slotLabelInterval"),this.labelInterval=i?e.duration(i):this.computeLabelInterval(s)},computeLabelInterval:function(t){var i,n,s;for(i=Le.length-1;i>=0;i--)if(n=e.duration(Le[i]),s=z(n,t),ot(s)&&s>1)return n;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var i=this.snapsPerSlot,n=this.colCoordCache,s=this.slatCoordCache;if(n.isLeftInBounds(t)&&s.isTopInBounds(e)){var r=n.getHorizontalIndex(t),o=s.getVerticalIndex(e);if(null!=r&&null!=o){var a=s.getTopOffset(o),l=s.getHeight(o),h=(e-a)/l,c=Math.floor(h*i),u=o*i+c,d=a+c/i*l,p=a+(c+1)/i*l;return{col:r,snap:u,component:this,left:n.getLeftOffset(r),right:n.getRightOffset(r),top:d,bottom:p}}}},getHitSpan:function(t){var e,i=this.getCellDate(0,t.col),n=this.computeSnapTime(t.snap);return i.time(n),e=i.clone().add(this.snapDuration),{start:i,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,i=this.sliceRangeByTimes(t);for(e=0;e<i.length;e++)this.isRTL?i[e].col=this.daysPerRow-1-i[e].dayIndex:i[e].col=i[e].dayIndex;return i},sliceRangeByTimes:function(t){var e,i,n,s,r=[];for(i=0;i<this.daysPerRow;i++)n=this.dayDates[i].clone(),s={start:n.clone().time(this.minTime),end:n.clone().time(this.maxTime)},e=$(t,s),e&&(e.dayIndex=i,r.push(e));return r},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(t,i){return this.computeTimeTop(e.duration(t-i.clone().stripTime()))},computeTimeTop:function(t){var e,i,n=this.slatEls.length,s=(t-this.minTime)/this.slotDuration;return s=Math.max(0,s),s=Math.min(n,s),e=Math.floor(s),e=Math.min(e,n-1),i=s-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*i},renderDrag:function(t,e){return e?this.renderEventLocationHelper(t,e):void this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){return this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){return this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var i,n=this.spanToSegs({start:e,end:e}),s=this.computeDateTop(e,e),r=[];for(i=0;i<n.length;i++)r.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",s).appendTo(this.colContainerEls.eq(n[i].col))[0]);n.length>0&&r.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",s).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(r)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});ye.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,i,n="";for(e=0;e<this.colCnt;e++)n+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';i=t('<div class="fc-content-skeleton"><table><tr>'+n+"</tr></table></div>"),this.colContainerEls=i.find(".fc-content-col"),this.helperContainerEls=i.find(".fc-helper-container"),this.fgContainerEls=i.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=i.find(".fc-bgevent-container"),this.highlightContainerEls=i.find(".fc-highlight-container"),this.businessContainerEls=i.find(".fc-business-container"),this.bookendCells(i.find("tr")),this.el.append(i)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(e,i){var n,s,r,o=[];for(e=this.renderFgSegsIntoContainers(e,this.helperContainerEls),n=0;n<e.length;n++)s=e[n],i&&i.col===s.col&&(r=i.el,s.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")})),o.push(s.el[0]);return this.helperSegs=e,t(o)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,i=[];for(e=0;e<this.colCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].col].push(t[e]);return i},attachSegsByCol:function(t,e){var i,n,s;for(i=0;i<this.colCnt;i++)for(n=t[i],s=0;s<n.length;s++)e.eq(i).append(n[s].el)},unrenderNamedSegs:function(t){var e,i=this[t];if(i){for(e=0;e<i.length;e++)i[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var i,n;for(t=this.renderFgSegEls(t),i=this.groupSegsByCol(t),n=0;n<this.colCnt;n++)this.updateFgSegCoords(i[n]);return this.attachSegsByCol(i,e),t},fgSegHtml:function(t,e){var i,n,s,r=this.view,o=t.event,a=r.isEventDraggable(o),l=!e&&t.isStart&&r.isEventResizableFromStart(o),h=!e&&t.isEnd&&r.isEventResizableFromEnd(o),c=this.getSegClasses(t,a,l||h),u=it(this.getSegSkinCss(t));return c.unshift("fc-time-grid-event","fc-v-event"),r.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(i=this.getEventTimeText(t),n=this.getEventTimeText(t,"LT"),s=this.getEventTimeText(t,null,!1)):(i=this.getEventTimeText(o),n=this.getEventTimeText(o,"LT"),s=this.getEventTimeText(o,null,!1)),'<a class="'+c.join(" ")+'"'+(o.url?' href="'+tt(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(i?'<div class="fc-time" data-start="'+tt(s)+'" data-full="'+tt(n)+'"><span>'+tt(i)+"</span></div>":"")+(o.title?'<div class="fc-title">'+tt(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(h?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.top=this.computeDateTop(i.start,i.start),i.bottom=this.computeDateTop(i.end,i.start)},assignSegVerticals:function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.el.css(this.generateSegVerticalCss(i))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,i,n;if(this.sortEventSegs(t),e=Ht(t),$t(e),i=e[0]){for(n=0;n<i.length;n++)Lt(i[n]);for(n=0;n<i.length;n++)this.computeFgSegForwardBack(i[n],0,0)}},computeFgSegForwardBack:function(t,e,i){var n,s=t.forwardSegs;if(void 0===t.forwardCoord)for(s.length?(this.sortForwardSegs(s),this.computeFgSegForwardBack(s[0],e+1,i),t.forwardCoord=s[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-i)/(e+1),n=0;n<s.length;n++)this.computeFgSegForwardBack(s[n],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(at(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.el.css(this.generateFgSegHorizontalCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,i,n=this.view.opt("slotEventOverlap"),s=t.backwardCoord,r=t.forwardCoord,o=this.generateSegVerticalCss(t);return n&&(r=Math.min(1,s+2*(r-s))),this.isRTL?(e=1-r,i=s):(e=s,i=1-r),o.zIndex=t.level+1,o.left=100*e+"%",o.right=100*i+"%",n&&t.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var be=Gt.View=wt.extend(ae,le,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,i,n,s){this.calendar=t,this.type=this.name=i,this.options=n,this.intervalDuration=s||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=I(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var i=this.calendar;return i.trigger.apply(i,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,i,n=B(this.intervalDuration),s=t.clone().startOf(n),r=s.clone().add(this.intervalDuration);return/year|month|week|day/.test(n)?(s.stripTime(),r.stripTime()):(s.hasTime()||(s=this.calendar.time(0)),r.hasTime()||(r=this.calendar.time(0))),e=s.clone(),e=this.skipHiddenDays(e),i=r.clone(),i=this.skipHiddenDays(i,-1,!0),{intervalUnit:n,intervalStart:s,intervalEnd:r,start:e,end:i}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,i){var n=t.end;return n.hasTime()||(n=n.clone().subtract(1)),gt(t.start,n,e,i,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||tt(this.opt("allDayText"))},buildGotoAnchorHtml:function(e,i,n){var s,r,o,a;return t.isPlainObject(e)?(s=e.date,r=e.type,o=e.forceOff):s=e,s=Gt.moment(s),a={date:s.format("YYYY-MM-DD"),type:r||"day"},"string"==typeof i&&(n=i,i=null),i=i?" "+nt(i):"",n=n||"",!o&&this.opt("navLinks")?"<a"+i+' data-goto="'+tt(JSON.stringify(a))+'">'+n+"</a>":"<span"+i+">"+n+"</span>"},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t,e){var i=this,n=null;return null!=e&&this.displaying&&(n=this.queryScroll()),this.calendar.freezeContentHeight(),ht(this.clear(),function(){return i.displaying=ht(i.displayView(t),function(){null!=e?i.setScroll(e):i.forceScroll(i.computeInitialScroll(n)),i.calendar.unfreezeContentHeight(),i.triggerRender()})})},clear:function(){var e=this,i=this.displaying;return i?ht(i,function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(t(document),"mousedown",this.handleDocumentMousedown),this.listenTo(t(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,i,n,s=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit(),t&&(i=at(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,n=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){s.nowIndicatorTimeoutID=null,i(),n=+e.duration(1,t),n=Math.max(100,n),s.nowIndicatorIntervalID=setInterval(i,n)},n)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeInitialScroll:function(t){return 0},queryScroll:function(){},setScroll:function(t){},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0);
},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,i){var n=this.trigger("eventRender",e,e,i);return n===!1?i=null:n&&n!==!0&&(i=t(n)),i},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var i,n=this.getEventSegs();for(i=0;i<n.length;i++)e&&n[i].event._id!==e._id||n[i].el&&t.call(this,n[i])},getEventSegs:function(){return[]},isEventDraggable:function(t){return this.isEventStartEditable(t)},isEventStartEditable:function(t){return J(t.startEditable,(t.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(t))},isEventGenerallyEditable:function(t){return J(t.editable,(t.source||{}).editable,this.opt("editable"))},reportEventDrop:function(t,e,i,n,s){var r=this.calendar,o=r.mutateEvent(t,e,i),a=function(){o.undo(),r.reportEventChange()};this.triggerEventDrop(t,o.dateDelta,a,n,s),r.reportEventChange()},triggerEventDrop:function(t,e,i,n,s){this.trigger("eventDrop",n[0],t,e,i,s,{})},reportExternalDrop:function(e,i,n,s,r){var o,a,l=e.eventProps;l&&(o=t.extend({},l,i),a=this.calendar.renderEvent(o,e.stick)[0]),this.triggerExternalDrop(a,i,n,s,r)},triggerExternalDrop:function(t,e,i,n,s){this.trigger("drop",i[0],e.start,n,s),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return J(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,i,n,s){var r=this.calendar,o=r.mutateEvent(t,e,i),a=function(){o.undo(),r.reportEventChange()};this.triggerEventResize(t,o.durationDelta,a,n,s),r.reportEventChange()},triggerEventResize:function(t,e,i,n,s){this.trigger("eventResize",n[0],t,e,i,s,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},selectEvent:function(t){this.selectedEvent&&this.selectedEvent===t||(this.unselectEvent(),this.renderedEventSegEach(function(t){t.el.addClass("fc-selected")},t),this.selectedEvent=t)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(t){t.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(t){return this.selectedEvent&&this.selectedEvent._id===t._id},handleDocumentMousedown:function(t){b(t)&&this.processUnselect(t)},processUnselect:function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},processRangeUnselect:function(e){var i;this.isSelected&&this.opt("unselectAuto")&&(i=this.opt("unselectCancel"),i&&t(e.target).closest(i).length||this.unselect(e))},processEventUnselect:function(e){this.selectedEvent&&(t(e.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(t,e,i){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),i)},initHiddenDays:function(){var e,i=this.opt("hiddenDays")||[],n=[],s=0;for(this.opt("weekends")===!1&&i.push(0,6),e=0;e<7;e++)(n[e]=t.inArray(e,i)!==-1)||s++;if(!s)throw"invalid hiddenDays";this.isHiddenDayHash=n},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,i){var n=t.clone();for(e=e||1;this.isHiddenDayHash[(n.day()+(i?e:0)+7)%7];)n.add(e,"days");return n},computeDayRange:function(t){var e,i=t.start.clone().stripTime(),n=t.end,s=null;return n&&(s=n.clone().stripTime(),e=+n.time(),e&&e>=this.nextDayThreshold&&s.add(1,"days")),(!n||s<=i)&&(s=i.clone().add(1,"days")),{start:i,end:s}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),we=Gt.Scroller=wt.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(t){t=t||{},this.overflowX=t.overflowX||t.overflow||"auto",this.overflowY=t.overflowY||t.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=t('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(t){var e=this.overflowX,i=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===i&&(i=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":i})},setHeight:function(t){this.scrollEl.height(t)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(t){this.scrollEl.scrollTop(t)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return g(this.scrollEl)}}),xe=Gt.Calendar=wt.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Bt,initialize:function(){},populateOptionsHash:function(){var t,e,n,s;t=J(this.dynamicOverrides.locale,this.overrides.locale),e=Se[t],e||(t=xe.defaults.locale,e=Se[t]||{}),n=J(this.dynamicOverrides.isRTL,this.overrides.isRTL,e.isRTL,xe.defaults.isRTL),s=n?xe.rtlDefaults:{},this.dirDefaults=s,this.localeDefaults=e,this.options=i([xe.defaults,s,e,this.overrides,this.dynamicOverrides]),Nt(this.options)},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var i,n,s;if(t.inArray(e,Kt)!=-1)for(i=this.header.getViewsWithButtons(),t.each(Gt.views,function(t){i.push(t)}),n=0;n<i.length;n++)if(s=this.getViewSpec(i[n]),s&&s.singleUnit==e)return s},buildViewSpec:function(t){for(var n,s,r,o,a=this.overrides.views||{},l=[],h=[],c=[],u=t;u;)n=Ut[u],s=a[u],u=null,"function"==typeof n&&(n={"class":n}),n&&(l.unshift(n),h.unshift(n.defaults||{}),r=r||n.duration,u=u||n.type),s&&(c.unshift(s),r=r||s.duration,u=u||s.type);return n=V(l),n.type=t,!!n["class"]&&(r&&(r=e.duration(r),r.valueOf()&&(n.duration=r,o=B(r),1===r.as(o)&&(n.singleUnit=o,c.unshift(a[o]||{})))),n.defaults=i(h),n.overrides=i(c),this.buildViewSpecOptions(n),this.buildViewSpecButtonText(n,t),n)},buildViewSpecOptions:function(t){t.options=i([xe.defaults,t.defaults,this.dirDefaults,this.localeDefaults,this.overrides,t.overrides,this.dynamicOverrides]),Nt(t.options)},buildViewSpecButtonText:function(t,e){function i(i){var n=i.buttonText||{};return n[e]||(t.buttonTextKey?n[t.buttonTextKey]:null)||(t.singleUnit?n[t.singleUnit]:null)}t.buttonTextOverride=i(this.dynamicOverrides)||i(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=i(this.localeDefaults)||i(this.dirDefaults)||t.defaults.buttonText||i(xe.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var i,n=this.moment(t).stripZone();return i=e?this.moment(e).stripZone():n.hasTime()?n.clone().add(this.defaultTimedEventDuration):n.clone().add(this.defaultAllDayEventDuration),{start:n,end:i}}});xe.mixin(ae),xe.mixin({optionHandlers:null,bindOption:function(t,e){this.bindOptions([t],e)},bindOptions:function(t,e){var i,n={func:e,names:t};for(i=0;i<t.length;i++)this.registerOptionHandlerObj(t[i],n);this.triggerOptionHandlerObj(n)},registerOptionHandlerObj:function(t,e){(this.optionHandlers[t]||(this.optionHandlers[t]=[])).push(e)},triggerOptionHandlers:function(t){var e,i=this.optionHandlers[t]||[];for(e=0;e<i.length;e++)this.triggerOptionHandlerObj(i[e])},triggerOptionHandlerObj:function(t){var e,i=t.names,n=[];for(e=0;e<i.length;e++)n.push(this.options[i[e]]);t.func.apply(this,n)}}),xe.defaults={titleRangeSeparator:" – ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},xe.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},xe.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Se=Gt.locales={};Gt.datepickerLocale=function(e,i,n){var s=Se[e]||(Se[e]={});s.isRTL=n.isRTL,s.weekNumberTitle=n.weekHeader,t.each(ke,function(t,e){s[t]=e(n)}),t.datepicker&&(t.datepicker.regional[i]=t.datepicker.regional[e]=n,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(n))},Gt.locale=function(e,n){var s,r;s=Se[e]||(Se[e]={}),n&&(s=Se[e]=i([s,n])),r=jt(e),t.each(Ce,function(t,e){null==s[t]&&(s[t]=e(r,s))}),xe.defaults.locale=e};var ke={buttonText:function(t){return{prev:et(t.prevText),next:et(t.nextText),today:et(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},Ce={dayOfMonthFormat:function(t,e){var i=t.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},De={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Gt.locale("en",xe.englishDefaults),Gt.sourceNormalizers=[],Gt.sourceFetchers=[];var Te={dataType:"json",cache:!1},_e=1;xe.prototype.normalizeEvent=function(t){},xe.prototype.spanContainsSpan=function(t,e){var i=t.start.clone().stripZone(),n=this.getEventEnd(t).stripZone();return e.start>=i&&e.end<=n},xe.prototype.getPeerEvents=function(t,e){var i,n,s=this.getEventCache(),r=[];for(i=0;i<s.length;i++)n=s[i],e&&e._id===n._id||r.push(n);return r},xe.prototype.isEventSpanAllowed=function(t,e){var i=e.source||{},n=J(e.constraint,i.constraint,this.options.eventConstraint),s=J(e.overlap,i.overlap,this.options.eventOverlap);return this.isSpanAllowed(t,n,s,e)&&(!this.options.eventAllow||this.options.eventAllow(t,e)!==!1)},xe.prototype.isExternalSpanAllowed=function(e,i,n){var s,r;return n&&(s=t.extend({},n,i),r=this.expandEvent(this.buildEventFromInput(s))[0]),r?this.isEventSpanAllowed(e,r):this.isSelectionSpanAllowed(e)},xe.prototype.isSelectionSpanAllowed=function(t){return this.isSpanAllowed(t,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||this.options.selectAllow(t)!==!1)},xe.prototype.isSpanAllowed=function(t,e,i,n){var s,r,o,a,l,h;if(null!=e&&(s=this.constraintToEvents(e))){for(r=!1,a=0;a<s.length;a++)if(this.spanContainsSpan(s[a],t)){r=!0;break}if(!r)return!1}for(o=this.getPeerEvents(t,n),a=0;a<o.length;a++)if(l=o[a],this.eventIntersectsRange(l,t)){if(i===!1)return!1;if("function"==typeof i&&!i(l,n))return!1;if(n){if(h=J(l.overlap,(l.source||{}).overlap),h===!1)return!1;if("function"==typeof h&&!h(n,l))return!1}}return!0},xe.prototype.constraintToEvents=function(t){return"businessHours"===t?this.getCurrentBusinessHourEvents():"object"==typeof t?null!=t.start?this.expandEvent(this.buildEventFromInput(t)):null:this.clientEvents(t)},xe.prototype.eventIntersectsRange=function(t,e){var i=t.start.clone().stripZone(),n=this.getEventEnd(t).stripZone();return e.start<n&&e.end>i};var Ee={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};xe.prototype.getCurrentBusinessHourEvents=function(t){return this.computeBusinessHourEvents(t,this.options.businessHours)},xe.prototype.computeBusinessHourEvents=function(e,i){return i===!0?this.expandBusinessHourEvents(e,[{}]):t.isPlainObject(i)?this.expandBusinessHourEvents(e,[i]):t.isArray(i)?this.expandBusinessHourEvents(e,i,!0):[]},xe.prototype.expandBusinessHourEvents=function(e,i,n){var s,r,o=this.getView(),a=[];for(s=0;s<i.length;s++)r=i[s],n&&!r.dow||(r=t.extend({},Ee,r),e&&(r.start=null,r.end=null),a.push.apply(a,this.expandEvent(this.buildEventFromInput(r),o.start,o.end)));return a};var Me=Gt.BasicView=be.extend({scroller:null,dayGridClass:ve,dayGrid:null,dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new we({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Ae);return new t(this)},setRange:function(t){be.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=be.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.opt("weekNumbers")&&(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0)),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-day-grid-container"),i=t('<div class="fc-day-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.dayGrid.setElement(i),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=h(this.el.find(".fc-week-number")))},setHeight:function(t,e){var i,r,o=this.opt("eventLimit");this.scroller.clear(),s(this.headRowEl),this.dayGrid.removeSegPopover(),o&&"number"==typeof o&&this.dayGrid.limitRows(o),i=this.computeScrollerHeight(t),this.setGridHeight(i,e),o&&"number"!=typeof o&&this.dayGrid.limitRows(o),e||(this.scroller.setHeight(i),r=this.scroller.getScrollbarWidths(),(r.left||r.right)&&(n(this.headRowEl,r),i=this.computeScrollerHeight(t),this.scroller.setHeight(i)),this.scroller.lockOverflow(r))},computeScrollerHeight:function(t){return t-c(this.el,this.scroller.el)},setGridHeight:function(t,e){e?l(this.dayGrid.rowEls):a(this.dayGrid.rowEls,t,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Ae={renderHeadIntroHtml:function(){var t=this.view;return t.colWeekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+tt(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view,i=this.getCellDate(t,0);return e.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+">"+e.buildGotoAnchorHtml({date:i,type:"week",forceOff:1===this.colCnt},i.format("w"))+"</td>":""},renderBgIntroHtml:function(){var t=this.view;return t.colWeekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},Ie=Gt.MonthView=Me.extend({computeRange:function(t){var e,i=Me.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(i.end.diff(i.start,"weeks",!0)),i.end.add(6-e,"weeks")),i},setGridHeight:function(t,e){e&&(t*=this.rowCnt/6),a(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});Ut.basic={"class":Me},Ut.basicDay={type:"basic",duration:{days:1}},Ut.basicWeek={type:"basic",duration:{weeks:1}},Ut.month={"class":Ie,duration:{months:1},defaults:{fixedWeekCount:!0}};var Pe=Gt.AgendaView=be.extend({scroller:null,timeGridClass:ye,timeGrid:null,dayGridClass:ve,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new we({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var t=this.timeGridClass.extend(Re);return new t(this)},instantiateDayGrid:function(){var t=this.dayGridClass.extend(He);return new t(this)},setRange:function(t){be.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-time-grid-container"),i=t('<div class="fc-time-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.timeGrid.setElement(i),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),be.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=h(this.el.find(".fc-axis"))},setHeight:function(t,e){var i,r,o;this.bottomRuleEl.hide(),this.scroller.clear(),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=$e),i&&this.dayGrid.limitRows(i)),e||(r=this.computeScrollerHeight(t),this.scroller.setHeight(r),o=this.scroller.getScrollbarWidths(),(o.left||o.right)&&(n(this.noScrollRowEls,o),r=this.computeScrollerHeight(t),this.scroller.setHeight(r)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<r&&this.bottomRuleEl.show())},computeScrollerHeight:function(t){return t-c(this.el,this.scroller.el)},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),i=this.timeGrid.computeTimeTop(t);return i=Math.ceil(i),i&&i++,i},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var i=this.timeGrid.queryHit(t,e);return!i&&this.dayGrid&&(i=this.dayGrid.queryHit(t,e)),i},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,i,n=[],s=[],r=[];for(i=0;i<t.length;i++)t[i].allDay?n.push(t[i]):s.push(t[i]);e=this.timeGrid.renderEvents(s),this.dayGrid&&(r=this.dayGrid.renderEvents(n)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Re={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+">"+e.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},tt(t))+"</th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},He={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+t.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},$e=5,Le=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];Ut.agenda={"class":Pe,defaults:{allDaySlot:!0,slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Ut.agendaDay={type:"agenda",duration:{days:1}},Ut.agendaWeek={type:"agenda",duration:{weeks:1}};var Oe=be.extend({grid:null,scroller:null,initialize:function(){this.grid=new Fe(this),this.scroller=new we({overflowX:"hidden",overflowY:"auto"})},setRange:function(t){be.prototype.setRange.call(this,t),this.grid.setRange(t)},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass),this.scroller.render(),this.scroller.el.appendTo(this.el),this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(t,e){this.scroller.setHeight(this.computeScrollerHeight(t))},computeScrollerHeight:function(t){return t-c(this.el,this.scroller.el)},renderEvents:function(t){this.grid.renderEvents(t)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(t){return!1},isEventDraggable:function(t){return!1}}),Fe=ge.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(t){for(var e,i=this.view,n=i.start.clone().time(0),s=0,r=[];n<i.end;)if(e=$(t,{start:n,end:n.clone().add(1,"day")}),e&&(e.dayIndex=s,r.push(e)),n.add(1,"day"),s++,e&&!e.isEnd&&t.end.hasTime()&&t.end<n.clone().add(this.view.nextDayThreshold)){e.end=t.end.clone(),e.isEnd=!0;break}return r},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(e,i){var n;ge.prototype.handleSegClick.apply(this,arguments),t(i.target).closest("a[href]").length||(n=e.event.url,n&&!i.isDefaultPrevented()&&(window.location.href=n))},renderFgSegs:function(t){return t=this.renderFgSegEls(t),t.length?this.renderSegList(t):this.renderEmptyMessage(),t},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+tt(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(e){var i,n,s,r=this.groupSegsByDay(e),o=t('<table class="fc-list-table"><tbody/></table>'),a=o.find("tbody");for(i=0;i<r.length;i++)if(n=r[i])for(a.append(this.dayHeaderHtml(this.view.start.clone().add(i,"days"))),this.sortEventSegs(n),s=0;s<n.length;s++)a.append(n[s].el);this.el.empty().append(o)},groupSegsByDay:function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],(n[i.dayIndex]||(n[i.dayIndex]=[])).push(i);return n},dayHeaderHtml:function(t){var e=this.view,i=e.opt("listDayFormat"),n=e.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+t.format("YYYY-MM-DD")+'"><td class="'+e.widgetHeaderClass+'" colspan="3">'+(i?e.buildGotoAnchorHtml(t,{"class":"fc-list-heading-main"},tt(t.format(i))):"")+(n?e.buildGotoAnchorHtml(t,{"class":"fc-list-heading-alt"},tt(t.format(n))):"")+"</td></tr>"},fgSegHtml:function(t){var e,i=this.view,n=["fc-list-item"].concat(this.getSegCustomClasses(t)),s=this.getSegBackgroundColor(t),r=t.event,o=r.url;return e=r.allDay?i.getAllDayHtml():i.isMultiDayEvent(r)?t.isStart||t.isEnd?tt(this.getEventTimeText(t)):i.getAllDayHtml():tt(this.getEventTimeText(r)),o&&n.push("fc-has-url"),'<tr class="'+n.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+i.widgetContentClass+'">'+(e||"")+"</td>":"")+'<td class="fc-list-item-marker '+i.widgetContentClass+'"><span class="fc-event-dot"'+(s?' style="background-color:'+s+'"':"")+'></span></td><td class="fc-list-item-title '+i.widgetContentClass+'"><a'+(o?' href="'+tt(o)+'"':"")+">"+tt(t.event.title||"")+"</a></td></tr>"}});return Ut.list={"class":Oe,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}},Ut.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},Ut.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},Ut.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},Ut.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}},Gt}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment","fullcalendar"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment"),require("fullcalendar")):t(jQuery,moment)}(function(t,e){var i,n,s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b,w,x,S,k,C,D,T,_,E,M,A,I,P,R,H,$,L,O,F,B,N,j,z,W,Y,G,U,V,q,X,K,Q,Z,J,tt,et,it,nt,st,rt,ot,at,lt,ht,ct,ut,dt,pt,ft,gt,mt,vt,yt,bt,wt,xt,St,kt,Ct,Dt,Tt,_t,Et,Mt,At,It,Pt,Rt,Ht,$t,Lt,Ot,Ft,Bt,Nt,jt,zt=function(t,e){function i(){this.constructor=t}for(var n in e)Wt.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},Wt={}.hasOwnProperty,Yt=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},Gt=[].slice;return p=t.fullCalendar,p.schedulerVersion="1.4.0",6!==p.internalApiVersion?void p.warn("v"+p.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+p.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(n=p.Calendar,r=p.Class,q=p.View,f=p.Grid,vt=p.intersectRanges,nt=p.debounce,wt=p.isInt,ft=p.getScrollbarWidths,h=p.DragListener,mt=p.htmlEscape,Z=p.computeIntervalUnit,Ht=p.proxy,K=p.capitaliseFirstLetter,X=p.applyAll,c=p.EmitterMixin,v=p.ListenerMixin,at=p.durationHasTime,ot=p.divideRangeByDuration,rt=p.divideDurationByDuration,kt=p.multiplyDuration,Pt=p.parseFieldSpecs,Q=p.compareByFieldSpecs,lt=p.flexibleCompare,yt=p.intersectRects,a=p.CoordCache,ht=p.getContentRect,ct=p.getOuterRect,ut=function(t){return t.find("> td").filter(function(t,e){return e.rowSpan<=1})},Lt=function(e,i,n){return e&&e.then&&"resolved"!==e.state()?"rejected"===e.state()?(n&&n(),t.Deferred().reject().promise()):e.then(i,n):i?t.when(i()):t.when();
},u=function(e){function i(){i.__super__.constructor.apply(this,arguments),this.requestMovingEnd=nt(this.reportMovingEnd,500)}var n,s;return zt(i,e),i.mixin(c),i.mixin(v),i.prototype.canvas=null,i.prototype.isScrolling=!1,i.prototype.isTouching=!1,i.prototype.isMoving=!1,i.prototype.isTouchScrollEnabled=!0,i.prototype.preventTouchScrollHandler=null,i.prototype.render=function(){return i.__super__.render.apply(this,arguments),this.canvas&&(this.canvas.render(),this.canvas.el.appendTo(this.scrollEl)),this.bindHandlers()},i.prototype.destroy=function(){return i.__super__.destroy.apply(this,arguments),this.unbindHandlers()},i.prototype.disableTouchScroll=function(){return this.isTouchScrollEnabled=!1,this.bindPreventTouchScroll()},i.prototype.enableTouchScroll=function(){if(this.isTouchScrollEnabled=!0,!this.isTouching)return this.unbindPreventTouchScroll()},i.prototype.bindPreventTouchScroll=function(){if(!this.preventTouchScrollHandler)return this.scrollEl.on("touchmove",this.preventTouchScrollHandler=p.preventDefault)},i.prototype.unbindPreventTouchScroll=function(){if(this.preventTouchScrollHandler)return this.scrollEl.off("touchmove",this.preventTouchScrollHandler),this.preventTouchScrollHandler=null},i.prototype.bindHandlers=function(){return this.listenTo(this.scrollEl,{scroll:this.reportScroll,touchstart:this.reportTouchStart,touchend:this.reportTouchEnd})},i.prototype.unbindHandlers=function(){return this.stopListeningTo(this.scrollEl)},i.prototype.reportScroll=function(){return this.isScrolling||this.reportScrollStart(),this.trigger("scroll"),this.isMoving=!0,this.requestMovingEnd()},i.prototype.reportScrollStart=function(){if(!this.isScrolling)return this.isScrolling=!0,this.trigger("scrollStart",this.isTouching)},i.prototype.requestMovingEnd=null,i.prototype.reportMovingEnd=function(){if(this.isMoving=!1,!this.isTouching)return this.reportScrollEnd()},i.prototype.reportScrollEnd=function(){if(this.isScrolling)return this.trigger("scrollEnd"),this.isScrolling=!1},i.prototype.reportTouchStart=function(){return this.isTouching=!0},i.prototype.reportTouchEnd=function(){if(this.isTouching&&(this.isTouching=!1,this.isTouchScrollEnabled&&this.unbindPreventTouchScroll(),!this.isMoving))return this.reportScrollEnd()},i.prototype.getScrollLeft=function(){var t,e,i;if(t=this.scrollEl.css("direction"),e=this.scrollEl[0],i=e.scrollLeft,"rtl"===t)switch(s){case"positive":i=i+e.clientWidth-e.scrollWidth;break;case"reverse":i=-i}return i},i.prototype.setScrollLeft=function(t){var e,i;if(e=this.scrollEl.css("direction"),i=this.scrollEl[0],"rtl"===e)switch(s){case"positive":t=t-i.clientWidth+i.scrollWidth;break;case"reverse":t=-t}return i.scrollLeft=t},i.prototype.getScrollFromLeft=function(){var t,e,i;if(t=this.scrollEl.css("direction"),e=this.scrollEl[0],i=e.scrollLeft,"rtl"===t)switch(s){case"negative":i=i-e.clientWidth+e.scrollWidth;break;case"reverse":i=-i-e.clientWidth+e.scrollWidth}return i},i.prototype.getNativeScrollLeft=function(){return this.scrollEl[0].scrollLeft},i.prototype.setNativeScrollLeft=function(t){return this.scrollEl[0].scrollLeft=t},s=null,n=function(){var e,i,n;return e=t('<div style=" position: absolute top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 14px; ">A</div>').appendTo("body"),i=e[0],n=i.scrollLeft>0?"positive":(i.scrollLeft=1,e.scrollLeft>0?"reverse":"negative"),e.remove(),n},t(function(){return s=n()}),i}(p.Scroller),o=function(e){function i(){i.__super__.constructor.apply(this,arguments),"clipped-scroll"===this.overflowX&&(this.overflowX="scroll",this.isHScrollbarsClipped=!0),"clipped-scroll"===this.overflowY&&(this.overflowY="scroll",this.isVScrollbarsClipped=!0)}return zt(i,e),i.prototype.isHScrollbarsClipped=!1,i.prototype.isVScrollbarsClipped=!1,i.prototype.renderEl=function(){var e;return e=i.__super__.renderEl.apply(this,arguments),t('<div class="fc-scroller-clip" />').append(e)},i.prototype.updateSize=function(){var t,e,i;return e=this.scrollEl,i=ft(e),t={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},this.isHScrollbarsClipped&&(t.marginTop=-i.top,t.marginBottom=-i.bottom),this.isVScrollbarsClipped&&(t.marginLeft=-i.left,t.marginRight=-i.right),e.css(t),e.toggleClass("fc-no-scrollbars",(this.isHScrollbarsClipped||"hidden"===this.overflowX)&&(this.isVScrollbarsClipped||"hidden"===this.overflowY)&&!(i.top||i.bottom||i.left||i.right))},i.prototype.getScrollbarWidths=function(){var t;return t=ft(this.scrollEl),this.isHScrollbarsClipped&&(t.top=0,t.bottom=0),this.isVScrollbarsClipped&&(t.left=0,t.right=0),t},i}(u),z=function(){function e(){this.gutters={}}return e.prototype.el=null,e.prototype.contentEl=null,e.prototype.bgEl=null,e.prototype.gutters=null,e.prototype.width=null,e.prototype.minWidth=null,e.prototype.render=function(){return this.el=t('<div class="fc-scroller-canvas"> <div class="fc-content"></div> <div class="fc-bg"></div> </div>'),this.contentEl=this.el.find(".fc-content"),this.bgEl=this.el.find(".fc-bg")},e.prototype.setGutters=function(e){return e?t.extend(this.gutters,e):this.gutters={},this.updateSize()},e.prototype.setWidth=function(t){return this.width=t,this.updateSize()},e.prototype.setMinWidth=function(t){return this.minWidth=t,this.updateSize()},e.prototype.clearWidth=function(){return this.width=null,this.minWidth=null,this.updateSize()},e.prototype.updateSize=function(){var t;return t=this.gutters,this.el.toggleClass("fc-gutter-left",Boolean(t.left)).toggleClass("fc-gutter-right",Boolean(t.right)).toggleClass("fc-gutter-top",Boolean(t.top)).toggleClass("fc-gutter-bottom",Boolean(t.bottom)).css({paddingLeft:t.left||"",paddingRight:t.right||"",paddingTop:t.top||"",paddingBottom:t.bottom||"",width:null!=this.width?this.width+(t.left||0)+(t.right||0):"",minWidth:null!=this.minWidth?this.minWidth+(t.left||0)+(t.right||0):""}),this.bgEl.css({left:t.left||"",right:t.right||"",top:t.top||"",bottom:t.bottom||""})},e}(),j=function(){function t(t,e){var i,n,s,r;for(this.axis=t,this.scrollers=e,s=this.scrollers,i=0,n=s.length;i<n;i++)r=s[i],this.initScroller(r)}return t.prototype.axis=null,t.prototype.scrollers=null,t.prototype.masterScroller=null,t.prototype.initScroller=function(t){return t.scrollEl.on("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(e){return function(){e.assignMasterScroller(t)}}(this)),t.on("scrollStart",function(e){return function(){if(!e.masterScroller)return e.assignMasterScroller(t)}}(this)).on("scroll",function(e){return function(){var i,n,s,r,o;if(t===e.masterScroller){for(r=e.scrollers,o=[],i=0,n=r.length;i<n;i++)if(s=r[i],s!==t)switch(e.axis){case"horizontal":o.push(s.setNativeScrollLeft(t.getNativeScrollLeft()));break;case"vertical":o.push(s.setScrollTop(t.getScrollTop()));break;default:o.push(void 0)}else o.push(void 0);return o}}}(this)).on("scrollEnd",function(e){return function(){if(t===e.masterScroller)return e.unassignMasterScroller()}}(this))},t.prototype.assignMasterScroller=function(t){var e,i,n,s;for(this.unassignMasterScroller(),this.masterScroller=t,s=this.scrollers,e=0,i=s.length;e<i;e++)n=s[e],n!==t&&n.disableTouchScroll()},t.prototype.unassignMasterScroller=function(){var t,e,i,n;if(this.masterScroller){for(n=this.scrollers,t=0,e=n.length;t<e;t++)i=n[t],i.enableTouchScroll();this.masterScroller=null}},t.prototype.update=function(){var t,e,i,n,s,r,o,a,l,h,c,u,d;for(t=function(){var t,e,i,n;for(i=this.scrollers,n=[],t=0,e=i.length;t<e;t++)u=i[t],n.push(u.getScrollbarWidths());return n}.call(this),a=l=h=o=0,i=0,s=t.length;i<s;i++)d=t[i],a=Math.max(a,d.left),l=Math.max(l,d.right),h=Math.max(h,d.top),o=Math.max(o,d.bottom);for(c=this.scrollers,e=n=0,r=c.length;n<r;e=++n)u=c[e],d=t[e],u.canvas.setGutters("horizontal"===this.axis?{left:a-d.left,right:l-d.right}:{top:h-d.top,bottom:o-d.bottom})},t}(),B=function(){function e(t,e){this.isTouch=e,this.scroller=t,this.sprites=[],this.isTouch&&(this.isForcedRelative=!0),t.on(this.isTouch?"scrollEnd":"scroll",function(t){return function(){return t.handleScroll()}}(this))}return e.prototype.scroller=null,e.prototype.scrollbarWidths=null,e.prototype.sprites=null,e.prototype.viewportRect=null,e.prototype.contentOffset=null,e.prototype.isHFollowing=!0,e.prototype.isVFollowing=!1,e.prototype.containOnNaturalLeft=!1,e.prototype.containOnNaturalRight=!1,e.prototype.minTravel=0,e.prototype.isTouch=!1,e.prototype.isForcedRelative=!1,e.prototype.setSprites=function(e){var i,n,s;if(this.clearSprites(),e instanceof t)return this.sprites=function(){var i,n,r;for(r=[],i=0,n=e.length;i<n;i++)s=e[i],r.push(new N(t(s),this));return r}.call(this);for(i=0,n=e.length;i<n;i++)s=e[i],s.follower=this;return this.sprites=e},e.prototype.clearSprites=function(){var t,e,i,n;for(i=this.sprites,t=0,e=i.length;t<e;t++)n=i[t],n.clear();return this.sprites=[]},e.prototype.handleScroll=function(){return this.updateViewport(),this.updatePositions()},e.prototype.cacheDimensions=function(){var t,e,i,n;for(this.updateViewport(),this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.canvas.el.offset(),i=this.sprites,t=0,e=i.length;t<e;t++)n=i[t],n.cacheDimensions()},e.prototype.updateViewport=function(){var t,e,i;return e=this.scroller,t=e.getScrollFromLeft(),i=e.getScrollTop(),this.viewportRect={left:t,right:t+e.getClientWidth(),top:i,bottom:i+e.getClientHeight()}},e.prototype.forceRelative=function(){var t,e,i,n,s;if(!this.isForcedRelative){for(this.isForcedRelative=!0,i=this.sprites,n=[],t=0,e=i.length;t<e;t++)s=i[t],s.doAbsolute?n.push(s.assignPosition()):n.push(void 0);return n}},e.prototype.clearForce=function(){var t,e,i,n,s;if(this.isForcedRelative&&!this.isTouch){for(this.isForcedRelative=!1,i=this.sprites,n=[],t=0,e=i.length;t<e;t++)s=i[t],n.push(s.assignPosition());return n}},e.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},e.prototype.updatePositions=function(){var t,e,i,n;for(i=this.sprites,t=0,e=i.length;t<e;t++)n=i[t],n.updatePosition()},e.prototype.getContentRect=function(t){return ht(t,this.contentOffset)},e.prototype.getBoundingRect=function(t){return ct(t,this.contentOffset)},e}(),N=function(){function t(t,e){this.el=t,this.follower=null!=e?e:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return t.prototype.follower=null,t.prototype.el=null,t.prototype.absoluteEl=null,t.prototype.naturalRect=null,t.prototype.parentRect=null,t.prototype.containerRect=null,t.prototype.isEnabled=!0,t.prototype.isHFollowing=!1,t.prototype.isVFollowing=!1,t.prototype.doAbsolute=!1,t.prototype.isAbsolute=!1,t.prototype.isCentered=!1,t.prototype.rect=null,t.prototype.isBlock=!1,t.prototype.naturalWidth=null,t.prototype.disable=function(){if(this.isEnabled)return this.isEnabled=!1,this.resetPosition(),this.unabsolutize()},t.prototype.enable=function(){if(!this.isEnabled)return this.isEnabled=!0,this.assignPosition()},t.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},t.prototype.cacheDimensions=function(){var t,e,i,n,s,r,o,a;return n=!1,s=!1,i=!1,this.naturalWidth=this.el.width(),this.resetPosition(),e=this.follower,o=this.naturalRect=e.getBoundingRect(this.el),a=this.el.parent(),this.parentRect=e.getBoundingRect(a),t=this.containerRect=St(e.getContentRect(a),o),r=e.minTravel,e.containOnNaturalLeft&&(t.left=o.left),e.containOnNaturalRight&&(t.right=o.right),e.isHFollowing&&pt(t)-pt(o)>=r&&(i="center"===this.el.css("text-align"),n=!0),e.isVFollowing&&dt(t)-dt(o)>=r&&(s=!0),this.isHFollowing=n,this.isVFollowing=s,this.isCentered=i},t.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},t.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},t.prototype.computePosition=function(){var t,e,i,n,s,r,o,a;return o=this.follower.viewportRect,i=this.parentRect,t=this.containerRect,a=yt(o,i),n=null,e=!1,a&&(n=et(this.naturalRect),r=yt(n,i),(this.isCentered&&!Ot(o,i)||r&&!Ot(o,r))&&(e=!0,this.isHFollowing&&(this.isCentered?(s=pt(n),n.left=(a.left+a.right)/2-s/2,n.right=n.left+s):gt(n,o)||(e=!1),gt(n,t)&&(e=!1)),this.isVFollowing&&(jt(n,o)||(e=!1),jt(n,t)&&(e=!1)),Ot(o,n)||(e=!1))),this.rect=n,this.doAbsolute=e},t.prototype.assignPosition=function(){var t,e;if(this.isEnabled)return this.rect?this.doAbsolute&&!this.follower.isForcedRelative?(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):(e=this.rect.top-this.naturalRect.top,t=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(e||t)).css({top:e,left:t})):this.unabsolutize()},t.prototype.absolutize=function(){if(!this.isAbsolute)return this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0},t.prototype.unabsolutize=function(){if(this.isAbsolute)return this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1},t.prototype.buildAbsoluteEl=function(){return this.el.clone().addClass("fc-following").css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right"),"pointer-events":"none"})},t}(),et=function(t){return{left:t.left,right:t.right,top:t.top,bottom:t.bottom}},pt=function(t){return t.right-t.left},dt=function(t){return t.bottom-t.top},Ot=function(t,e){return Ft(t,e)&&Bt(t,e)},Ft=function(t,e){return e.left>=t.left&&e.right<=t.right},Bt=function(t,e){return e.top>=t.top&&e.bottom<=t.bottom},gt=function(t,e){return t.left<e.left?(t.right=e.left+pt(t),t.left=e.left,!0):t.right>e.right&&(t.left=e.right-pt(t),t.right=e.right,!0)},jt=function(t,e){return t.top<e.top?(t.bottom=e.top+dt(t),t.top=e.top,!0):t.bottom>e.bottom&&(t.top=e.bottom-dt(t),t.bottom=e.bottom,!0)},St=function(t,e){return{left:Math.min(t.left,e.left),right:Math.max(t.right,e.right),top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom)}},s=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.prototype.resourceManager=null,i.prototype.initialize=function(){return this.resourceManager=new M(this)},i.prototype.instantiateView=function(t){var e,i;return e=this.getViewSpec(t),i=e["class"],this.options.resources&&e.options.resources!==!1&&(e.queryResourceClass?i=e.queryResourceClass(e)||i:e.resourceClass&&(i=e.resourceClass)),new i(this,t,e.options,e.duration)},i.prototype.getResources=function(){return Array.prototype.slice.call(this.resourceManager.topLevelResources)},i.prototype.addResource=function(t,e){var i;null==e&&(e=!1),i=this.resourceManager.addResource(t),e&&this.view.scrollToResource&&i.done(function(t){return function(e){return t.view.scrollToResource(e)}}(this))},i.prototype.removeResource=function(t){return this.resourceManager.removeResource(t)},i.prototype.refetchResources=function(){this.resourceManager.fetchResources()},i.prototype.rerenderResources=function(){this.resourceManager.resetResources()},i.prototype.isSpanAllowed=function(t,e){var n,s;return!("object"==typeof e&&(n=this.getEventResourceIds(e),n.length&&!(t.resourceId&&(s=t.resourceId,Yt.call(n,s)>=0))))&&i.__super__.isSpanAllowed.apply(this,arguments)},i.prototype.getPeerEvents=function(t,e){var n,s,r,o,a,l,h,c,u,d,p,f,g,m;for(f=i.__super__.getPeerEvents.apply(this,arguments),d=t.resourceId?[t.resourceId]:e?this.getEventResourceIds(e):[],n=[],r=0,l=f.length;r<l;r++){if(p=f[r],s=!1,m=this.getEventResourceIds(p),m.length&&d.length){for(o=0,h=m.length;o<h;o++)for(g=m[o],a=0,c=d.length;a<c;a++)if(u=d[a],u===g){s=!0;break}}else s=!0;s&&n.push(p)}return n},i.prototype.spanContainsSpan=function(t,e){return(!t.resourceId||t.resourceId===e.resourceId)&&i.__super__.spanContainsSpan.apply(this,arguments)},i.prototype.getCurrentBusinessHourEvents=function(t){var e,n,s,r,o,a,l,h,c,u,d,p;for(o=this.resourceManager.getFlatResources(),n=!1,a=0,c=o.length;a<c;a++)p=o[a],p.businessHours&&(n=!0);if(n){for(e=[],l=0,u=o.length;l<u;l++)for(p=o[l],r=this.computeBusinessHourEvents(t,p.businessHours||this.options.businessHours),h=0,d=r.length;h<d;h++)s=r[h],s.resourceId=p.id,e.push(s);return e}return i.__super__.getCurrentBusinessHourEvents.apply(this,arguments)},i.prototype.buildSelectSpan=function(t,e,n){var s;return s=i.__super__.buildSelectSpan.apply(this,arguments),n&&(s.resourceId=n),s},i.prototype.getResourceById=function(t){return this.resourceManager.getResourceById(t)},i.prototype.normalizeEvent=function(t){return i.__super__.normalizeEvent.apply(this,arguments),null==t.resourceId&&(t.resourceId=null),null!=t.resourceIds?t.resourceIds:t.resourceIds=null},i.prototype.getEventResourceId=function(t){return this.getEventResourceIds(t)[0]},i.prototype.getEventResourceIds=function(t){var e,i,n,s,r,o,a,l;if(l=String(null!=(r=null!=(o=t[this.getEventResourceField()])?o:t.resourceId)?r:""))return[l];if(t.resourceIds){for(s=[],a=t.resourceIds,e=0,i=a.length;e<i;e++)l=a[e],n=String(null!=l?l:""),n&&s.push(n);return s}return[]},i.prototype.setEventResourceId=function(t,e){return t[this.getEventResourceField()]=String(null!=e?e:"")},i.prototype.getEventResourceField=function(){return this.options.eventResourceField||"resourceId"},i.prototype.getResourceEvents=function(e){var i;return i="object"==typeof e?e:this.getResourceById(e),i?this.clientEvents(function(e){return function(n){return t.inArray(i.id,e.getEventResourceIds(n))!==-1}}(this)):[]},i.prototype.getEventResource=function(t){return this.getEventResources(t)[0]},i.prototype.getEventResources=function(t){var e,i,n,s,r,o,a;if(e="object"==typeof t?t:this.clientEvents(t)[0],a=[],e)for(s=this.getEventResourceIds(e),i=0,n=s.length;i<n;i++)o=s[i],r=this.getResourceById(o),r&&a.push(r);return a},i}(n),n.prototype=s.prototype,Dt=q.prototype.displayView,At=q.prototype.renderSkeleton,It=q.prototype.unrenderSkeleton,Ct=q.prototype.displayEvents,q.prototype.isResourcesBound=!1,q.prototype.settingResources=null,q.prototype.displayView=function(){return Dt.apply(this,arguments),Rt(this.calendar.options.schedulerLicenseKey,this.el),this.bindResources(),this.whenResources()},q.prototype.unrenderSkeleton=function(){return It.apply(this,arguments),this.unbindResources(!0)},q.prototype.displayEvents=function(t){return this.whenResources(function(e){return function(){return Ct.call(e,t)}}(this))},q.prototype.bindResources=function(){var e;if(!this.isResourcesBound)return this.isResourcesBound=!0,this.settingResources=t.Deferred(),e=function(t){return function(e){return t.setResources(e),t.settingResources.resolve()}}(this),this.listenTo(this.calendar.resourceManager,{set:e,unset:this.unsetResources,reset:this.resetResources,add:this.addResource,remove:this.removeResource}),this.calendar.resourceManager.hasFetched()?e(this.calendar.resourceManager.topLevelResources):this.calendar.resourceManager.getResources()},q.prototype.unbindResources=function(t){if(this.isResourcesBound)return this.stopListeningTo(this.calendar.resourceManager),"resolved"===this.settingResources.state()&&this.unsetResources(t),this.settingResources=null,this.isResourcesBound=!1},q.prototype.whenResources=function(t){return Lt(this.settingResources,t)},q.prototype.setResources=function(t){},q.prototype.unsetResources=function(){},q.prototype.resetResources=function(t){return this.calendar.rerenderEvents()},q.prototype.addResource=function(t){return this.resetResources(this.calendar.resourceManager.topLevelResources)},q.prototype.removeResource=function(t){return this.resetResources(this.calendar.resourceManager.topLevelResources)},Tt=f.prototype.getSegCustomClasses,_t=f.prototype.getSegDefaultBackgroundColor,Et=f.prototype.getSegDefaultBorderColor,Mt=f.prototype.getSegDefaultTextColor,f.prototype.getSegCustomClasses=function(t){var e,i,n,s,r;for(e=Tt.apply(this,arguments),s=this.getSegResources(t),i=0,n=s.length;i<n;i++)r=s[i],e=e.concat(r.eventClassName||[]);return e},f.prototype.getSegDefaultBackgroundColor=function(t){var e,i,n,s,r;for(s=this.getSegResources(t),i=0,n=s.length;i<n;i++)for(e=s[i];e;){if(r=e.eventBackgroundColor||e.eventColor)return r;e=e._parent}return _t.apply(this,arguments)},f.prototype.getSegDefaultBorderColor=function(t){var e,i,n,s,r;for(s=this.getSegResources(t),i=0,n=s.length;i<n;i++)for(e=s[i];e;){if(r=e.eventBorderColor||e.eventColor)return r;e=e._parent}return Et.apply(this,arguments)},f.prototype.getSegDefaultTextColor=function(t){var e,i,n,s,r;for(s=this.getSegResources(t),i=0,n=s.length;i<n;i++)for(e=s[i];e;){if(r=e.eventTextColor)return r;e=e._parent}return Mt.apply(this,arguments)},f.prototype.getSegResources=function(t){return t.resource?[t.resource]:this.view.calendar.getEventResources(t.event)},M=function(e){function i(t){this.calendar=t,this.initializeCache()}return zt(i,e),i.mixin(c),i.resourceGuid=1,i.ajaxDefaults={dataType:"json",cache:!1},i.prototype.calendar=null,i.prototype.topLevelResources=null,i.prototype.resourcesById=null,i.prototype.fetching=null,i.prototype.hasFetched=function(){return this.fetching&&"resolved"===this.fetching.state()},i.prototype.getResources=function(){var e;return this.fetching?t.Deferred().resolve(this.topLevelResources).promise():(e=t.Deferred(),Lt(this.fetchResources(),function(){return e.resolve(this.topLevelResources)},function(){return e.resolve([])}),e.promise())},i.prototype.fetchResources=function(){var e;return e=this.fetching,Lt(e,function(i){return function(){return i.fetching=t.Deferred(),i.fetchResourceInputs(function(t){return i.setResources(t,Boolean(e)),i.fetching.resolve(i.topLevelResources)}),i.fetching.promise()}}(this))},i.prototype.fetchResourceInputs=function(e){var n;switch(n=this.calendar.options.resources,"string"===t.type(n)&&(n={url:n}),t.type(n)){case"function":return this.calendar.pushLoading(),n(function(t){return function(i){return t.calendar.popLoading(),e(i)}}(this));case"object":return this.calendar.pushLoading(),t.ajax(t.extend({},i.ajaxDefaults,n)).done(function(t){return function(i){return t.calendar.popLoading(),e(i)}}(this));case"array":return e(n);default:return e([])}},i.prototype.resetResources=function(){return Lt(this.getResources(),function(t){return function(){return t.trigger("reset",t.topLevelResources)}}(this))},i.prototype.getResourceById=function(t){return this.resourcesById[t]},i.prototype.getFlatResources=function(){var t,e;e=[];for(t in this.resourcesById)e.push(this.resourcesById[t]);return e},i.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},i.prototype.setResources=function(t,e){var i,n,s,r,o,a;for(this.initializeCache(),o=function(){var e,i,n;for(n=[],e=0,i=t.length;e<i;e++)r=t[e],n.push(this.buildResource(r));return n}.call(this),a=function(){var t,e,i;for(i=[],t=0,e=o.length;t<e;t++)s=o[t],this.addResourceToIndex(s)&&i.push(s);return i}.call(this),i=0,n=a.length;i<n;i++)s=a[i],this.addResourceToTree(s);return e?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.trigger("resourcesSet",null,this.topLevelResources)},i.prototype.addResource=function(t){return Lt(this.fetching,function(e){return function(){var i;return i=e.buildResource(t),!!e.addResourceToIndex(i)&&(e.addResourceToTree(i),e.trigger("add",i),i)}}(this))},i.prototype.addResourceToIndex=function(t){var e,i,n,s;if(this.resourcesById[t.id])return!1;for(this.resourcesById[t.id]=t,s=t.children,i=0,n=s.length;i<n;i++)e=s[i],this.addResourceToIndex(e);return!0},i.prototype.addResourceToTree=function(t){var e,i,n,s;if(!t.parent){if(i=String(null!=(n=t.parentId)?n:"")){if(e=this.resourcesById[i],!e)return!1;t.parent=e,s=e.children}else s=this.topLevelResources;s.push(t)}return!0},i.prototype.removeResource=function(t){var e;return e="object"==typeof t?t.id:t,Lt(this.fetching,function(t){return function(){var i;return i=t.removeResourceFromIndex(e),i&&(t.removeResourceFromTree(i),t.trigger("remove",i)),i}}(this))},i.prototype.removeResourceFromIndex=function(t){var e,i,n,s,r;if(r=this.resourcesById[t]){for(delete this.resourcesById[t],s=r.children,i=0,n=s.length;i<n;i++)e=s[i],this.removeResourceFromIndex(e.id);return r}return!1},i.prototype.removeResourceFromTree=function(t,e){var i,n,s,r;for(null==e&&(e=this.topLevelResources),i=n=0,s=e.length;n<s;i=++n){if(r=e[i],r===t)return t.parent=null,e.splice(i,1),!0;if(this.removeResourceFromTree(t,r.children))return!0}return!1},i.prototype.buildResource=function(e){var n,s,r,o,a;return a=t.extend({},e),a.id=String(null!=(o=e.id)?o:"_fc"+i.resourceGuid++),r=e.eventClassName,a.eventClassName=function(){switch(t.type(r)){case"string":return r.split(/\s+/);case"array":return r;default:return[]}}(),a.children=function(){var t,i,r,o,l;for(o=null!=(r=e.children)?r:[],l=[],t=0,i=o.length;t<i;t++)s=o[t],n=this.buildResource(s),n.parent=a,l.push(n);return l}.call(this),a},i}(r),$={resourceTextFunc:null,unsetResources:function(){return this.clearEvents()},resetResources:function(t){var e;return e=this.queryScroll(),this.unsetResources(),this.setResources(t),this.setScroll(e),this.calendar.rerenderEvents()},isEventDraggable:function(t){return this.isEventResourceEditable(t)||q.prototype.isEventDraggable.call(this,t)},isEventResourceEditable:function(t){var e,i,n;return null!=(e=null!=(i=null!=(n=t.resourceEditable)?n:(t.source||{}).resourceEditable)?i:this.opt("eventResourceEditable"))?e:this.isEventGenerallyEditable(t)},getResourceText:function(t){return this.getResourceTextFunc()(t)},getResourceTextFunc:function(){var t;return this.resourceTextFunc?this.resourceTextFunc:(t=this.opt("resourceText"),"function"!=typeof t&&(t=function(t){return t.title||t.id}),this.resourceTextFunc=t)},triggerDayClick:function(t,e,i){var n;return n=this.calendar.resourceManager,this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),i,this,n.getResourceById(t.resourceId))},triggerSelect:function(t,e){var i;return i=this.calendar.resourceManager,this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e,this,i.getResourceById(t.resourceId))},triggerExternalDrop:function(t,e,i,n,s){if(this.trigger("drop",i[0],e.start,n,s,e.resourceId),t)return this.trigger("eventReceive",null,t)},reportEventDrop:function(){var t,e,i,n;return e=arguments[0],t=arguments[1],i=3<=arguments.length?Gt.call(arguments,2):[],t=this.normalizeDropLocation(t),t.resourceId&&e.resourceIds&&(t.resourceIds=null),(n=q.prototype.reportEventDrop).call.apply(n,[this,e,t].concat(Gt.call(i)))},reportExternalDrop:function(){var t,e,i,n;return e=arguments[0],t=arguments[1],i=3<=arguments.length?Gt.call(arguments,2):[],t=this.normalizeDropLocation(t),(n=q.prototype.reportExternalDrop).call.apply(n,[this,e,t].concat(Gt.call(i)))},normalizeDropLocation:function(e){var i;return i=t.extend({},e),delete i.resourceId,this.calendar.setEventResourceId(i,e.resourceId),i}},E={allowCrossResource:!0,eventRangeToSpans:function(e,i){var n,s,r,o,a;if(o=this.view.calendar.getEventResourceIds(i),o.length){for(a=[],n=0,s=o.length;n<s;n++)r=o[n],a.push(t.extend({},e,{resourceId:r}));return a}return p.isBgEvent(i)?f.prototype.eventRangeToSpans.apply(this,arguments):[]},fabricateHelperEvent:function(t,e){var i;return i=f.prototype.fabricateHelperEvent.apply(this,arguments),this.view.calendar.setEventResourceId(i,t.resourceId),i},computeEventDrop:function(t,e,i){var n;return n=this.view.isEventStartEditable(i)?f.prototype.computeEventDrop.apply(this,arguments):p.pluckEventDateProps(i),n&&(this.view.isEventResourceEditable(i)?n.resourceId=e.resourceId:n.resourceId=t.resourceId),n},computeExternalDrop:function(t,e){var i;return i=f.prototype.computeExternalDrop.apply(this,arguments),i&&(i.resourceId=t.resourceId),i},computeEventResize:function(t,e,i,n){var s;if(this.allowCrossResource||e.resourceId===i.resourceId)return s=f.prototype.computeEventResize.apply(this,arguments),s&&(s.resourceId=e.resourceId),s},computeSelectionSpan:function(t,e){var i;if(this.allowCrossResource||t.resourceId===e.resourceId)return i=f.prototype.computeSelectionSpan.apply(this,arguments),i&&(i.resourceId=t.resourceId),i}},_={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(t){return this.flattenedResources=this.flattenResources(t),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(t){var e,i,n,s;return i=this.view.opt("resourceOrder"),i?(e=Pt(i),s=function(t,i){return Q(t,i,e)}):s=null,n=[],this.accumulateResources(t,s,n),n},accumulateResources:function(t,e,i){var n,s,r,o,a;for(e?(a=t.slice(0),a.sort(e)):a=t,o=[],n=0,s=a.length;n<s;n++)r=a[n],i.push(r),o.push(this.accumulateResources(r.children,e,i));return o},updateDayTableCols:function(){return this.datesAboveResources=this.view.opt("groupByDateAndResource"),p.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?Math.floor(t/(this.resourceCnt||1)):t%this.daysPerRow},getColResource:function(t){return this.flattenedResources[this.getColResourceIndex(t)]},getColResourceIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?t%(this.resourceCnt||1):Math.floor(t/this.daysPerRow)},indicesToCol:function(t,e){var i;return i=this.datesAboveResources?e*(this.resourceCnt||1)+t:t*this.daysPerRow+e,this.isRTL&&(i=this.colCnt-1-i),i},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():p.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var t,e,i,n,s;for(s=[],i=this.flattenedResources,t=0,e=i.length;t<e;t++)n=i[t],s.push(this.renderHeadResourceCellHtml(n));return this.wrapTr(s,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var t,e,i,n,s,r,o,a,l,h;for(h=[],e=[],o=this.flattenedResources,n=0,r=o.length;n<r;n++)for(l=o[n],h.push(this.renderHeadResourceCellHtml(l,null,this.daysPerRow)),i=s=0,a=this.daysPerRow;s<a;i=s+=1)t=this.dayDates[i].clone(),e.push(this.renderHeadResourceDateCellHtml(t,l));return this.wrapTr(h,"renderHeadIntroHtml")+this.wrapTr(e,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var t,e,i,n,s,r,o,a,l,h;for(e=[],h=[],i=n=0,o=this.daysPerRow;n<o;i=n+=1)for(t=this.dayDates[i].clone(),e.push(this.renderHeadDateCellHtml(t,this.resourceCnt)),a=this.flattenedResources,s=0,r=a.length;s<r;s++)l=a[s],h.push(this.renderHeadResourceCellHtml(l,t));return this.wrapTr(e,"renderHeadIntroHtml")+this.wrapTr(h,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(t,e,i){return'<th class="fc-resource-cell" data-resource-id="'+t.id+'"'+(e?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(i>1?' colspan="'+i+'"':"")+">"+mt(this.view.getResourceText(t))+"</th>"},renderHeadResourceDateCellHtml:function(t,e,i){return this.renderHeadDateCellHtml(t,i,'data-resource-id="'+e.id+'"')},processHeadResourceEls:function(e){return e.find(".fc-resource-cell").each(function(e){return function(i,n){var s;return s=e.datesAboveResources?e.getColResource(i):e.flattenedResources[e.isRTL?e.flattenedResources.length-1-i:i],e.view.trigger("resourceRender",s,s,t(n),t())}}(this))},renderBgCellsHtml:function(t){var e,i,n,s,r,o;if(this.resourceCnt){for(n=[],e=s=0,r=this.colCnt;s<r;e=s+=1)i=this.getCellDate(t,e),o=this.getColResource(e),n.push(this.renderResourceBgCellHtml(i,o));return n.join("")}return p.DayTableMixin.renderBgCellsHtml.call(this,t);
},renderResourceBgCellHtml:function(t,e){return this.renderBgCellHtml(t,'data-resource-id="'+e.id+'"')},wrapTr:function(t,e){return this.isRTL?(t.reverse(),"<tr>"+t.join("")+this[e]()+"</tr>"):"<tr>"+this[e]()+t.join("")+"</tr>"},computePerResourceBusinessHourSegs:function(t){var e,i,n,s,r,o,a,l,h,c,u,d,p,f,g;if(this.flattenedResources){for(i=!1,d=this.flattenedResources,o=0,h=d.length;o<h;o++)f=d[o],f.businessHours&&(i=!0);if(i){for(e=[],p=this.flattenedResources,a=0,c=p.length;a<c;a++){for(f=p[a],n=f.businessHours||this.view.opt("businessHours"),r=this.view.calendar.computeBusinessHourEvents(t,n),l=0,u=r.length;l<u;l++)s=r[l],s.resourceId=f.id;g=this.eventsToSegs(r),e.push.apply(e,g)}return e}}return null}},T=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.mixin(E),i.mixin(_),i.prototype.getHitSpan=function(t){var e;return e=i.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},i.prototype.spanToSegs=function(e){var i,n,s,r,o,a,l,h,c,u,d,p,f;if(c=this.resourceCnt,n=this.datesAboveResources?this.sliceRangeByDay(e):this.sliceRangeByRow(e),c){for(p=[],r=0,l=n.length;r<l;r++)for(f=n[r],u=o=0,h=c;o<h;u=o+=1)d=this.flattenedResources[u],e.resourceId&&e.resourceId!==d.id||(i=t.extend({},f),i.resource=d,this.isRTL?(i.leftCol=this.indicesToCol(u,f.lastRowDayIndex),i.rightCol=this.indicesToCol(u,f.firstRowDayIndex)):(i.leftCol=this.indicesToCol(u,f.firstRowDayIndex),i.rightCol=this.indicesToCol(u,f.lastRowDayIndex)),p.push(i));return p}for(s=0,a=n.length;s<a;s++)f=n[s],this.isRTL?(f.leftCol=f.lastRowDayIndex,f.rightCol=f.firstRowDayIndex):(f.leftCol=f.firstRowDayIndex,f.rightCol=f.lastRowDayIndex);return n},i.prototype.renderBusinessHours=function(){var t;return t=this.computePerResourceBusinessHourSegs(!0),t?this.renderFill("businessHours",t,"bgevent"):i.__super__.renderBusinessHours.apply(this,arguments)},i}(p.DayGrid),P=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.mixin(E),i.mixin(_),i.prototype.getHitSpan=function(t){var e;return e=i.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},i.prototype.spanToSegs=function(e){var i,n,s,r,o,a,l,h,c,u,d,p,f;if(c=this.resourceCnt,n=this.sliceRangeByTimes(e),c){for(p=[],r=0,l=n.length;r<l;r++)for(f=n[r],u=o=0,h=c;o<h;u=o+=1)d=this.flattenedResources[u],e.resourceId&&e.resourceId!==d.id||(i=t.extend({},f),i.resource=d,i.col=this.indicesToCol(u,f.dayIndex),p.push(i));return p}for(s=0,a=n.length;s<a;s++)f=n[s],f.col=f.dayIndex;return n},i.prototype.renderBusinessHours=function(){var t;return t=this.computePerResourceBusinessHourSegs(!1),t?this.renderBusinessSegs(t):i.__super__.renderBusinessHours.apply(this,arguments)},i}(p.TimeGrid),G=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zt(e,t),e.prototype.timeGrid=null,e.prototype.isScrolled=!1,e.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.intervalDuration=this.timeGrid.duration},e.prototype.instantiateGrid=function(){return new Y(this)},e.prototype.setRange=function(t){return e.__super__.setRange.apply(this,arguments),this.timeGrid.setRange(t)},e.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},e.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},e.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.renderSkeleton(),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",Ht(this,"handleBodyScroll"))},e.prototype.handleBodyScroll=function(t,e){if(t){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},e.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),e.__super__.unrenderSkeleton.apply(this,arguments)},e.prototype.renderDates=function(){return this.timeGrid.renderDates()},e.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},e.prototype.renderBusinessHours=function(){return this.timeGrid.renderBusinessHours()},e.prototype.unrenderBusinessHours=function(){return this.timeGrid.unrenderBusinessHours()},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.renderNowIndicator=function(t){return this.timeGrid.renderNowIndicator(t)},e.prototype.unrenderNowIndicator=function(){return this.timeGrid.unrenderNowIndicator()},e.prototype.prepareHits=function(){return this.timeGrid.prepareHits()},e.prototype.releaseHits=function(){return this.timeGrid.releaseHits()},e.prototype.queryHit=function(t,e){return this.timeGrid.queryHit(t,e)},e.prototype.getHitSpan=function(t){return this.timeGrid.getHitSpan(t)},e.prototype.getHitEl=function(t){return this.timeGrid.getHitEl(t)},e.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},e.prototype.setHeight=function(t,e){var i;return i=e?"auto":t-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(i)},e.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},e.prototype.computeInitialScroll=function(t){return this.timeGrid.computeInitialScroll(t)},e.prototype.queryScroll=function(){return this.timeGrid.queryScroll()},e.prototype.setScroll=function(t){return this.timeGrid.setScroll(t)},e.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.updateWidth()},e.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},e.prototype.renderDrag=function(t,e){return this.timeGrid.renderDrag(t,e)},e.prototype.unrenderDrag=function(){return this.timeGrid.unrenderDrag()},e.prototype.getEventSegs=function(){return this.timeGrid.getEventSegs()},e.prototype.renderSelection=function(t){return this.timeGrid.renderSelection(t)},e.prototype.unrenderSelection=function(){return this.timeGrid.unrenderSelection()},e}(q),it=p.cssToStr,Y=function(i){function n(){var t;n.__super__.constructor.apply(this,arguments),this.initScaleProps(),this.minTime=e.duration(this.opt("minTime")||"00:00"),this.maxTime=e.duration(this.opt("maxTime")||"24:00"),this.timeWindowMs=this.maxTime-this.minTime,this.snapDuration=(t=this.opt("snapDuration"))?e.duration(t):this.slotDuration,this.minResizeDuration=this.snapDuration,this.snapsPerSlot=rt(this.slotDuration,this.snapDuration),this.slotWidth=this.opt("slotWidth")}return zt(n,i),n.prototype.slotDates=null,n.prototype.slotCnt=null,n.prototype.snapCnt=null,n.prototype.snapsPerSlot=null,n.prototype.snapDiffToIndex=null,n.prototype.snapIndexToDiff=null,n.prototype.headEl=null,n.prototype.slatContainerEl=null,n.prototype.slatEls=null,n.prototype.containerCoordCache=null,n.prototype.slatCoordCache=null,n.prototype.slatInnerCoordCache=null,n.prototype.headScroller=null,n.prototype.bodyScroller=null,n.prototype.joiner=null,n.prototype.follower=null,n.prototype.eventTitleFollower=null,n.prototype.minTime=null,n.prototype.maxTime=null,n.prototype.timeWindowMs=null,n.prototype.slotDuration=null,n.prototype.snapDuration=null,n.prototype.duration=null,n.prototype.labelInterval=null,n.prototype.headerFormats=null,n.prototype.isTimeScale=null,n.prototype.largeUnit=null,n.prototype.emphasizeWeeks=!1,n.prototype.titleFollower=null,n.prototype.segContainerEl=null,n.prototype.segContainerHeight=null,n.prototype.bgSegContainerEl=null,n.prototype.helperEls=null,n.prototype.innerEl=null,n.prototype.opt=function(t){return this.view.opt(t)},n.prototype.isValidDate=function(t){var e;return!this.view.isHiddenDay(t)&&(!this.isTimeScale||(e=t.time()-this.minTime,e=(e%864e5+864e5)%864e5,e<this.timeWindowMs))},n.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},n.prototype.computeDisplayEventEnd=function(){return!1},n.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},n.prototype.normalizeGridDate=function(t){var e;return this.isTimeScale?(e=t.clone(),e.hasTime()||e.time(0)):(e=t.clone().stripTime(),this.largeUnit&&e.startOf(this.largeUnit)),e},n.prototype.normalizeGridRange=function(t){var e,i;return this.isTimeScale?i={start:this.normalizeGridDate(t.start),end:this.normalizeGridDate(t.end)}:(i=this.view.computeDayRange(t),this.largeUnit&&(i.start.startOf(this.largeUnit),e=i.end.clone().startOf(this.largeUnit),e.isSame(i.end)&&e.isAfter(i.start)||e.add(this.slotDuration),i.end=e)),i},n.prototype.rangeUpdated=function(){var t,e;for(this.start=this.normalizeGridDate(this.start),this.end=this.normalizeGridDate(this.end),this.isTimeScale&&(this.start.add(this.minTime),this.end.subtract(1,"day").add(this.maxTime)),e=[],t=this.start.clone();t<this.end;)this.isValidDate(t)&&e.push(t.clone()),t.add(this.slotDuration);return this.slotDates=e,this.updateGridDates()},n.prototype.updateGridDates=function(){var t,e,i,n,s;for(n=-1,e=0,i=[],s=[],t=this.start.clone();t<this.end;)this.isValidDate(t)?(n++,i.push(n),s.push(e)):i.push(n+.5),t.add(this.snapDuration),e++;return this.snapDiffToIndex=i,this.snapIndexToDiff=s,this.snapCnt=n+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},n.prototype.spanToSegs=function(t){var e,i;return e=this.normalizeGridRange(t),this.computeDateSnapCoverage(t.start)<this.computeDateSnapCoverage(t.end)&&(i=vt(e,this))?(i.isStart&&!this.isValidDate(i.start)&&(i.isStart=!1),i.isEnd&&i.end&&!this.isValidDate(i.end.clone().subtract(1))&&(i.isEnd=!1),[i]):[]},n.prototype.prepareHits=function(){return this.buildCoords()},n.prototype.queryHit=function(t,e){var i,n,s,r,o,a,l,h,c,u,d,p;if(p=this.snapsPerSlot,r=this.slatCoordCache,i=this.containerCoordCache,i.isTopInBounds(e)&&(o=r.getHorizontalIndex(t),null!=o))return h=r.getWidth(o),this.isRTL?(l=r.getRightOffset(o),s=(l-t)/h,n=Math.floor(s*p),c=o*p+n,d=l-n/p*h,u=d-(n+1)/p*h):(a=r.getLeftOffset(o),s=(t-a)/h,n=Math.floor(s*p),c=o*p+n,u=a+n/p*h,d=a+(n+1)/p*h),{snap:c,component:this,left:u,right:d,top:i.getTopOffset(0),bottom:i.getBottomOffset(0)}},n.prototype.getHitSpan=function(t){return this.getSnapRange(t.snap)},n.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},n.prototype.getSnapRange=function(t){var e,i;return i=this.start.clone(),i.add(kt(this.snapDuration,this.snapIndexToDiff[t])),e=i.clone().add(this.snapDuration),{start:i,end:e}},n.prototype.getSnapEl=function(t){return this.slatEls.eq(Math.floor(t/this.snapsPerSlot))},n.prototype.renderSkeleton=function(){return this.headScroller=new o({overflowX:"clipped-scroll",overflowY:"hidden"}),this.headScroller.canvas=new z,this.headScroller.render(),this.headEl.append(this.headScroller.el),this.bodyScroller=new o,this.bodyScroller.canvas=new z,this.bodyScroller.render(),this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.canvas.contentEl,this.slatContainerEl=t('<div class="fc-slats"/>').appendTo(this.bodyScroller.canvas.bgEl),this.segContainerEl=t('<div class="fc-event-container"/>').appendTo(this.bodyScroller.canvas.contentEl),this.bgSegContainerEl=this.bodyScroller.canvas.bgEl,this.containerCoordCache=new a({els:this.bodyScroller.canvas.el,isHorizontal:!0,isVertical:!0}),this.joiner=new j("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new B(this.headScroller,this.view.calendar.isTouch),this.eventTitleFollower=new B(this.bodyScroller,this.view.calendar.isTouch),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,n.__super__.renderSkeleton.apply(this,arguments)},n.prototype.headColEls=null,n.prototype.slatColEls=null,n.prototype.renderDates=function(){var t,e,i,n,s;for(this.headScroller.canvas.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.canvas.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new a({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new a({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.canvas.el}),s=this.slotDates,e=i=0,n=s.length;i<n;e=++i)t=s[e],this.view.trigger("dayRender",null,t,this.slatEls.eq(e));if(this.follower)return this.follower.setSprites(this.headEl.find("tr:not(:last-child) span"))},n.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.canvas.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.canvas.clearWidth(),this.bodyScroller.canvas.clearWidth()},n.prototype.renderHeadHtml=function(){var t,e,i,n,s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b,w,x,S,k,C,D,T,_,E,M,A,I,P,R,H,$,L;for(g=this.labelInterval,r=this.headerFormats,e=function(){var t,e,i;for(i=[],t=0,e=r.length;t<e;t++)s=r[t],i.push([]);return i}(),m=null,E=null,H=this.slotDates,R=[],d=0,v=H.length;d<v;d++){for(i=H[d],L=i.week(),u=this.emphasizeWeeks&&null!==E&&E!==L,A=p=0,y=r.length;p<y;A=++p)s=r[A],I=e[A],m=I[I.length-1],c=r.length>1&&A<r.length-1,T=null,c?($=i.format(s),n=i.format(),m&&m.text===$?m.colspan+=1:T={text:$,dateData:n,colspan:1}):!m||wt(ot(this.start,i,g))?($=i.format(s),n=i.format(),T={text:$,dateData:n,colspan:1}):m.colspan+=1,T&&(T.weekStart=u,I.push(T));R.push({weekStart:u}),E=L}for(l=g>this.slotDuration,o="<table>",o+="<colgroup>",f=0,b=H.length;f<b;f++)i=H[f],o+="<col/>";for(o+="</colgroup>",o+="<tbody>",a=C=0,w=e.length;C<w;a=++C){for(I=e[a],h=a===e.length-1,o+="<tr"+(l&&h?' class="fc-chrono"':"")+">",D=0,x=I.length;D<x;D++)t=I[D],o+='<th class="'+this.view.widgetHeaderClass+" "+(t.weekStart?"fc-em-cell":"")+'" data-date="'+t.dateData+'"'+(t.colspan>1?' colspan="'+t.colspan+'"':"")+'><div class="fc-cell-content"><span class="fc-cell-text">'+mt(t.text)+"</span></div></th>";o+="</tr>"}for(o+="</tbody></table>",P="<table>",P+="<colgroup>",_=0,S=R.length;_<S;_++)t=R[_],P+="<col/>";for(P+="</colgroup>",P+="<tbody><tr>",a=M=0,k=R.length;M<k;a=++M)t=R[a],i=H[a],P+=this.slatCellHtml(i,t.weekStart);return P+="</tr></tbody></table>",this._slatHtml=P,o},n.prototype.renderSlatHtml=function(){return this._slatHtml},n.prototype.slatCellHtml=function(t,e){var i;return this.isTimeScale?(i=[],i.push(wt(ot(this.start,t,this.labelInterval))?"fc-major":"fc-minor")):(i=this.getDayClasses(t),i.push("fc-day")),i.unshift(this.view.widgetContentClass),e&&i.push("fc-em-cell"),'<td class="'+i.join(" ")+'" data-date="'+t.format()+'"><div /></td>'},n.prototype.businessHourSegs=null,n.prototype.renderBusinessHours=function(){var t;if(!this.largeUnit)return t=this.businessHourSegs=this.buildBusinessHourSegs(!this.isTimeScale),this.renderFill("businessHours",t,"bgevent")},n.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},n.prototype.nowIndicatorEls=null,n.prototype.getNowIndicatorUnit=function(){if(this.isTimeScale)return Z(this.slotDuration)},n.prototype.renderNowIndicator=function(e){var i,n,s;return s=[],e=this.normalizeGridDate(e),e>=this.start&&e<this.end&&(i=this.dateToCoord(e),n=this.isRTL?{right:-i}:{left:i},s.push(t("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(n).appendTo(this.headScroller.canvas.el)[0]),s.push(t("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(n).appendTo(this.bodyScroller.canvas.el)[0])),this.nowIndicatorEls=t(s)},n.prototype.unrenderNowIndicator=function(){if(this.nowIndicatorEls)return this.nowIndicatorEls.remove(),this.nowIndicatorEls=null},n.prototype.explicitSlotWidth=null,n.prototype.defaultSlotWidth=null,n.prototype.updateWidth=function(){var t,e,i,n,s;if(s=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),i=s*this.slotDates.length,e="",n=s,t=this.bodyScroller.getClientWidth(),t>i&&(e=t,i="",n=Math.floor(t/this.slotDates.length)),this.headScroller.canvas.setWidth(i),this.headScroller.canvas.setMinWidth(e),this.bodyScroller.canvas.setWidth(i),this.bodyScroller.canvas.setMinWidth(e),this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(n),this.headScroller.updateSize(),this.bodyScroller.updateSize(),this.joiner.update(),this.buildCoords(),this.updateSegPositions(),this.view.updateNowIndicator(),this.follower&&this.follower.update(),this.eventTitleFollower)return this.eventTitleFollower.update()},n.prototype.computeSlotWidth=function(){var e,i,n,s,r,o;return n=0,i=this.headEl.find("tr:last-child th span"),i.each(function(e,i){var s;return s=t(i).outerWidth(),n=Math.max(n,s)}),e=n+1,o=rt(this.labelInterval,this.slotDuration),r=Math.ceil(e/o),s=this.headColEls.eq(0).css("min-width"),s&&(s=parseInt(s,10),s&&(r=Math.max(r,s))),r},n.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},n.prototype.computeDateSnapCoverage=function(t){var e,i,n;return i=ot(this.start,t,this.snapDuration),i<0?0:i>=this.snapDiffToIndex.length?this.snapCnt:(n=Math.floor(i),e=this.snapDiffToIndex[n],wt(e)?e+=i-n:e=Math.ceil(e),e)},n.prototype.dateToCoord=function(t){var e,i,n,s,r;return r=this.computeDateSnapCoverage(t),n=r/this.snapsPerSlot,s=Math.floor(n),s=Math.min(s,this.slotCnt-1),i=n-s,e=this.slatInnerCoordCache,this.isRTL?e.getRightPosition(s)-e.getWidth(s)*i-this.containerCoordCache.getWidth(0):e.getLeftPosition(s)+e.getWidth(s)*i},n.prototype.rangeToCoords=function(t){return this.isRTL?{right:this.dateToCoord(t.start),left:this.dateToCoord(t.end)}:{left:this.dateToCoord(t.start),right:this.dateToCoord(t.end)}},n.prototype.headHeight=function(){var t;return t=this.headScroller.canvas.contentEl.find("table"),t.height.apply(t,arguments)},n.prototype.updateSegPositions=function(){var t,e,i,n,s;for(s=(this.segs||[]).concat(this.businessHourSegs||[]),e=0,i=s.length;e<i;e++)n=s[e],t=this.rangeToCoords(n),n.el.css({left:n.left=t.left,right:-(n.right=t.right)})},n.prototype.computeInitialScroll=function(t){var i,n;return i=0,this.isTimeScale&&(n=this.opt("scrollTime"),n&&(n=e.duration(n),i=this.dateToCoord(this.start.clone().time(n)))),{left:i,top:0}},n.prototype.queryScroll=function(){return{left:this.bodyScroller.getScrollLeft(),top:this.bodyScroller.getScrollTop()}},n.prototype.setScroll=function(t){return this.headScroller.setScrollLeft(t.left),this.headScroller.setScrollLeft(t.left),this.bodyScroller.setScrollTop(t.top)},n.prototype.renderFgSegs=function(t){return t=this.renderFgSegEls(t),this.renderFgSegsInContainers([[this,t]]),this.updateSegFollowers(t),t},n.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},n.prototype.renderFgSegsInContainers=function(t){var e,i,n,s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b,w,x,S,k,C,D;for(n=0,o=t.length;n<o;n++)for(b=t[n],e=b[0],D=b[1],s=0,a=D.length;s<a;s++)C=D[s],i=this.rangeToCoords(C),C.el.css({left:C.left=i.left,right:-(C.right=i.right)});for(r=0,l=t.length;r<l;r++)for(w=t[r],e=w[0],D=w[1],f=0,h=D.length;f<h;f++)C=D[f],C.el.appendTo(e.segContainerEl);for(g=0,c=t.length;g<c;g++){for(x=t[g],e=x[0],D=x[1],m=0,u=D.length;m<u;m++)C=D[m],C.height=C.el.outerHeight(!0);this.buildSegLevels(D),e.segContainerHeight=tt(D)}for(k=[],v=0,d=t.length;v<d;v++){for(S=t[v],e=S[0],D=S[1],y=0,p=D.length;y<p;y++)C=D[y],C.el.css("top",C.top);k.push(e.segContainerEl.height(e.segContainerHeight))}return k},n.prototype.buildSegLevels=function(t){var e,i,n,s,r,o,a,l,h,c,u,d,p,f;for(p=[],this.sortEventSegs(t),n=0,o=t.length;n<o;n++){for(f=t[n],f.above=[],h=0;h<p.length;){for(i=!1,u=p[h],s=0,a=u.length;s<a;s++)c=u[s],Nt(f,c)&&(f.above.push(c),i=!0);if(!i)break;h+=1}for((p[h]||(p[h]=[])).push(f),h+=1;h<p.length;){for(d=p[h],r=0,l=d.length;r<l;r++)e=d[r],Nt(f,e)&&e.above.push(f);h+=1}}return p},n.prototype.unrenderFgContainers=function(t){var e,i,n,s;for(s=[],i=0,n=t.length;i<n;i++)e=t[i],e.segContainerEl.empty(),e.segContainerEl.height(""),s.push(e.segContainerHeight=null);return s},n.prototype.fgSegHtml=function(t,e){var i,n,s,r,o,a;return n=t.event,s=this.view.isEventDraggable(n),o=t.isStart&&this.view.isEventResizableFromStart(n),r=t.isEnd&&this.view.isEventResizableFromEnd(n),i=this.getSegClasses(t,s,o||r),i.unshift("fc-timeline-event","fc-h-event"),a=this.getEventTimeText(n),'<a class="'+i.join(" ")+'" style="'+it(this.getSegSkinCss(t))+'"'+(n.url?' href="'+mt(n.url)+'"':"")+'><div class="fc-content">'+(a?'<span class="fc-time">'+mt(a)+"</span>":"")+'<span class="fc-title">'+(n.title?mt(n.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(o?'<div class="fc-resizer fc-start-resizer"></div>':"")+(r?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},n.prototype.updateSegFollowers=function(t){var e,i,n,s,r;if(this.eventTitleFollower){for(s=[],e=0,i=t.length;e<i;e++)n=t[e],r=n.el.find(".fc-title"),r.length&&s.push(new N(r));return this.eventTitleFollower.setSprites(s)}},n.prototype.clearSegFollowers=function(){if(this.eventTitleFollower)return this.eventTitleFollower.clearSprites()},n.prototype.segDragStart=function(){if(n.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.forceRelative()},n.prototype.segDragEnd=function(){if(n.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.clearForce()},n.prototype.segResizeStart=function(){if(n.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.forceRelative()},n.prototype.segResizeEnd=function(){if(n.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.clearForce()},n.prototype.renderHelper=function(t,e){var i;return i=this.eventToSegs(t),i=this.renderFgSegEls(i),this.renderHelperSegsInContainers([[this,i]],e)},n.prototype.renderHelperSegsInContainers=function(e,i){var n,s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b,w;for(o=[],b=[],a=0,c=e.length;a<c;a++)for(g=e[a],n=g[0],w=g[1],l=0,u=w.length;l<u;l++)y=w[l],s=this.rangeToCoords(y),y.el.css({left:y.left=s.left,right:-(y.right=s.right)}),i&&i.resourceId===(null!=(m=n.resource)?m.id:void 0)?y.el.css("top",i.el.css("top")):y.el.css("top",0);for(h=0,d=e.length;h<d;h++)for(v=e[h],n=v[0],w=v[1],r=t('<div class="fc-event-container fc-helper-container"/>').appendTo(n.innerEl),o.push(r[0]),f=0,p=w.length;f<p;f++)y=w[f],r.append(y.el),b.push(y.el[0]);return this.helperEls?this.helperEls=this.helperEls.add(t(o)):this.helperEls=t(o),t(b)},n.prototype.unrenderHelper=function(){if(this.helperEls)return this.helperEls.remove(),this.helperEls=null},n.prototype.renderEventResize=function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},n.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},n.prototype.renderFill=function(t,e,i){return e=this.renderFillSegEls(t,e),this.renderFillInContainers(t,[[this,e]],i),e},n.prototype.renderFillInContainers=function(t,e,i){var n,s,r,o,a,l;for(a=[],s=0,r=e.length;s<r;s++)o=e[s],n=o[0],l=o[1],a.push(this.renderFillInContainer(t,n,l,i));return a},n.prototype.renderFillInContainer=function(e,i,n,s){var r,o,a,l,h;if(n.length){for(s||(s=e.toLowerCase()),r=t('<div class="fc-'+s+'-container" />').appendTo(i.bgSegContainerEl),a=0,l=n.length;a<l;a++)h=n[a],o=this.rangeToCoords(h),h.el.css({left:h.left=o.left,right:-(h.right=o.right)}),h.el.appendTo(r);return this.elsByFill[e]?this.elsByFill[e]=this.elsByFill[e].add(r):this.elsByFill[e]=r}},n.prototype.renderDrag=function(t,e){return e?this.renderEventLocationHelper(t,e):(this.renderHighlight(this.eventToSpan(t)),null)},n.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},n}(f),tt=function(t){var e,i,n,s;for(n=0,e=0,i=t.length;e<i;e++)s=t[e],n=Math.max(n,J(s));return n},J=function(t){return null==t.top&&(t.top=tt(t.above)),t.top+t.height},Nt=function(t,e){return t.left<e.right&&t.right>e.left},x=18,b=6,y=200,w=1e3,l={months:1},F=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],Y.prototype.initScaleProps=function(){var e,i,n;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.ensureGridDuration(),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),e=this.opt("slotLabelFormat"),n=t.type(e),this.headerFormats="array"===n?e:"string"===n?[e]:this.computeHeaderFormats(),this.isTimeScale=at(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(i=Z(this.slotDuration),/year|month|week/.test(i)?i:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.duration.as("weeks")>=2&&!this.opt("businessHours")},Y.prototype.queryDurationOption=function(t){var i,n;if(n=this.opt(t),null!=n&&(i=e.duration(n),+i))return i},Y.prototype.validateLabelAndSlot=function(){var t,e,i;if(this.labelInterval&&(t=rt(this.duration,this.labelInterval),t>w&&(p.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(e=rt(this.duration,this.slotDuration),e>w&&(p.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(i=rt(this.labelInterval,this.slotDuration),!wt(i)||i<1))return p.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null},Y.prototype.ensureGridDuration=function(){var t,i,n,s,r;if(t=this.duration,!t){if(t=this.view.intervalDuration,!t)if(this.labelInterval||this.slotDuration)for(r=this.ensureLabelInterval(),n=F.length-1;n>=0&&(i=F[n],t=e.duration(i),s=rt(t,r),!(s>=x));n+=-1);else t=e.duration(l);this.duration=t}return t},Y.prototype.ensureLabelInterval=function(){var t,i,n,s,r,o,a,l,h;if(r=this.labelInterval,!r){if(this.duration||this.slotDuration||this.ensureGridDuration(),this.slotDuration){for(i=0,o=F.length;i<o;i++)if(t=F[i],h=e.duration(t),l=rt(h,this.slotDuration),wt(l)&&l<=b){r=h;break}r||(r=this.slotDuration)}else for(n=0,a=F.length;n<a&&(t=F[n],r=e.duration(t),s=rt(this.duration,r),!(s>=x));n++);this.labelInterval=r}return r},Y.prototype.ensureSlotDuration=function(){var t,i,n,s,r,o,a,l;if(o=this.slotDuration,!o){for(n=this.ensureLabelInterval(),i=0,s=F.length;i<s;i++)if(t=F[i],l=e.duration(t),a=rt(n,l),wt(a)&&a>1&&a<=b){o=l;break}o&&this.duration&&(r=rt(this.duration,o),r>y&&(o=null)),o||(o=n),this.slotDuration=o}return o},Y.prototype.computeHeaderFormats=function(){var t,e,i,n,s,r,o,a;switch(o=this.view,n=this.duration,s=this.labelInterval,r=Z(s),a=this.opt("weekNumbers"),t=e=i=null,"week"!==r||a||(r="day"),r){case"year":t="YYYY";break;case"month":n.asYears()>1&&(t="YYYY"),e="MMM";break;case"week":n.asYears()>1&&(t="YYYY"),e=this.opt("shortWeekFormat");break;case"day":n.asYears()>1?t=this.opt("monthYearFormat"):n.asMonths()>1&&(t="MMMM"),a&&(e=this.opt("weekFormat")),i="dd D";break;case"hour":a&&(t=this.opt("weekFormat")),n.asDays()>1&&(e=this.opt("dayOfMonthFormat")),i=this.opt("smallTimeFormat");break;case"minute":s.asMinutes()/60>=b?(t=this.opt("hourFormat"),e="[:]mm"):t=this.opt("mediumTimeFormat");break;case"second":s.asSeconds()/60>=b?(t="LT",e="[:]ss"):t="LTS";break;case"millisecond":t="LTS",e="[.]SSS"}return[].concat(t||[],e||[],i||[])},p.views.timeline={"class":G,defaults:{eventResizableFromStart:!0}},p.views.timelineDay={type:"timeline",duration:{days:1}},p.views.timelineWeek={type:"timeline",duration:{weeks:1}},p.views.timelineMonth={type:"timeline",duration:{months:1}},p.views.timelineYear={type:"timeline",duration:{years:1}},H=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.mixin($),i.prototype.resourceGrid=null,i.prototype.tbodyHash=null,i.prototype.joiner=null,i.prototype.dividerEls=null,i.prototype.superHeaderText=null,i.prototype.isVGrouping=null,i.prototype.isHGrouping=null,i.prototype.groupSpecs=null,i.prototype.colSpecs=null,i.prototype.orderSpecs=null,i.prototype.rowHierarchy=null,i.prototype.resourceRowHash=null,i.prototype.nestingCnt=0,i.prototype.isNesting=null,i.prototype.dividerWidth=null,i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new W(this),this.rowHierarchy=new O(this),this.resourceRowHash={}},i.prototype.instantiateGrid=function(){return new R(this)},i.prototype.processResourceOptions=function(){var t,e,i,n,s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b,w,x;for(t=this.opt("resourceColumns")||[],f=this.opt("resourceLabelText"),n="Resources",x=null,t.length?x=f:t.push({labelText:f||n,text:this.getResourceTextFunc()}),b=[],s=[],o=[],c=!1,h=!1,u=0,g=t.length;u<g;u++)i=t[u],i.group?s.push(i):b.push(i);for(b[0].isMain=!0,s.length?(o=s,c=!0):(a=this.opt("resourceGroupField"),a&&(h=!0,o.push({field:a,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),e=Pt(this.opt("resourceOrder")),w=[],d=0,m=e.length;d<m;d++){for(y=e[d],l=!1,p=0,v=o.length;p<v;p++)if(r=o[p],r.field===y.field){r.order=y.order,l=!0;break}l||w.push(y)}return this.superHeaderText=x,this.isVGrouping=c,this.isHGrouping=h,this.groupSpecs=o,this.colSpecs=s.concat(b),this.orderSpecs=w},i.prototype.renderSkeleton=function(){return i.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new j("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},i.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-resource-area '+this.widgetHeaderClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+this.widgetContentClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},i.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},i.prototype.initDividerMoving=function(){var t;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(t=this.opt("resourceAreaWidth"))?t:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(t){return function(e){return t.dividerMousedown(e)}}(this))},i.prototype.dividerMousedown=function(t){var e,i,n,s,r;return i=this.opt("isRTL"),s=30,n=this.el.width()-30,r=this.getNaturalDividerWidth(),e=new h({dragStart:function(t){return function(){return t.dividerEls.addClass("fc-active")}}(this),drag:function(t){return function(e,o){var a;return a=i?r-e:r+e,a=Math.max(a,s),a=Math.min(a,n),t.dividerWidth=a,t.positionDivider(a),t.updateWidth()}}(this),dragEnd:function(t){return function(){return t.dividerEls.removeClass("fc-active")}}(this)}),e.startInteraction(t)},i.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},i.prototype.positionDivider=function(t){return this.el.find(".fc-resource-area").width(t)},i.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.syncRowHeights(),this.updateWidth()},i.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth();
},i.prototype.updateWidth=function(){if(i.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower)return this.cellFollower.update()},i.prototype.updateHeight=function(t){if(i.__super__.updateHeight.apply(this,arguments),t)return this.syncRowHeights()},i.prototype.setHeight=function(t,e){var i,n;return n=this.syncHeadHeights(),i=e?"auto":t-n-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(i),this.resourceGrid.bodyScroller.setHeight(i)},i.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},i.prototype.syncHeadHeights=function(){var t;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),t=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(t),this.timeGrid.headHeight(t),t},i.prototype.scrollToResource=function(t){return this.timeGrid.scrollToResource(t)},i.prototype.setResources=function(t){var e,i,n;for(this.batchRows(),e=0,i=t.length;e<i;e++)n=t[e],this.insertResource(n);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},i.prototype.unsetResources=function(){return this.clearEvents(),this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},i.prototype.addResource=function(t){return this.insertResource(t),this.reinitializeCellFollowers()},i.prototype.removeResource=function(t){var e;if(e=this.getResourceRow(t.id))return this.batchRows(),e.remove(),this.unbatchRows(),this.reinitializeCellFollowers()},i.prototype.cellFollower=null,i.prototype.reinitializeCellFollowers=function(){var e,i,n,s,r,o;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new B(this.resourceGrid.bodyScroller,this.calendar.isTouch),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,s=[],r=this.rowHierarchy.getNodes(),i=0,n=r.length;i<n;i++)o=r[i],o instanceof V&&o.groupTd&&(e=o.groupTd.find(".fc-cell-content"),e.length&&s.push(e[0]));return this.cellFollower.setSprites(t(s))},i.prototype.insertResource=function(t,e){var i,n,s,r,o,a,l;for(l=new I(this,t),null==e&&(r=t.parentId,r&&(e=this.getResourceRow(r))),e?this.insertRowAsChild(l,e):this.insertRow(l),o=t.children,a=[],n=0,s=o.length;n<s;n++)i=o[n],a.push(this.insertResource(i,l));return a},i.prototype.insertRow=function(t,e,i){var n;return null==e&&(e=this.rowHierarchy),null==i&&(i=this.groupSpecs),i.length?(n=this.ensureResourceGroup(t,e,i[0]),n instanceof g?this.insertRowAsChild(t,n):this.insertRow(t,n,i.slice(1))):this.insertRowAsChild(t,e)},i.prototype.insertRowAsChild=function(t,e){return e.addChild(t,this.computeChildRowPosition(t,e))},i.prototype.computeChildRowPosition=function(t,e){var i,n,s,r,o,a;if(this.orderSpecs.length)for(o=e.children,n=s=0,r=o.length;s<r;n=++s)if(a=o[n],i=this.compareResources(a.resource||{},t.resource||{}),i>0)return n;return null},i.prototype.compareResources=function(t,e){return Q(t,e,this.orderSpecs)},i.prototype.ensureResourceGroup=function(t,e,i){var n,s,r,o,a,l,h,c,u,d,p;if(r=(t.resource||{})[i.field],s=null,i.order)for(u=e.children,o=a=0,h=u.length;a<h;o=++a){if(p=u[o],n=lt(p.groupValue,r)*i.order,0===n){s=p;break}if(n>0)break}else for(d=e.children,o=l=0,c=d.length;l<c;o=++l)if(p=d[o],p.groupValue===r){s=p;break}return s||(s=this.isVGrouping?new V(this,i,r):new g(this,i,r),e.addChild(s,o)),s},i.prototype.pairSegsWithRows=function(t){var e,i,n,s,r,o,a,l;for(s=[],r={},e=0,i=t.length;e<i;e++)l=t[e],o=l.resourceId,o&&(a=this.getResourceRow(o),a&&(n=r[o],n||(n=[a,[]],s.push(n),r[o]=n),n[1].push(l)));return s},i.prototype.rowAdded=function(t){var e,i;return t instanceof I&&(this.resourceRowHash[t.resource.id]=t,this.timeGrid.assignRowBusinessHourSegs(t)),i=this.isNesting,e=Boolean(this.nestingCnt+=t.depth?1:0),i!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},i.prototype.rowRemoved=function(t){var e,i;return t instanceof I&&(delete this.resourceRowHash[t.resource.id],this.timeGrid.destroyRowBusinessHourSegs(t)),i=this.isNesting,e=Boolean(this.nestingCnt-=t.depth?1:0),i!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},i.prototype.batchRowDepth=0,i.prototype.shownRowBatch=null,i.prototype.hiddenRowBatch=null,i.prototype.batchRows=function(){if(!this.batchRowDepth++)return this.shownRowBatch=[],this.hiddenRowBatch=[]},i.prototype.unbatchRows=function(){if(!--this.batchRowDepth)return this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null},i.prototype.rowShown=function(t){return this.shownRowBatch?this.shownRowBatch.push(t):this.rowsShown([t])},i.prototype.rowHidden=function(t){return this.hiddenRowBatch?this.hiddenRowBatch.push(t):this.rowsHidden([t])},i.prototype.rowsShown=function(t){return this.syncRowHeights(t),this.updateWidth()},i.prototype.rowsHidden=function(t){return this.updateWidth()},i.prototype.syncRowHeights=function(t,e){var i,n,s,r,o,a,l,h,c,u;for(null==e&&(e=!1),null==t&&(t=this.getVisibleRows()),a=0,h=t.length;a<h;a++)u=t[a],u.setTrInnerHeight("");for(o=function(){var n,s,r;for(r=[],n=0,s=t.length;n<s;n++)u=t[n],i=u.getMaxTrInnerHeight(),e&&(i+=i%2),r.push(i);return r}(),r=l=0,c=t.length;l<c;r=++l)u=t[r],u.setTrInnerHeight(o[r]);if(!e&&(n=this.resourceGrid.tbodyEl.height(),s=this.timeGrid.tbodyEl.height(),Math.abs(n-s)>1))return this.syncRowHeights(t,!0)},i.prototype.getVisibleRows=function(){var t,e,i,n,s;for(i=this.rowHierarchy.getRows(),n=[],t=0,e=i.length;t<e;t++)s=i[t],s.isShown&&n.push(s);return n},i.prototype.getEventRows=function(){var t,e,i,n,s;for(i=this.rowHierarchy.getRows(),n=[],t=0,e=i.length;t<e;t++)s=i[t],s instanceof d&&n.push(s);return n},i.prototype.getResourceRow=function(t){return this.resourceRowHash[t]},i.prototype.setScroll=function(t){return i.__super__.setScroll.apply(this,arguments),this.resourceGrid.bodyScroller.setScrollTop(t.top)},i}(G),R=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.mixin(E),i.prototype.eventRows=null,i.prototype.shownEventRows=null,i.prototype.tbodyEl=null,i.prototype.rowCoordCache=null,i.prototype.spanToSegs=function(t){var e,n,s,r,o,a;if(a=i.__super__.spanToSegs.apply(this,arguments),e=this.view.calendar,r=t.resourceId)for(n=0,s=a.length;n<s;n++)o=a[n],o.resource=e.getResourceById(r),o.resourceId=r;return a},i.prototype.prepareHits=function(){var t,e;return i.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var e,i,n,s;for(n=this.eventRows,s=[],e=0,i=n.length;e<i;e++)t=n[e],t.isShown&&s.push(t);return s}.call(this),e=function(){var e,i,n,s;for(n=this.shownEventRows,s=[],e=0,i=n.length;e<i;e++)t=n[e],s.push(t.getTr("event")[0]);return s}.call(this),this.rowCoordCache=new a({els:e,isVertical:!0}),this.rowCoordCache.build()},i.prototype.releaseHits=function(){return i.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},i.prototype.queryHit=function(t,e){var n,s;if(s=i.__super__.queryHit.apply(this,arguments),s&&(n=this.rowCoordCache.getVerticalIndex(e),null!=n))return{resourceId:this.shownEventRows[n].resource.id,snap:s.snap,component:this,left:s.left,right:s.right,top:this.rowCoordCache.getTopOffset(n),bottom:this.rowCoordCache.getBottomOffset(n)}},i.prototype.getHitSpan=function(t){var e;return e=this.getSnapRange(t.snap),e.resourceId=t.resourceId,e},i.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},i.prototype.renderSkeleton=function(){var e;return i.__super__.renderSkeleton.apply(this,arguments),this.segContainerEl.remove(),this.segContainerEl=null,e=t('<div class="fc-rows"><table><tbody/></table></div>').appendTo(this.bodyScroller.canvas.contentEl),this.tbodyEl=e.find("tbody")},i.prototype.renderFgSegs=function(t){var e,i,n,s,r,o,a;for(t=this.renderFgSegEls(t),o=this.view.pairSegsWithRows(t),a=[],n=0,s=o.length;n<s;n++)r=o[n],e=r[0],i=r[1],e.fgSegs=i,e.isShown&&(e.isSegsRendered=!0,a.push(r));return this.renderFgSegsInContainers(a),this.updateSegFollowers(t),t},i.prototype.unrenderFgSegs=function(){var t,e,i,n;for(this.clearSegFollowers(),e=this.view.getEventRows(),i=0,n=e.length;i<n;i++)t=e[i],t.fgSegs=null,t.isSegsRendered=!1;return this.unrenderFgContainers(e)},i.prototype.rowCntWithCustomBusinessHours=0,i.prototype.renderBusinessHours=function(){return this.rowCntWithCustomBusinessHours?this.ensureIndividualBusinessHours():i.__super__.renderBusinessHours.apply(this,arguments)},i.prototype.unrenderBusinessHours=function(){return this.rowCntWithCustomBusinessHours?this.clearIndividualBusinessHours():i.__super__.unrenderBusinessHours.apply(this,arguments)},i.prototype.ensureIndividualBusinessHours=function(){var t,e,i,n,s;for(i=this.view.getEventRows(),n=[],t=0,e=i.length;t<e;t++)s=i[t],s.businessHourSegs||this.populateRowBusinessHoursSegs(s),s.isShown?n.push(s.ensureBusinessHourSegsRendered()):n.push(void 0);return n},i.prototype.clearIndividualBusinessHours=function(){var t,e,i,n,s;for(i=this.view.getEventRows(),n=[],t=0,e=i.length;t<e;t++)s=i[t],n.push(s.clearBusinessHourSegs());return n},i.prototype.assignRowBusinessHourSegs=function(t){if(t.resource.businessHours&&(this.rowCntWithCustomBusinessHours||(Y.prototype.unrenderBusinessHours.call(this),this.ensureIndividualBusinessHours()),this.rowCntWithCustomBusinessHours+=1),this.rowCntWithCustomBusinessHours)return this.populateRowBusinessHoursSegs(t)},i.prototype.destroyRowBusinessHourSegs=function(t){if(t.clearBusinessHourSegs(),t.resource.businessHours&&(this.rowCntWithCustomBusinessHours-=1,!this.rowCntWithCustomBusinessHours))return this.clearIndividualBusinessHours(),Y.prototype.renderBusinessHours.call(this)},i.prototype.populateRowBusinessHoursSegs=function(t){var e,i,n;i=t.resource.businessHours||this.view.opt("businessHours"),n=this.view.calendar.computeBusinessHourEvents(!this.isTimeScale,i),e=this.eventsToSegs(n),e=this.renderFillSegEls("businessHours",e),t.businessHourSegs=e},i.prototype.renderFill=function(t,e,i){var n,s,r,o,a,l,h,c,u,d,p,f;for(e=this.renderFillSegEls(t,e),c=[],a=[],n=0,r=e.length;n<r;n++)p=e[n],p.resourceId?c.push(p):a.push(p);for(h=this.view.pairSegsWithRows(c),f=[],s=0,o=h.length;s<o;s++)l=h[s],u=l[0],d=l[1],"bgEvent"===t&&(u.bgSegs=d),u.isShown&&f.push(l);return a.length&&f.unshift([this,a]),this.renderFillInContainers(t,f,i),e},i.prototype.renderHelper=function(t,e){var i,n;return n=this.eventToSegs(t),n=this.renderFgSegEls(n),i=this.view.pairSegsWithRows(n),this.renderHelperSegsInContainers(i,e)},i.prototype.computeInitialScroll=function(t){var e;return e=i.__super__.computeInitialScroll.apply(this,arguments),t&&(e.resourceId=t.resourceId,e.bottom=t.bottom),e},i.prototype.queryScroll=function(){var t,e,n,s,r,o,a,l;for(l=i.__super__.queryScroll.apply(this,arguments),a=this.bodyScroller.scrollEl.offset().top,r=this.view.getVisibleRows(),n=0,s=r.length;n<s;n++)if(o=r[n],o.resource&&(t=o.getTr("event"),e=t.offset().top+t.outerHeight(),e>a)){l.resourceId=o.resource.id,l.bottom=e-a;break}return l},i.prototype.setScroll=function(t){var e,n,s,r;return t.resourceId&&(r=this.view.getResourceRow(t.resourceId),r&&(e=r.getTr("event"),e&&(s=this.bodyScroller.canvas.el.offset().top,n=e.offset().top+e.outerHeight(),t.top=n-t.bottom-s))),i.__super__.setScroll.call(this,t)},i.prototype.scrollToResource=function(t){var e,i,n,s;if(n=this.view.getResourceRow(t.id),n&&(e=n.getTr("event")))return i=this.bodyScroller.canvas.el.offset().top,s=e.offset().top-i,this.bodyScroller.scrollEl.scrollTop(s)},i}(Y),i=30,W=function(){function e(t){var e;this.view=t,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var t,i,n,s;for(n=this.view.colSpecs,s=[],t=0,i=n.length;t<i;t++)e=n[t],s.push(e.width);return s}.call(this)}return e.prototype.view=null,e.prototype.headEl=null,e.prototype.el=null,e.prototype.tbodyEl=null,e.prototype.headScroller=null,e.prototype.bodyScroller=null,e.prototype.joiner=null,e.prototype.colGroupHtml="",e.prototype.headTable=null,e.prototype.headColEls=null,e.prototype.headCellEls=null,e.prototype.bodyColEls=null,e.prototype.bodyTable=null,e.prototype.renderSkeleton=function(){return this.headScroller=new o({overflowX:"clipped-scroll",overflowY:"hidden"}),this.headScroller.canvas=new z,this.headScroller.render(),this.headScroller.canvas.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new o({overflowY:"clipped-scroll"}),this.bodyScroller.canvas=new z,this.bodyScroller.render(),this.bodyScroller.canvas.contentEl.html("<table>"+this.colGroupHtml+"<tbody/></table>"),this.tbodyEl=this.bodyScroller.canvas.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new j("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.canvas.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},e.prototype.renderHeadHtml=function(){var t,e,i,n,s,r,o,a,l,h,c;for(e=this.view.colSpecs,i="<table>",t="<colgroup>",o=0,l=e.length;o<l;o++)c=e[o],t+=c.isMain?'<col class="fc-main-col"/>':"<col/>";for(t+="</colgroup>",this.colGroupHtml=t,i+=t,i+="<tbody>",this.view.superHeaderText&&(i+='<tr class="fc-super"><th class="'+this.view.widgetHeaderClass+'" colspan="'+e.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+mt(this.view.superHeaderText)+"</span></div></th></tr>"),i+="<tr>",r=!0,n=a=0,h=e.length;a<h;n=++a)c=e[n],s=n===e.length-1,i+='<th class="'+this.view.widgetHeaderClass+'"><div><div class="fc-cell-content">'+(c.isMain?'<span class="fc-expander-space"><span class="fc-icon"></span></span>':"")+'<span class="fc-cell-text">'+mt(c.labelText||"")+"</span></div>"+(s?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return i+="</tr>",i+="</tbody></table>"},e.prototype.givenColWidths=null,e.prototype.colWidths=null,e.prototype.colMinWidths=null,e.prototype.tableWidth=null,e.prototype.tableMinWidth=null,e.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(e){return function(i,n){return n=t(n),n.on("mousedown",function(t){return e.colResizeMousedown(i,t,n)})}}(this))},e.prototype.colResizeMousedown=function(t,e,n){var s,r,o,a;return s=this.colWidths=this.queryColWidths(),s.pop(),s.push(null),a=s[t],o=Math.min(this.colMinWidths[t],i),r=new h({dragStart:function(t){return function(){return n.addClass("fc-active")}}(this),drag:function(e){return function(i,n){var r;return r=a+(e.isRTL?-i:i),r=Math.max(r,o),s[t]=r,e.applyColWidths()}}(this),dragEnd:function(t){return function(){return n.removeClass("fc-active")}}(this)}),r.startInteraction(e)},e.prototype.applyColWidths=function(){var t,e,i,n,s,r,o,a,l,h,c,u,d,p,f,g,m;for(i=this.colMinWidths,s=this.colWidths,t=!0,e=!1,m=0,h=0,d=s.length;h<d;h++)n=s[h],"number"==typeof n?m+=n:(t=!1,n&&(e=!0));for(a=e&&!this.view.isHGrouping?"auto":"",o=function(){var t,e,i;for(i=[],l=t=0,e=s.length;t<e;l=++t)n=s[l],i.push(null!=n?n:a);return i}(),g=0,l=c=0,p=o.length;c<p;l=++c)r=o[l],g+="number"==typeof r?r:i[l];for(l=u=0,f=o.length;u<f;l=++u)r=o[l],this.headColEls.eq(l).width(r),this.bodyColEls.eq(l).width(r);return this.headScroller.canvas.setMinWidth(g),this.bodyScroller.canvas.setMinWidth(g),this.tableMinWidth=g,this.tableWidth=t?m:void 0},e.prototype.computeColMinWidths=function(){var t,e,n,s,r,o;for(s=this.givenColWidths,r=[],t=e=0,n=s.length;e<n;t=++e)o=s[t],"number"==typeof o?r.push(o):r.push(parseInt(this.headColEls.eq(t).css("min-width"))||i);return r},e.prototype.queryColWidths=function(){var e,i,n,s,r;for(s=this.headCellEls,r=[],e=0,i=s.length;e<i;e++)n=s[e],r.push(t(n).outerWidth());return r},e.prototype.updateWidth=function(){if(this.headScroller.updateSize(),this.bodyScroller.updateSize(),this.joiner.update(),this.follower)return this.follower.update()},e.prototype.headHeight=function(){var t;return t=this.headScroller.canvas.contentEl.find("table"),t.height.apply(t,arguments)},e}(),O=function(){function e(e){this.view=e,this.children=[],this.trHash={},this.trs=t()}return e.prototype.view=null,e.prototype.parent=null,e.prototype.prevSibling=null,e.prototype.children=null,e.prototype.depth=0,e.prototype.hasOwnRow=!1,e.prototype.trHash=null,e.prototype.trs=null,e.prototype.isRendered=!1,e.prototype.isExpanded=!0,e.prototype.isShown=!1,e.prototype.addChild=function(t,e){var i,n,s,r,o;for(t.remove(),i=this.children,null!=e?i.splice(e,0,t):(e=i.length,i.push(t)),t.prevSibling=e>0?i[e-1]:null,e<i.length-1&&(i[e+1].prevSibling=t),t.parent=this,t.depth=this.depth+(this.hasOwnRow?1:0),o=t.getNodes(),n=0,s=o.length;n<s;n++)r=o[n],r.added();if(this.isShown&&this.isExpanded)return t.show()},e.prototype.removeChild=function(t){var e,i,n,s,r,o,a,l,h,c;for(e=this.children,n=!1,i=s=0,o=e.length;s<o;i=++s)if(c=e[i],c===t){n=!0;break}if(n){for(i<e.length-1&&(e[i+1].prevSibling=t.prevSibling),e.splice(i,1),t.recursivelyUnrender(),l=t.getNodes(),r=0,a=l.length;r<a;r++)h=l[r],h.removed();return t.parent=null,t.prevSibling=null,t}return!1},e.prototype.removeChildren=function(){var t,e,i,n,s,r,o;for(r=this.children,e=0,n=r.length;e<n;e++)t=r[e],t.recursivelyUnrender();for(o=this.getDescendants(),i=0,s=o.length;i<s;i++)t=o[i],t.removed();return this.children=[]},e.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this)},e.prototype.getLastChild=function(){var t;return t=this.children,t[t.length-1]},e.prototype.getPrevRow=function(){var t,e;for(e=this;e;){if(e.prevSibling)for(e=e.prevSibling;t=e.getLastChild();)e=t;else e=e.parent;if(e&&e.hasOwnRow&&e.isShown)return e}return null},e.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},e.prototype.getRows=function(t){var e,i,n,s;for(null==t&&(t=[]),this.hasOwnRow&&t.push(this),s=this.children,i=0,n=s.length;i<n;i++)e=s[i],e.getRows(t);return t},e.prototype.getNodes=function(t){var e,i,n,s;for(null==t&&(t=[]),t.push(this),s=this.children,i=0,n=s.length;i<n;i++)e=s[i],e.getNodes(t);return t},e.prototype.getDescendants=function(){var t,e,i,n,s;for(t=[],s=this.children,i=0,n=s.length;i<n;i++)e=s[i],e.getNodes(t);return t},e.prototype.render=function(){var e,i,n,s,r,o,a;if(this.trHash={},o=[],this.hasOwnRow){e=this.getPrevRow(),i=this.view.tbodyHash;for(a in i)s=i[a],r=t("<tr/>"),this.trHash[a]=r,o.push(r[0]),n="render"+K(a)+"Content",this[n]&&this[n](r),e?e.trHash[a].after(r):s.prepend(r)}return this.trs=t(o).on("click",".fc-expander",Ht(this,"toggleExpanded")),this.isRendered=!0},e.prototype.unrender=function(){var e,i,n,s;if(this.isRendered){e=this.trHash;for(n in e)i=e[n],s="unrender"+K(n)+"Content",this[s]&&this[s](i);return this.trHash={},this.trs.remove(),this.trs=t(),this.isRendered=!1,this.isShown=!1,this.hidden()}},e.prototype.recursivelyUnrender=function(){var t,e,i,n,s;for(this.unrender(),n=this.children,s=[],e=0,i=n.length;e<i;e++)t=n[e],s.push(t.recursivelyUnrender());return s},e.prototype.getTr=function(t){return this.trHash[t]},e.prototype.show=function(){var t,e,i,n,s;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(n=this.children,s=[],e=0,i=n.length;e<i;e++)t=n[e],s.push(t.show());return s}},e.prototype.hide=function(){var t,e,i,n,s;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(n=this.children,s=[],e=0,i=n.length;e<i;e++)t=n[e],s.push(t.hide());return s}},e.prototype.expand=function(){var t,e,i,n;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),n=this.children,e=0,i=n.length;e<i;e++)t=n[e],t.show();return this.view.unbatchRows(),this.animateExpand()}},e.prototype.collapse=function(){var t,e,i,n;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),n=this.children,e=0,i=n.length;e<i;e++)t=n[e],t.hide();return this.view.unbatchRows()}},e.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},e.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander .fc-icon").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},e.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander .fc-icon").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},e.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},e.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").find(".fc-icon").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},e.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},e.prototype.getCollapsedIcon=function(){var t;return t=this.view.isRTL?"left":"right","fc-icon-"+t+"-triangle"},e.prototype.animateExpand=function(){var t,e,i;if(i=null!=(t=this.children[0])&&null!=(e=t.getLeadingRow())?e.trs:void 0)return i.addClass("fc-collapsed"),setTimeout(function(){return i.addClass("fc-transitioning"),i.removeClass("fc-collapsed")}),i.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return i.removeClass("fc-transitioning")})},e.prototype.getMaxTrInnerHeight=function(){var e;return e=0,t.each(this.trHash,function(t){return function(t,i){var n;return n=ut(i).find("> div:not(.fc-cell-content):first"),e=Math.max(n.height(),e)}}(this)),e},e.prototype.setTrInnerHeight=function(e){return t.each(this.trHash,function(t){return function(t,i){return ut(i).find("> div:not(.fc-cell-content):first").height(e)}}(this))},e.prototype.shown=function(){if(this.hasOwnRow)return this.rowShown(this)},e.prototype.hidden=function(){if(this.hasOwnRow)return this.rowHidden(this)},e.prototype.rowShown=function(t){return(this.parent||this.view).rowShown(t)},e.prototype.rowHidden=function(t){return(this.parent||this.view).rowHidden(t)},e.prototype.added=function(){if(this.hasOwnRow)return this.rowAdded(this)},e.prototype.removed=function(){if(this.hasOwnRow)return this.rowRemoved(this)},e.prototype.rowAdded=function(t){return(this.parent||this.view).rowAdded(t)},e.prototype.rowRemoved=function(t){return(this.parent||this.view).rowRemoved(t)},e}(),L=function(e){function i(t,e,n){this.groupSpec=e,this.groupValue=n,i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.prototype.groupSpec=null,i.prototype.groupValue=null,i.prototype.rowRemoved=function(t){if(i.__super__.rowRemoved.apply(this,arguments),t!==this&&!this.children.length)return this.remove()},i.prototype.renderGroupContentEl=function(){var e,i;return e=t('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),i=this.groupSpec.render,"function"==typeof i&&(e=i(e,this.groupValue)||e),e},i.prototype.renderGroupTextEl=function(){var e,i;return i=this.groupValue||"",e=this.groupSpec.text,"function"==typeof e&&(i=e(i)||i),t('<span class="fc-cell-text" />').text(i)},i}(O),g=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.prototype.hasOwnRow=!0,i.prototype.renderSpreadsheetContent=function(e){var i;return i=this.renderGroupContentEl(),i.prepend('<span class="fc-expander"><span class="fc-icon"></span></span>'),t('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(t("<div/>").append(i)).appendTo(e)},i.prototype.renderEventContent=function(t){return t.append('<td class="fc-divider"> <div/> </td>')},i}(L),V=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.prototype.rowspan=0,i.prototype.leadingTr=null,i.prototype.groupTd=null,i.prototype.rowShown=function(t){return this.rowspan+=1,this.renderRowspan(),i.__super__.rowShown.apply(this,arguments)},i.prototype.rowHidden=function(t){return this.rowspan-=1,this.renderRowspan(),i.__super__.rowHidden.apply(this,arguments)},i.prototype.renderRowspan=function(){var e;return this.rowspan?(this.groupTd||(this.groupTd=t('<td class="'+this.view.widgetContentClass+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),e=this.getLeadingRow().getTr("spreadsheet"),e!==this.leadingTr?(e&&e.prepend(this.groupTd),this.leadingTr=e):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},i}(L),d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zt(e,t),e.prototype.hasOwnRow=!0,e.prototype.segContainerEl=null,e.prototype.segContainerHeight=null,e.prototype.innerEl=null,e.prototype.bgSegContainerEl=null,e.prototype.isSegsRendered=!1,e.prototype.isBusinessHourSegsRendered=!1,e.prototype.businessHourSegs=null,e.prototype.bgSegs=null,e.prototype.fgSegs=null,e.prototype.renderEventContent=function(t){return t.html('<td class="'+this.view.widgetContentClass+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=t.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=t.find("td > div"),this.ensureSegsRendered()},e.prototype.ensureSegsRendered=function(){if(!this.isSegsRendered)return this.ensureBusinessHourSegsRendered(),this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0},e.prototype.ensureBusinessHourSegsRendered=function(){if(this.businessHourSegs&&!this.isBusinessHourSegsRendered)return this.view.timeGrid.renderFillInContainer("businessHours",this,this.businessHourSegs,"bgevent"),this.isBusinessHourSegsRendered=!0},e.prototype.unrenderEventContent=function(){return this.clearBusinessHourSegs(),this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},e.prototype.clearBusinessHourSegs=function(){var t,e,i,n;if(this.businessHourSegs){for(i=this.businessHourSegs,t=0,e=i.length;t<e;t++)n=i[t],n.el&&n.el.remove();this.businessHourSegs=null}return this.isBusinessHourSegsRendered=!1},e}(O),I=function(e){function i(t,e){this.resource=e,i.__super__.constructor.apply(this,arguments)}return zt(i,e),i.prototype.resource=null,i.prototype.rowAdded=function(t){if(i.__super__.rowAdded.apply(this,arguments),t!==this&&this.isRendered&&1===this.children.length)return this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()},i.prototype.rowRemoved=function(t){if(i.__super__.rowRemoved.apply(this,arguments),t!==this&&this.isRendered&&!this.children.length)return this.disableExpanding()},i.prototype.render=function(){return i.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.trigger("resourceRender",this.resource,this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"))},i.prototype.renderEventContent=function(t){return i.__super__.renderEventContent.apply(this,arguments),t.attr("data-resource-id",this.resource.id)},i.prototype.renderSpreadsheetContent=function(e){var i,n,s,r,o,a,l,h,c;for(l=this.resource,a=this.view.colSpecs,r=0,o=a.length;r<o;r++)i=a[r],i.group||(s=i.field?l[i.field]||null:l,c="function"==typeof i.text?i.text(l,s):s,n=t('<div class="fc-cell-content">'+(i.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(c?mt(c):"&nbsp;")+"</span></div>"),"function"==typeof i.render&&(n=i.render(l,n,s)||n),h=t('<td class="'+this.view.widgetContentClass+'"/>').append(n),i.isMain&&h.wrapInner("<div/>"),e.append(h));return e.attr("data-resource-id",l.id)},i.prototype.renderGutterHtml=function(){var t,e,i,n;for(t="",e=i=0,n=this.depth;i<n;e=i+=1)t+='<span class="fc-icon"/>';return t+='<span class="fc-expander-space"><span class="fc-icon"></span></span>'},i}(d),p.views.timeline.resourceClass=H,C=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zt(e,t),e.mixin($),e.prototype.timeGridClass=P,e.prototype.dayGridClass=T,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.timeGrid.setResources(t),this.dayGrid&&this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(t){if(this.clearEvents(),this.timeGrid.unsetResources(),this.dayGrid&&this.dayGrid.unsetResources(),!t)return this.clearView(),this.displayView()},e}(p.AgendaView),p.views.agenda.queryResourceClass=function(t){var e;if(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))return C},D=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zt(e,t),e.mixin($),e.prototype.dayGridClass=T,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(t){if(this.clearEvents(),this.dayGrid.unsetResources(),!t)return this.clearView(),this.displayView()},e}(p.BasicView),A=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zt(e,t),e.mixin($),e.prototype.dayGridClass=T,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(p.MonthView),p.views.basic.queryResourceClass=function(t){var e;if(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))return D},p.views.month.queryResourceClass=function(t){if(t.options.groupByResource||t.options.groupByDateAndResource)return A},k="2016-09-04",U={years:1,weeks:1},m="http://fullcalendar.io/scheduler/license/",S=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Rt=function(t,e){if(!bt(window.location.href)&&!xt(t)&&!st(e))return $t('Please use a valid license key. <a href="'+m+'">More Info</a>',e)},xt=function(i){var n,s,r,o;return t.inArray(i,S)!==-1||(s=(i||"").match(/^(\d+)\-fcs\-(\d+)$/),!!(s&&10===s[1].length&&(r=e.utc(1e3*parseInt(s[2])),o=e.utc(p.mockSchedulerReleaseDate||k),o.isValid()&&(n=o.clone().subtract(U),r.isAfter(n)))))},bt=function(t){return Boolean(t.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},$t=function(e,i){return i.append(t('<div class="fc-license-message" />').html(e))},void(st=function(t){return t.find(".fc-license-message").length>=1}))}),function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(function(n){"use strict";var s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b,w,x,S,k,C,D,T,_,E,M,A,I,P,R,H,$,L={},O=0;s=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",
highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new o("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new o("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new o("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},M='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',r=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),n.extend.apply(n,e))):t.prototype=arguments[0],t.prototype.cls=t,t},n.SPFormatClass=o=r({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var s,r,o,a,l,h=this,c=t;return this.format.replace(this.fre,function(){var t;return r=arguments[1],o=arguments[3],s=h.precre.exec(r),s?(l=s[2],r=s[1]):l=!1,a=c[r],a===i?"":o&&e&&e[o]?(t=e[o],t.get?e[o].get(a)||a:e[o][a]||a):(d(a)&&(a=n.get("numberFormatter")?n.get("numberFormatter")(a):v(a,l,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),a)})}}),n.spformat=function(t,e){return new o(t,e)},a=function(t,e,i){return t<e?e:t>i?i:t},l=function(t,i){var n;return 2===i?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]):(n=(t.length*i+2)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1])},h=function(t){var e;switch(t){case"undefined":t=i;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},c=function(t){var e,i=[];for(e=t.length;e--;)i[e]=h(t[e]);return i},u=function(t,e){var i,n,s=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&s.push(t[i]);return s},d=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},v=function(t,e,i,s,r){var o,a;for(t=(e===!1?parseFloat(t).toString():t.toFixed(e)).split(""),o=(o=n.inArray(".",t))<0?t.length:o,o<t.length&&(t[o]=r),a=o-i;a>0;a-=i)t.splice(a,0,s);return t.join("")},p=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},f=function(t){var e,i=0;for(e=t.length;e--;)i+="number"==typeof t[e]?t[e]:0;return i},m=function(t){return n.isArray(t)?t:[t]},g=function(e){var i;t.createStyleSheet?t.createStyleSheet().cssText=e:(i=t.createElement("style"),i.type="text/css",t.getElementsByTagName("head")[0].appendChild(i),i["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},n.fn.simpledraw=function(e,s,r,o){var a,l;if(r&&(a=this.data("_jqs_vcanvas")))return a;if(n.fn.sparkline.canvas===!1)return!1;if(n.fn.sparkline.canvas===i){var h=t.createElement("canvas");if(h.getContext&&h.getContext("2d"))n.fn.sparkline.canvas=function(t,e,i,n){return new R(t,e,i,n)};else{if(!t.namespaces||t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,e,i,n){return new H(t,e,i)}}}return e===i&&(e=n(this).innerWidth()),s===i&&(s=n(this).innerHeight()),a=n.fn.sparkline.canvas(e,s,this,o),l=n(this).data("_jqs_mhandler"),l&&l.registerCanvas(a),a},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=y=r({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-(1/0):parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,n,s,r=this.rangelist;if((s=this.map[t])!==i)return s;if(r)for(e=r.length;e--;)if(n=r[e],n[0]<=t&&n[1]>=t)return n[2];return i}}),n.range_map=function(t){return new y(t)},b=r({init:function(t,e){var i=n(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=n(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(n.proxy(this.mouseenter,this)),e.mouseleave(n.proxy(this.mouseleave,this)),e.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(t){var e=n.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new w(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var e,i,s=this.splist,r=s.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;i<r;i++)e=s[i],e.clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,s,r,o=this.splist,a=o.length,l=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,u=this.currentPageY-h.top;if(this.over){for(i=0;i<a;i++)e=o[i],s=e.setRegionHighlight(this.currentEl,c,u),s&&(l=!0);if(l){if(r=n.Event("sparklineRegionChange"),r.sparklines=this.splist,this.$el.trigger(r),this.tooltip){for(t="",i=0;i<a;i++)e=o[i],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===s&&this.mouseleave()}}}),w=r({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,s=e.get("tooltipClassname","jqstooltip"),r=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:r,"class":s}),this.tooltip=n("<div/>",{id:"jqstooltip","class":s}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition()),void 0):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,e){if(t===i){if(this.mousex===i)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,n(window).unbind("resize.jqs scroll.jqs")}}),A=function(){g(M)},n(A),$=[],n.fn.sparkline=function(e,s){return this.each(function(){var r,o,a=new n.fn.sparkline.options(this,s),l=n(this);if(r=function(){var s,r,o,h,c,u,d;return"html"===e||e===i?(d=this.getAttribute(a.get("tagValuesAttribute")),d!==i&&null!==d||(d=l.html()),s=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):s=e,r="auto"===a.get("width")?s.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&n.data(this,"_jqs_vcanvas")||(h=t.createElement("span"),h.innerHTML="a",l.html(h),o=n(h).innerHeight()||n(h).height(),n(h).remove(),h=null):o=a.get("height"),a.get("disableInteraction")?c=!1:(c=n.data(this,"_jqs_mhandler"),c?a.get("composite")||c.reset():(c=new b(this,a),n.data(this,"_jqs_mhandler",c))),a.get("composite")&&!n.data(this,"_jqs_vcanvas")?void(n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0))):(u=new(n.fn.sparkline[a.get("type")])(this,s,a,r,o),u.render(),c&&c.registerSparkline(u),void 0)},n(this).html()&&!a.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!a.get("composite")&&n.data(this,"_jqs_pending"))for(o=$.length;o;o--)$[o-1][0]==this&&$.splice(o-1,1);$.push([this,r]),n.data(this,"_jqs_pending",!0)}else r.call(this)})},n.fn.sparkline.defaults=s(),n.sparkline_display_visible=function(){var t,e,i,s=[];for(e=0,i=$.length;e<i;e++)t=$[e][0],n(t).is(":visible")&&!n(t).parents().is(":hidden")?($[e][1].call(t),n.data($[e][0],"_jqs_pending",!1),s.push(e)):!n(t).closest("html").length&&!n.data(t,"_jqs_pending")&&(n.data($[e][0],"_jqs_pending",!1),s.push(e));for(e=s.length;e;e--)$.splice(s[e-1],1)},n.fn.sparkline.options=r({init:function(t,e){var i,s,r,o;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},s=n.fn.sparkline.defaults,r=s.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||r.tagOptionsPrefix),o=this.getTagSetting("type"),i=o===L?s[e.type||r.type]:s[o],this.mergedOptions=n.extend({},r,i,e)},getTagSetting:function(t){var e,n,s,r,o=this.tagOptionsPrefix;if(o===!1||o===i)return L;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(e=this.tag.getAttribute(o+t),e===i||null===e)e=L;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),n=e.length;n--;)e[n]=h(e[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(s=e.substr(1,e.length-2).split(","),e={},n=s.length;n--;)r=s[n].split(":",2),e[r[0].replace(/(^\s*)|(\s*$)/g,"")]=h(r[1].replace(/(^\s*)|(\s*$)/g,""));else e=h(e);this.tagValCache.key=e}return e},get:function(t,e){var n,s=this.getTagSetting(t);return s!==L?s:(n=this.mergedOptions[t])===i?e:n}}),n.fn.sparkline._base=r({disabled:!1,init:function(t,e,s,r,o){this.el=t,this.$el=n(t),this.values=e,this.options=s,this.width=r,this.height=o,this.currentRegion=i},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,n){var s,r=this.currentRegion,o=!this.options.get("disableHighlight");return e>this.canvasWidth||n>this.canvasHeight||e<0||n<0?null:(s=this.getRegion(t,e,n),r!==s&&(r!==i&&o&&this.removeHighlight(),this.currentRegion=s,s!==i&&o&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==i&&(this.removeHighlight(),this.currentRegion=i,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,s,r,a,l,h,c,u,d,p,f,g,m,v=this.options,y="",b=[];if(this.currentRegion===i)return"";if(t=this.getCurrentRegionFields(),p=v.get("tooltipFormatter"))return p(this,v,t);if(v.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),e=this.options.get("tooltipFormat"),!e)return"";if(n.isArray(e)||(e=[e]),n.isArray(t)||(t=[t]),h=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),h&&c){for(u=[],l=t.length;l--;)d=t[l][c],(m=n.inArray(d,h))!=-1&&(u[m]=t[l]);t=u}for(s=e.length,g=t.length,l=0;l<s;l++)for(f=e[l],"string"==typeof f&&(f=new o(f)),r=f.fclass||"jqsfield",m=0;m<g;m++)t[m].isNull&&v.get("tooltipSkipNull")||(n.extend(t[m],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),a=f.render(t[m],v.get("tooltipValueLookups"),v),b.push('<div class="'+r+'">'+a+"</div>"));return b.length?y+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n,s,r,o,l=i.get("highlightColor"),h=i.get("highlightLighten");if(l)return l;if(h&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(r=[],s=4===t.length?16:1,o=0;o<3;o++)r[o]=a(e.round(parseInt(n[o+1],16)*s*h),0,255);return"rgb("+r.join(",")+")"}return t}}),x={changeHighlight:function(t){var e,i=this.currentRegion,s=this.target,r=this.regionShapes[i];r&&(e=this.renderRegion(i,t),n.isArray(e)||n.isArray(r)?(s.replaceWithShapes(r,e),this.regionShapes[i]=n.map(e,function(t){return t.id})):(s.replaceWithShape(r,e),this.regionShapes[i]=e.id))},render:function(){var t,e,i,s,r=this.values,o=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(i=r.length;i--;)if(t=this.renderRegion(i))if(n.isArray(t)){for(e=[],s=t.length;s--;)t[s].append(),e.push(t[s].id);a[i]=e}else t.append(),a[i]=t.id;else a[i]=null;o.render()}}},n.fn.sparkline.line=S=r(n.fn.sparkline._base,{type:"line",init:function(t,e,i,n,s){S._super.init.call(this,t,e,i,n,s),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,n){var s,r=this.regionMap;for(s=r.length;s--;)if(null!==r[s]&&e>=r[s][0]&&e<=r[s][1])return r[s][2];return i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,n=this.currentRegion,s=this.target,r=this.vertices[n],o=this.options,a=o.get("spotRadius"),l=o.get("highlightSpotColor"),h=o.get("highlightLineColor");r&&(a&&l&&(t=s.drawCircle(r[0],r[1],a,i,l),this.highlightSpotId=t.id,s.insertAfterShape(this.lastShapeId,t)),h&&(e=s.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,h),this.highlightLineId=e.id,s.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,n,s,r,o=this.values,a=o.length,l=this.xvalues,h=this.yvalues,c=this.yminmax;for(t=0;t<a;t++)i=o[t],n="string"==typeof o[t],s="object"==typeof o[t]&&o[t]instanceof Array,r=n&&o[t].split(":"),n&&2===r.length?(l.push(Number(r[0])),h.push(Number(r[1])),c.push(Number(r[1]))):s?(l.push(i[0]),h.push(i[1]),c.push(i[1])):(l.push(t),null===o[t]||"null"===o[t]?h.push(null):(h.push(Number(i)),c.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,c),this.miny=this.minyorg=e.min.apply(e,c),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=h,this.yminmax=c},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==i&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,s,r,o){var a=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),h=n+e.round(s-s*((l-this.miny)/o)),c=e.round(s*(l-a)/o);this.target.drawRect(t,h,r,c,i,this.options.get("normalRangeColor")).append()},render:function(){var t,s,r,o,a,l,h,c,u,d,p,f,g,m,v,b,w,x,k,C,D,T,_,E,M,A=this.options,I=this.target,P=this.canvasWidth,R=this.canvasHeight,H=this.vertices,$=A.get("spotRadius"),L=this.regionMap;if(S._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),_=this.xvalues,E=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(o=a=0,t=this.maxx-this.minx===0?1:this.maxx-this.minx,s=this.maxy-this.miny===0?1:this.maxy-this.miny,r=this.yvalues.length-1,$&&(P<4*$||R<4*$)&&($=0),$&&(D=A.get("highlightSpotColor")&&!A.get("disableInteraction"),(D||A.get("minSpotColor")||A.get("spotColor")&&E[r]===this.miny)&&(R-=e.ceil($)),(D||A.get("maxSpotColor")||A.get("spotColor")&&E[r]===this.maxy)&&(R-=e.ceil($),o+=e.ceil($)),(D||(A.get("minSpotColor")||A.get("maxSpotColor"))&&(E[0]===this.miny||E[0]===this.maxy))&&(a+=e.ceil($),P-=e.ceil($)),(D||A.get("spotColor")||A.get("minSpotColor")||A.get("maxSpotColor")&&(E[r]===this.miny||E[r]===this.maxy))&&(P-=e.ceil($))),R--,A.get("normalRangeMin")!==i&&!A.get("drawNormalOnTop")&&this.drawNormalRange(a,o,R,P,s),h=[],c=[h],m=v=null,b=E.length,M=0;M<b;M++)u=_[M],p=_[M+1],d=E[M],f=a+e.round((u-this.minx)*(P/t)),g=M<b-1?a+e.round((p-this.minx)*(P/t)):P,v=f+(g-f)/2,L[M]=[m||0,v,M],m=v,null===d?M&&(null!==E[M-1]&&(h=[],c.push(h)),H.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),h.length||h.push([f,o+R]),l=[f,o+e.round(R-R*((d-this.miny)/s))],h.push(l),H.push(l));for(w=[],x=[],k=c.length,M=0;M<k;M++)h=c[M],h.length&&(A.get("fillColor")&&(h.push([h[h.length-1][0],o+R]),x.push(h.slice(0)),h.pop()),h.length>2&&(h[0]=[h[0][0],h[1][1]]),w.push(h));for(k=x.length,M=0;M<k;M++)I.drawShape(x[M],A.get("fillColor"),A.get("fillColor")).append();for(A.get("normalRangeMin")!==i&&A.get("drawNormalOnTop")&&this.drawNormalRange(a,o,R,P,s),k=w.length,M=0;M<k;M++)I.drawShape(w[M],A.get("lineColor"),i,A.get("lineWidth")).append();if($&&A.get("valueSpots"))for(C=A.get("valueSpots"),C.get===i&&(C=new y(C)),M=0;M<b;M++)T=C.get(E[M]),T&&I.drawCircle(a+e.round((_[M]-this.minx)*(P/t)),o+e.round(R-R*((E[M]-this.miny)/s)),$,i,T).append();$&&A.get("spotColor")&&null!==E[r]&&I.drawCircle(a+e.round((_[_.length-1]-this.minx)*(P/t)),o+e.round(R-R*((E[r]-this.miny)/s)),$,i,A.get("spotColor")).append(),this.maxy!==this.minyorg&&($&&A.get("minSpotColor")&&(u=_[n.inArray(this.minyorg,E)],I.drawCircle(a+e.round((u-this.minx)*(P/t)),o+e.round(R-R*((this.minyorg-this.miny)/s)),$,i,A.get("minSpotColor")).append()),$&&A.get("maxSpotColor")&&(u=_[n.inArray(this.maxyorg,E)],I.drawCircle(a+e.round((u-this.minx)*(P/t)),o+e.round(R-R*((this.maxyorg-this.miny)/s)),$,i,A.get("maxSpotColor")).append())),this.lastShapeId=I.getLastShapeId(),this.canvasTop=o,I.render()}}}),n.fn.sparkline.bar=k=r(n.fn.sparkline._base,x,{type:"bar",init:function(t,s,r,o,l){var d,p,f,g,m,v,b,w,x,S,C,D,T,_,E,M,A,I,P,R,H,$,L=parseInt(r.get("barWidth"),10),O=parseInt(r.get("barSpacing"),10),F=r.get("chartRangeMin"),B=r.get("chartRangeMax"),N=r.get("chartRangeClip"),j=1/0,z=-(1/0);for(k._super.init.call(this,t,s,r,o,l),v=0,b=s.length;v<b;v++)R=s[v],d="string"==typeof R&&R.indexOf(":")>-1,(d||n.isArray(R))&&(E=!0,d&&(R=s[v]=c(R.split(":"))),R=u(R,null),p=e.min.apply(e,R),f=e.max.apply(e,R),p<j&&(j=p),f>z&&(z=f));this.stacked=E,this.regionShapes={},this.barWidth=L,this.barSpacing=O,this.totalBarWidth=L+O,this.width=o=s.length*L+(s.length-1)*O,this.initTarget(),N&&(T=F===i?-(1/0):F,_=B===i?1/0:B),m=[],g=E?[]:m;var W=[],Y=[];for(v=0,b=s.length;v<b;v++)if(E)for(M=s[v],s[v]=P=[],W[v]=0,g[v]=Y[v]=0,A=0,I=M.length;A<I;A++)R=P[A]=N?a(M[A],T,_):M[A],null!==R&&(R>0&&(W[v]+=R),j<0&&z>0?R<0?Y[v]+=e.abs(R):g[v]+=R:g[v]+=e.abs(R-(R<0?z:j)),m.push(R));else R=N?a(s[v],T,_):s[v],R=s[v]=h(R),null!==R&&m.push(R);this.max=D=e.max.apply(e,m),this.min=C=e.min.apply(e,m),this.stackMax=z=E?e.max.apply(e,W):D,this.stackMin=j=E?e.min.apply(e,m):C,r.get("chartRangeMin")!==i&&(r.get("chartRangeClip")||r.get("chartRangeMin")<C)&&(C=r.get("chartRangeMin")),r.get("chartRangeMax")!==i&&(r.get("chartRangeClip")||r.get("chartRangeMax")>D)&&(D=r.get("chartRangeMax")),this.zeroAxis=x=r.get("zeroAxis",!0),S=C<=0&&D>=0&&x?0:0==x?C:C>0?C:D,this.xaxisOffset=S,w=E?e.max.apply(e,g)+e.max.apply(e,Y):D-C,this.canvasHeightEf=x&&C<0?this.canvasHeight-2:this.canvasHeight-1,C<S?($=E&&D>=0?z:D,H=($-S)/w*this.canvasHeight,H!==e.ceil(H)&&(this.canvasHeightEf-=2,H=e.ceil(H))):H=this.canvasHeight,this.yoffset=H,n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new y(this.colorMapByValue))),this.range=w},getRegion:function(t,n,s){var r=e.floor(n/this.totalBarWidth);return r<0||r>=this.values.length?i:r},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=m(this.values[i]),s=[];for(e=n.length;e--;)t=n[e],s.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return s},calcColor:function(t,e,s){var r,o,a=this.colorMapByIndex,l=this.colorMapByValue,h=this.options;return r=this.stacked?h.get("stackedBarColor"):e<0?h.get("negBarColor"):h.get("barColor"),0===e&&h.get("zeroColor")!==i&&(r=h.get("zeroColor")),l&&(o=l.get(e))?r=o:a&&a.length>s&&(r=a[s]),n.isArray(r)?r[t%r.length]:r},renderRegion:function(t,s){var r,o,a,l,h,c,u,d,f,g,m=this.values[t],v=this.options,y=this.xaxisOffset,b=[],w=this.range,x=this.stacked,S=this.target,k=t*this.totalBarWidth,C=this.canvasHeightEf,D=this.yoffset;if(m=n.isArray(m)?m:[m],u=m.length,d=m[0],l=p(null,m),g=p(y,m,!0),l)return v.get("nullColor")?(a=s?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),r=D>0?D-1:D,S.drawRect(k,r,this.barWidth-1,0,a,a)):i;for(h=D,c=0;c<u;c++){if(d=m[c],x&&d===y){if(!g||f)continue;f=!0}o=w>0?e.floor(C*(e.abs(d-y)/w))+1:1,d<y||d===y&&0===D?(r=h,h+=o):(r=D-o,D-=o),a=this.calcColor(c,d,t),s&&(a=this.calcHighlightColor(a,v)),b.push(S.drawRect(k,r,this.barWidth-1,o-1,a,a))}return 1===b.length?b[0]:b}}),n.fn.sparkline.tristate=C=r(n.fn.sparkline._base,x,{type:"tristate",init:function(t,e,s,r,o){var a=parseInt(s.get("barWidth"),10),l=parseInt(s.get("barSpacing"),10);C._super.init.call(this,t,e,s,r,o),this.regionShapes={},this.barWidth=a,this.barSpacing=l,this.totalBarWidth=a+l,this.values=n.map(e,Number),this.width=r=e.length*a+(e.length-1)*l,n.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new y(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i,n){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n,s=this.values,r=this.options,o=this.colorMapByIndex,a=this.colorMapByValue;return i=a&&(n=a.get(t))?n:o&&o.length>e?o[e]:s[e]<0?r.get("negBarColor"):s[e]>0?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,i){var n,s,r,o,a,l,h=this.values,c=this.options,u=this.target;if(n=u.pixelHeight,r=e.round(n/2),o=t*this.totalBarWidth,h[t]<0?(a=r,s=r-1):h[t]>0?(a=0,s=r-1):(a=r-1,s=2),l=this.calcColor(h[t],t),null!==l)return i&&(l=this.calcHighlightColor(l,c)),u.drawRect(o,a,this.barWidth-1,s-1,l,l)}}),n.fn.sparkline.discrete=D=r(n.fn.sparkline._base,x,{type:"discrete",init:function(t,s,r,o,a){D._super.init.call(this,t,s,r,o,a),this.regionShapes={},this.values=s=n.map(s,Number),this.min=e.min.apply(e,s),this.max=e.max.apply(e,s),this.range=this.max-this.min,this.width=o="auto"===r.get("width")?2*s.length:this.width,this.interval=e.floor(o/s.length),this.itemWidth=o/s.length,r.get("chartRangeMin")!==i&&(r.get("chartRangeClip")||r.get("chartRangeMin")<this.min)&&(this.min=r.get("chartRangeMin")),r.get("chartRangeMax")!==i&&(r.get("chartRangeClip")||r.get("chartRangeMax")>this.max)&&(this.max=r.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===r.get("lineHeight")?e.round(.3*this.canvasHeight):r.get("lineHeight"))},getRegion:function(t,i,n){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],offset:t}},renderRegion:function(t,i){var n,s,r,o,l=this.values,h=this.options,c=this.min,u=this.max,d=this.range,p=this.interval,f=this.target,g=this.canvasHeight,m=this.lineHeight,v=g-m;return s=a(l[t],c,u),o=t*p,n=e.round(v-v*((s-c)/d)),r=h.get("thresholdColor")&&s<h.get("thresholdValue")?h.get("thresholdColor"):h.get("lineColor"),i&&(r=this.calcHighlightColor(r,h)),f.drawLine(o,n,o,n+m,r)}}),n.fn.sparkline.bullet=T=r(n.fn.sparkline._base,{type:"bullet",init:function(t,n,s,r,o){var a,l,h;T._super.init.call(this,t,n,s,r,o),this.values=n=c(n),h=n.slice(),h[0]=null===h[0]?h[2]:h[0],h[1]=null===n[1]?h[2]:h[1],a=e.min.apply(e,n),l=e.max.apply(e,n),a=s.get("base")===i?a<0?a:0:s.get("base"),this.min=a,this.max=l,this.range=l-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=r="auto"===s.get("width")?"4.0em":r,this.target=this.$el.simpledraw(r,o,s.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var s=this.target.getShapeAt(t,e,n);return s!==i&&this.shapes[s]!==i?this.shapes[s]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,i){var n=this.values[t],s=e.round(this.canvasWidth*((n-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return i&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,s-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),s=this.options.get("performanceColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),n-1,e.round(.4*this.canvasHeight)-1,s,s)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),s=e.round(.1*this.canvasHeight),r=this.canvasHeight-2*s,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(n,s,this.options.get("targetWidth")-1,r-1,o,o)},render:function(){var t,e,i=this.values.length,n=this.target;if(T._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),n.fn.sparkline.pie=_=r(n.fn.sparkline._base,{type:"pie",init:function(t,i,s,r,o){var a,l=0;if(_._super.init.call(this,t,i,s,r,o),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),"auto"===s.get("width")&&(this.width=this.height),i.length>0)for(a=i.length;a--;)l+=i[a];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var s=this.target.getShapeAt(t,e,n);return s!==i&&this.shapes[s]!==i?this.shapes[s]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,n){var s,r,o,a,l,h=this.target,c=this.options,u=this.radius,d=c.get("borderWidth"),p=c.get("offset"),f=2*e.PI,g=this.values,m=this.total,v=p?2*e.PI*(p/360):0;for(a=g.length,o=0;o<a;o++){if(s=v,r=v,m>0&&(r=v+f*(g[o]/m)),t===o)return l=c.get("sliceColors")[o%c.get("sliceColors").length],n&&(l=this.calcHighlightColor(l,c)),h.drawPieSlice(u,u,u-d,s,r,i,l);v=r}},render:function(){var t,n,s=this.target,r=this.values,o=this.options,a=this.radius,l=o.get("borderWidth");if(_._super.render.call(this)){for(l&&s.drawCircle(a,a,e.floor(a-l/2),o.get("borderColor"),i,l).append(),n=r.length;n--;)r[n]&&(t=this.renderSlice(n).append(),this.valueShapes[n]=t.id,this.shapes[t.id]=n);s.render()}}}),n.fn.sparkline.box=E=r(n.fn.sparkline._base,{type:"box",init:function(t,e,i,s,r){E._super.init.call(this,t,e,i,s,r),this.values=n.map(e,Number),this.width="auto"===i.get("width")?"4.0em":s,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&t.push({
field:"lo",value:this.loutlier}),this.routlier!==i&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,n,s,r,o,a,h,c,u,d,p,f=this.target,g=this.values,m=g.length,v=this.options,y=this.canvasWidth,b=this.canvasHeight,w=v.get("chartRangeMin")===i?e.min.apply(e,g):v.get("chartRangeMin"),x=v.get("chartRangeMax")===i?e.max.apply(e,g):v.get("chartRangeMax"),S=0;if(E._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&g.length>5?(n=g[0],t=g[1],r=g[2],o=g[3],a=g[4],h=g[5],c=g[6]):(t=g[0],r=g[1],o=g[2],a=g[3],h=g[4]);else if(g.sort(function(t,e){return t-e}),r=l(g,1),o=l(g,2),a=l(g,3),s=a-r,v.get("showOutliers")){for(t=h=i,u=0;u<m;u++)t===i&&g[u]>r-s*v.get("outlierIQR")&&(t=g[u]),g[u]<a+s*v.get("outlierIQR")&&(h=g[u]);n=g[0],c=g[m-1]}else t=g[0],h=g[m-1];this.quartiles=[r,o,a],this.lwhisker=t,this.rwhisker=h,this.loutlier=n,this.routlier=c,p=y/(x-w+1),v.get("showOutliers")&&(S=e.ceil(v.get("spotRadius")),y-=2*e.ceil(v.get("spotRadius")),p=y/(x-w+1),n<t&&f.drawCircle((n-w)*p+S,b/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),c>h&&f.drawCircle((c-w)*p+S,b/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),f.drawRect(e.round((r-w)*p+S),e.round(.1*b),e.round((a-r)*p),e.round(.8*b),v.get("boxLineColor"),v.get("boxFillColor")).append(),f.drawLine(e.round((t-w)*p+S),e.round(b/2),e.round((r-w)*p+S),e.round(b/2),v.get("lineColor")).append(),f.drawLine(e.round((t-w)*p+S),e.round(b/4),e.round((t-w)*p+S),e.round(b-b/4),v.get("whiskerColor")).append(),f.drawLine(e.round((h-w)*p+S),e.round(b/2),e.round((a-w)*p+S),e.round(b/2),v.get("lineColor")).append(),f.drawLine(e.round((h-w)*p+S),e.round(b/4),e.round((h-w)*p+S),e.round(b-b/4),v.get("whiskerColor")).append(),f.drawLine(e.round((o-w)*p+S),e.round(.1*b),e.round((o-w)*p+S),e.round(.9*b),v.get("medianColor")).append(),v.get("target")&&(d=e.ceil(v.get("spotRadius")),f.drawLine(e.round((v.get("target")-w)*p+S),e.round(b/2-d),e.round((v.get("target")-w)*p+S),e.round(b/2+d),v.get("targetColor")).append(),f.drawLine(e.round((v.get("target")-w)*p+S-d),e.round(b/2),e.round((v.get("target")-w)*p+S+d),e.round(b/2),v.get("targetColor")).append()),f.render()}}}),I=r({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),P=r({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,s,r){return this.drawShape([[t,e],[i,n]],s,r)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,s,r){return this._genShape("Circle",[t,e,i,n,s,r])},drawPieSlice:function(t,e,i,n,s,r,o){return this._genShape("PieSlice",[t,e,i,n,s,r,o])},drawRect:function(t,e,i,n,s,r){return this._genShape("Rect",[t,e,i,n,s,r])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){n(e).html(t)},_calculatePixelDims:function(t,e,i){var s;s=this._pxregex.exec(e),s?this.pixelHeight=s[1]:this.pixelHeight=n(i).height(),s=this._pxregex.exec(t),s?this.pixelWidth=s[1]:this.pixelWidth=n(i).width()},_genShape:function(t,e){var i=O++;return e.unshift(i),new I(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),R=r(P,{init:function(e,s,r,o){R._super.init.call(this,e,s,r),this.canvas=t.createElement("canvas"),r[0]&&(r=r[0]),n.data(r,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:e,height:s,verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,s,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var s=this.canvas.getContext("2d");return t!==i&&(s.strokeStyle=t),s.lineWidth=n===i?1:n,e!==i&&(s.fillStyle=e),s},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(t,e,n,s,r){var o,a,l=this._getContext(n,s,r);for(l.beginPath(),l.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,a=e.length;o<a;o++)l.lineTo(e[o][0]+.5,e[o][1]+.5);n!==i&&l.stroke(),s!==i&&l.fill(),this.targetX!==i&&this.targetY!==i&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,s,r,o,a,l){var h=this._getContext(o,a,l);h.beginPath(),h.arc(n,s,r,0,2*e.PI,!1),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),o!==i&&h.stroke(),a!==i&&h.fill()},_drawPieSlice:function(t,e,n,s,r,o,a,l){var h=this._getContext(a,l);h.beginPath(),h.moveTo(e,n),h.arc(e,n,s,r,o,!1),h.lineTo(e,n),h.closePath(),a!==i&&h.stroke(),l&&h.fill(),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,s,r,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+s],[e,i+s],[e,i]],r,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,s,r=this.shapeseq,o={};for(n=t.length;n--;)o[t[n]]=!0;for(n=r.length;n--;)i=r[n],o[i]&&(r.splice(n,1),delete this.shapes[i],s=n);for(n=e.length;n--;)r.splice(s,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,s=this.shapes,r=n.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;i<r;i++)t=n[i],e=s[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),H=r(P,{init:function(e,i,s){var r;H._super.init.call(this,e,i,s),s[0]&&(s=s[0]),n.data(s,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,r='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",r),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,s,r){var o,a,l,h,c,u,d,p=[];for(d=0,u=e.length;d<u;d++)p[d]=""+e[d][0]+","+e[d][1];return o=p.splice(0,1),r=r===i?1:r,a=n===i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+n+'" ',l=s===i?' filled="false"':' fillColor="'+s+'" filled="true" ',h=p[0]===p[p.length-1]?"x ":"",c='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+a+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+p.join(", ")+" "+h+'e"> </v:shape>'},_drawCircle:function(t,e,n,s,r,o,a){var l,h,c;return e-=s,n-=s,l=r===i?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+r+'" ',h=o===i?' filled="false"':' fillColor="'+o+'" filled="true" ',c='<v:oval  id="jqsshape'+t+'" '+l+h+' style="position:absolute;top:'+n+"px; left:"+e+"px; width:"+2*s+"px; height:"+2*s+'px"></v:oval>'},_drawPieSlice:function(t,n,s,r,o,a,l,h){var c,u,d,p,f,g,m,v;if(o===a)return"";if(a-o===2*e.PI&&(o=0,a=2*e.PI),u=n+e.round(e.cos(o)*r),d=s+e.round(e.sin(o)*r),p=n+e.round(e.cos(a)*r),f=s+e.round(e.sin(a)*r),u===p&&d===f){if(a-o<e.PI)return"";u=p=n+r,d=f=s}return u===p&&d===f&&a-o<e.PI?"":(c=[n-r,s-r,n+r,s+r,u,d,p,f],g=l===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ',v='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+n+","+s+" wa "+c.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,s,r,o){return this._drawShape(t,[[e,i],[e,i+s],[e+n,i+s],[e+n,i],[e,i]],r,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=n("#jqsshape"+t),s=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=s},replaceWithShapes:function(t,e){var i,s=n("#jqsshape"+t[0]),r="",o=e.length;for(i=0;i<o;i++)r+=this["_draw"+e[i].type].apply(this,e[i].args);for(s[0].outerHTML=r,i=1;i<t.length;i++)n("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,e){var i=n("#jqsshape"+t),s=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",s)},removeShapeId:function(t){var e=n("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){var n=t.id.substr(8);return n},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){function s(e){var i,n,r={};t.each(e,function(t){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),r[n]=t,"o"===i[1]&&s(e[t]))}),e._hungarianMap=r}function r(e,i,o){e._hungarianMap||s(e);var a;t.each(i,function(s){a=e._hungarianMap[s],a===n||!o&&i[a]!==n||("o"===a.charAt(0)?(i[a]||(i[a]={}),t.extend(!0,i[a],i[s]),r(e[a],i[a],o)):i[a]=i[s])})}function o(t){var e=Ut.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&It(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&It(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&Nt(t)}function a(t){if(ce(t,"ordering","bSort"),ce(t,"orderMulti","bSortMulti"),ce(t,"orderClasses","bSortClasses"),ce(t,"orderCellsTop","bSortCellsTop"),ce(t,"order","aaSorting"),ce(t,"orderFixed","aaSortingFixed"),ce(t,"paging","bPaginate"),ce(t,"pagingType","sPaginationType"),ce(t,"pageLength","iDisplayLength"),ce(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,i=t.length;e<i;e++)t[e]&&r(Ut.models.oSearch,t[e])}function l(e){ce(e,"orderable","bSortable"),ce(e,"orderData","aDataSort"),ce(e,"orderSequence","asSorting"),ce(e,"orderDataType","sortDataType");var i=e.aDataSort;i&&!t.isArray(i)&&(e.aDataSort=[i])}function h(e){if(!Ut.__browser){var i={};Ut.__browser=i;var n=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),s=n.children(),r=s.children();i.barWidth=s[0].offsetWidth-s[0].clientWidth,i.bScrollOversize=100===r[0].offsetWidth&&100!==s[0].clientWidth,i.bScrollbarLeft=1!==Math.round(r.offset().left),i.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}t.extend(e.oBrowser,Ut.__browser),e.oScroll.iBarWidth=Ut.__browser.barWidth}function c(t,e,i,s,r,o){var a,l=!1;for(i!==n&&(a=i,l=!0);s!==r;)t.hasOwnProperty(s)&&(a=l?e(a,t[s],s,t):t[s],l=!0,s+=o);return a}function u(e,n){var s=Ut.defaults.column,r=e.aoColumns.length,s=t.extend({},Ut.models.oColumn,s,{nTh:n?n:i.createElement("th"),sTitle:s.sTitle?s.sTitle:n?n.innerHTML:"",aDataSort:s.aDataSort?s.aDataSort:[r],mData:s.mData?s.mData:r,idx:r});e.aoColumns.push(s),s=e.aoPreSearchCols,s[r]=t.extend({},Ut.models.oSearch,s[r]),d(e,r,t(n).data())}function d(e,i,s){var i=e.aoColumns[i],o=e.oClasses,a=t(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=a.attr("width")||null;var h=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);h&&(i.sWidthOrig=h[1])}s!==n&&null!==s&&(l(s),r(Ut.defaults.column,s),s.mDataProp!==n&&!s.mData&&(s.mData=s.mDataProp),s.sType&&(i._sManualType=s.sType),s.className&&!s.sClass&&(s.sClass=s.className),t.extend(i,s),It(i,s,"sWidth","sWidthOrig"),s.iDataSort!==n&&(i.aDataSort=[s.iDataSort]),It(i,s,"aDataSort"));var c=i.mData,u=D(c),d=i.mRender?D(i.mRender):null,s=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};i._bAttrSrc=t.isPlainObject(c)&&(s(c.sort)||s(c.type)||s(c.filter)),i._setter=null,i.fnGetData=function(t,e,i){var s=u(t,e,n,i);return d&&e?d(s,e,t,i):s},i.fnSetData=function(t,e,i){return T(c)(t,e,i)},"number"!=typeof c&&(e._rowReadObject=!0),e.oFeatures.bSort||(i.bSortable=!1,a.addClass(o.sSortableNone)),e=-1!==t.inArray("asc",i.asSorting),s=-1!==t.inArray("desc",i.asSorting),i.bSortable&&(e||s)?e&&!s?(i.sSortingClass=o.sSortableAsc,i.sSortingClassJUI=o.sSortJUIAscAllowed):!e&&s?(i.sSortingClass=o.sSortableDesc,i.sSortingClassJUI=o.sSortJUIDescAllowed):(i.sSortingClass=o.sSortable,i.sSortingClassJUI=o.sSortJUI):(i.sSortingClass=o.sSortableNone,i.sSortingClassJUI="")}function p(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;gt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}e=t.oScroll,(""!==e.sY||""!==e.sX)&&pt(t),$t(t,null,"column-sizing",[t])}function f(t,e){var i=v(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function g(e,i){var n=v(e,"bVisible"),n=t.inArray(i,n);return-1!==n?n:null}function m(e){var i=0;return t.each(e.aoColumns,function(e,n){n.bVisible&&"none"!==t(n.nTh).css("display")&&i++}),i}function v(e,i){var n=[];return t.map(e.aoColumns,function(t,e){t[i]&&n.push(e)}),n}function y(t){var e,i,s,r,o,a,l,h,c,u=t.aoColumns,d=t.aoData,p=Ut.ext.type.detect;for(e=0,i=u.length;e<i;e++)if(l=u[e],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(s=0,r=p.length;s<r;s++){for(o=0,a=d.length;o<a&&(c[o]===n&&(c[o]=S(t,o,e,"type")),h=p[s](c[o],t),h||s===p.length-1)&&"html"!==h;o++);if(h){l.sType=h;break}}l.sType||(l.sType="string")}}function b(e,i,s,r){var o,a,l,h,c,d,p=e.aoColumns;if(i)for(o=i.length-1;0<=o;o--){d=i[o];var f=d.targets!==n?d.targets:d.aTargets;for(t.isArray(f)||(f=[f]),a=0,l=f.length;a<l;a++)if("number"==typeof f[a]&&0<=f[a]){for(;p.length<=f[a];)u(e);r(f[a],d)}else if("number"==typeof f[a]&&0>f[a])r(p.length+f[a],d);else if("string"==typeof f[a])for(h=0,c=p.length;h<c;h++)("_all"==f[a]||t(p[h].nTh).hasClass(f[a]))&&r(h,d)}if(s)for(o=0,e=s.length;o<e;o++)r(o,s[o])}function w(e,i,s,r){var o=e.aoData.length,a=t.extend(!0,{},Ut.models.oRow,{src:s?"dom":"data",idx:o});a._aData=i,e.aoData.push(a);for(var l=e.aoColumns,h=0,c=l.length;h<c;h++)l[h].sType=null;return e.aiDisplayMaster.push(o),i=e.rowIdFn(i),i!==n&&(e.aIds[i]=a),(s||!e.oFeatures.bDeferRender)&&P(e,o,s,r),o}function x(e,i){var n;return i instanceof t||(i=t(i)),i.map(function(t,i){return n=I(e,i),w(e,n.data,i,n.cells)})}function S(t,e,i,s){var r=t.iDraw,o=t.aoColumns[i],a=t.aoData[e]._aData,l=o.sDefaultContent,h=o.fnGetData(a,s,{settings:t,row:e,col:i});if(h===n)return t.iDrawError!=r&&null===l&&(At(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=r),l;if(h!==a&&null!==h||null===l||s===n){if("function"==typeof h)return h.call(a)}else h=l;return null===h&&"display"==s?"":h}function k(t,e,i,n){t.aoColumns[i].fnSetData(t.aoData[e]._aData,n,{settings:t,row:e,col:i})}function C(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function D(e){if(t.isPlainObject(e)){var i={};return t.each(e,function(t,e){e&&(i[t]=D(e))}),function(t,e,s,r){var o=i[e]||i._;return o!==n?o(t,e,s,r):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,n,s){return e(t,i,n,s)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var s=function(e,i,r){var o,a;if(""!==r){a=C(r);for(var l=0,h=a.length;l<h;l++){if(r=a[l].match(ue),o=a[l].match(de),r){if(a[l]=a[l].replace(ue,""),""!==a[l]&&(e=e[a[l]]),o=[],a.splice(0,l+1),a=a.join("."),t.isArray(e))for(l=0,h=e.length;l<h;l++)o.push(s(e[l],i,a));e=r[0].substring(1,r[0].length-1),e=""===e?o:o.join(e);break}if(o)a[l]=a[l].replace(de,""),e=e[a[l]]();else{if(null===e||e[a[l]]===n)return n;e=e[a[l]]}}}return e};return function(t,i){return s(t,i,e)}}return function(t){return t[e]}}function T(e){if(t.isPlainObject(e))return T(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var i=function(e,s,r){var o,r=C(r);o=r[r.length-1];for(var a,l,h=0,c=r.length-1;h<c;h++){if(a=r[h].match(ue),l=r[h].match(de),a){if(r[h]=r[h].replace(ue,""),e[r[h]]=[],o=r.slice(),o.splice(0,h+1),a=o.join("."),t.isArray(s))for(l=0,c=s.length;l<c;l++)o={},i(o,s[l],a),e[r[h]].push(o);else e[r[h]]=s;return}l&&(r[h]=r[h].replace(de,""),e=e[r[h]](s)),null!==e[r[h]]&&e[r[h]]!==n||(e[r[h]]={}),e=e[r[h]]}o.match(de)?e[o.replace(de,"")](s):e[o.replace(ue,"")]=s};return function(t,n){return i(t,n,e)}}return function(t,i){t[e]=i}}function _(t){return re(t.aoData,"_aData")}function E(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function M(t,e,i){for(var s=-1,r=0,o=t.length;r<o;r++)t[r]==e?s=r:t[r]>e&&t[r]--;-1!=s&&i===n&&t.splice(s,1)}function A(t,e,i,s){var r,o=t.aoData[e],a=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=S(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==o.src)){var l=o.anCells;if(l)if(s!==n)a(l[s],s);else for(i=0,r=l.length;i<r;i++)a(l[i],i)}else o._aData=I(t,o,s,s===n?n:o._aData).data;if(o._aSortData=null,o._aFilterData=null,a=t.aoColumns,s!==n)a[s].sType=null;else{for(i=0,r=a.length;i<r;i++)a[i].sType=null;R(t,o)}}function I(e,i,s,r){var o,a,l,h=[],c=i.firstChild,u=0,d=e.aoColumns,p=e._rowReadObject,r=r!==n?r:p?{}:[],f=function(t,e){if("string"==typeof t){var i=t.indexOf("@");-1!==i&&(i=t.substring(i+1),T(t)(r,e.getAttribute(i)))}},g=function(e){s!==n&&s!==u||(a=d[u],l=t.trim(e.innerHTML),a&&a._bAttrSrc?(T(a.mData._)(r,l),f(a.mData.sort,e),f(a.mData.type,e),f(a.mData.filter,e)):p?(a._setter||(a._setter=T(a.mData)),a._setter(r,l)):r[u]=l),u++};if(c)for(;c;)o=c.nodeName.toUpperCase(),"TD"!=o&&"TH"!=o||(g(c),h.push(c)),c=c.nextSibling;else for(h=i.anCells,c=0,o=h.length;c<o;c++)g(h[c]);return(i=i.firstChild?i:i.nTr)&&(i=i.getAttribute("id"))&&T(e.rowId)(r,i),{data:r,cells:h}}function P(e,n,s,r){var o,a,l,h,c,u=e.aoData[n],d=u._aData,p=[];if(null===u.nTr){for(o=s||i.createElement("tr"),u.nTr=o,u.anCells=p,o._DT_RowIndex=n,R(e,u),h=0,c=e.aoColumns.length;h<c;h++)l=e.aoColumns[h],a=s?r[h]:i.createElement(l.sCellType),a._DT_CellIndex={row:n,column:h},p.push(a),s&&!l.mRender&&l.mData===h||t.isPlainObject(l.mData)&&l.mData._===h+".display"||(a.innerHTML=S(e,n,h,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!s?o.appendChild(a):!l.bVisible&&s&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,a,S(e,n,h),d,n,h);$t(e,"aoRowCreatedCallback",null,[o,d,n])}u.nTr.setAttribute("role","row")}function R(e,i){var n=i.nTr,s=i._aData;if(n){var r=e.rowIdFn(s);r&&(n.id=r),s.DT_RowClass&&(r=s.DT_RowClass.split(" "),i.__rowc=i.__rowc?he(i.__rowc.concat(r)):r,t(n).removeClass(i.__rowc.join(" ")).addClass(s.DT_RowClass)),s.DT_RowAttr&&t(n).attr(s.DT_RowAttr),s.DT_RowData&&t(n).data(s.DT_RowData)}}function H(e){var i,n,s,r,o,a=e.nTHead,l=e.nTFoot,h=0===t("th, td",a).length,c=e.oClasses,u=e.aoColumns;for(h&&(r=t("<tr/>").appendTo(a)),i=0,n=u.length;i<n;i++)o=u[i],s=t(o.nTh).addClass(o.sClass),h&&s.appendTo(r),e.oFeatures.bSort&&(s.addClass(o.sSortingClass),!1!==o.bSortable&&(s.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Ct(e,o.nTh,i))),o.sTitle!=s[0].innerHTML&&s.html(o.sTitle),Ot(e,"header")(e,s,o,c);if(h&&B(e.aoHeader,a),t(a).find(">tr").attr("role","row"),t(a).find(">tr>th, >tr>td").addClass(c.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l)for(e=e.aoFooter[0],i=0,n=e.length;i<n;i++)o=u[i],o.nTf=e[i].cell,o.sClass&&t(o.nTf).addClass(o.sClass)}function $(e,i,s){var r,o,a,l,h=[],c=[],u=e.aoColumns.length;if(i){for(s===n&&(s=!1),r=0,o=i.length;r<o;r++){for(h[r]=i[r].slice(),h[r].nTr=i[r].nTr,a=u-1;0<=a;a--)!e.aoColumns[a].bVisible&&!s&&h[r].splice(a,1);c.push([])}for(r=0,o=h.length;r<o;r++){if(e=h[r].nTr)for(;a=e.firstChild;)e.removeChild(a);for(a=0,i=h[r].length;a<i;a++)if(l=u=1,c[r][a]===n){for(e.appendChild(h[r][a].cell),c[r][a]=1;h[r+u]!==n&&h[r][a].cell==h[r+u][a].cell;)c[r+u][a]=1,u++;for(;h[r][a+l]!==n&&h[r][a].cell==h[r][a+l].cell;){for(s=0;s<u;s++)c[r+s][a+l]=1;l++}t(h[r][a].cell).attr("rowspan",u).attr("colspan",l)}}}}function L(e){var i=$t(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,i))ut(e,!1);else{var i=[],s=0,r=e.asStripeClasses,o=r.length,a=e.oLanguage,l=e.iInitDisplayStart,h="ssp"==Ft(e),c=e.aiDisplay;e.bDrawing=!0,l!==n&&-1!==l&&(e._iDisplayStart=h?l:l>=e.fnRecordsDisplay()?0:l,e.iInitDisplayStart=-1);var l=e._iDisplayStart,u=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ut(e,!1);else if(h){if(!e.bDestroying&&!z(e))return}else e.iDraw++;if(0!==c.length)for(a=h?e.aoData.length:u,h=h?0:l;h<a;h++){var d=c[h],p=e.aoData[d];if(null===p.nTr&&P(e,d),d=p.nTr,0!==o){var f=r[s%o];p._sRowStripe!=f&&(t(d).removeClass(p._sRowStripe).addClass(f),p._sRowStripe=f)}$t(e,"aoRowCallback",null,[d,p._aData,s,h]),i.push(d),s++}else s=a.sZeroRecords,1==e.iDraw&&"ajax"==Ft(e)?s=a.sLoadingRecords:a.sEmptyTable&&0===e.fnRecordsTotal()&&(s=a.sEmptyTable),i[0]=t("<tr/>",{"class":o?r[0]:""}).append(t("<td />",{valign:"top",colSpan:m(e),"class":e.oClasses.sRowEmpty}).html(s))[0];$t(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],_(e),l,u,c]),$t(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],_(e),l,u,c]),r=t(e.nTBody),r.children().detach(),r.append(t(i)),$t(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function O(t,e){var i=t.oFeatures,n=i.bFilter;i.bSort&&xt(t),n?V(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,L(t),t._drawHold=!1}function F(e){var i=e.oClasses,n=t(e.nTable),n=t("<div/>").insertBefore(n),s=e.oFeatures,r=t("<div/>",{id:e.sTableId+"_wrapper","class":i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o,a,l,h,c,u,d=e.sDom.split(""),p=0;p<d.length;p++){if(o=null,a=d[p],"<"==a){if(l=t("<div/>")[0],h=d[p+1],"'"==h||'"'==h){for(c="",u=2;d[p+u]!=h;)c+=d[p+u],u++;"H"==c?c=i.sJUIHeader:"F"==c&&(c=i.sJUIFooter),-1!=c.indexOf(".")?(h=c.split("."),l.id=h[0].substr(1,h[0].length-1),l.className=h[1]):"#"==c.charAt(0)?l.id=c.substr(1,c.length-1):l.className=c,p+=u}r.append(l),r=t(l)}else if(">"==a)r=r.parent();else if("l"==a&&s.bPaginate&&s.bLengthChange)o=at(e);else if("f"==a&&s.bFilter)o=U(e);else if("r"==a&&s.bProcessing)o=ct(e);else if("t"==a)o=dt(e);else if("i"==a&&s.bInfo)o=et(e);else if("p"==a&&s.bPaginate)o=lt(e);else if(0!==Ut.ext.feature.length)for(l=Ut.ext.feature,u=0,h=l.length;u<h;u++)if(a==l[u].cFeature){o=l[u].fnInit(e);break}o&&(l=e.aanFeatures,l[a]||(l[a]=[]),l[a].push(o),r.append(o))}n.replaceWith(r),e.nHolding=null}function B(e,i){var n,s,r,o,a,l,h,c,u,d,p=t(i).children("tr");for(e.splice(0,e.length),r=0,l=p.length;r<l;r++)e.push([]);for(r=0,l=p.length;r<l;r++)for(n=p[r],s=n.firstChild;s;){if("TD"==s.nodeName.toUpperCase()||"TH"==s.nodeName.toUpperCase()){for(c=1*s.getAttribute("colspan"),u=1*s.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,u=u&&0!==u&&1!==u?u:1,o=0,a=e[r];a[o];)o++;for(h=o,d=1===c,a=0;a<c;a++)for(o=0;o<u;o++)e[r+o][h+a]={cell:s,unique:d},e[r+o].nTr=n}s=s.nextSibling}}function N(t,e,i){var n=[];i||(i=t.aoHeader,e&&(i=[],B(i,e)));for(var e=0,s=i.length;e<s;e++)for(var r=0,o=i[e].length;r<o;r++)!i[e][r].unique||n[r]&&t.bSortCellsTop||(n[r]=i[e][r].cell);return n}function j(e,i,n){if($t(e,"aoServerParams","serverParams",[i]),i&&t.isArray(i)){var s={},r=/(.*?)\[\]$/;t.each(i,function(t,e){var i=e.name.match(r);i?(i=i[0],s[i]||(s[i]=[]),s[i].push(e.value)):s[e.name]=e.value}),i=s}var o,a=e.ajax,l=e.oInstance,h=function(t){$t(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(a)&&a.data){o=a.data;var c=t.isFunction(o)?o(i,e):o,i=t.isFunction(o)&&c?c:t.extend(!0,i,c);delete a.data}c={data:i,success:function(t){var i=t.error||t.sError;i&&At(e,0,i),e.json=t,h(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,n){var s=$t(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,s)&&("parsererror"==n?At(e,0,"Invalid JSON response",1):4===i.readyState&&At(e,0,"Ajax error",7)),ut(e,!1)}},e.oAjaxData=i,$t(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,function(t,e){return{name:e,value:t}}),h,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=t.ajax(t.extend(c,{url:a||e.sAjaxSource})):t.isFunction(a)?e.jqXHR=a.call(l,i,h,e):(e.jqXHR=t.ajax(t.extend(c,a)),a.data=o)}function z(t){return!t.bAjaxDataGet||(t.iDraw++,ut(t,!0),j(t,W(t),function(e){Y(t,e)}),!1)}function W(e){var i,n,s,r,o=e.aoColumns,a=o.length,l=e.oFeatures,h=e.oPreviousSearch,c=e.aoPreSearchCols,u=[],d=wt(e);i=e._iDisplayStart,n=!1!==l.bPaginate?e._iDisplayLength:-1;var p=function(t,e){u.push({name:t,value:e})};p("sEcho",e.iDraw),p("iColumns",a),p("sColumns",re(o,"sName").join(",")),p("iDisplayStart",i),p("iDisplayLength",n);var f={draw:e.iDraw,columns:[],order:[],start:i,length:n,search:{value:h.sSearch,regex:h.bRegex}};for(i=0;i<a;i++)s=o[i],r=c[i],n="function"==typeof s.mData?"function":s.mData,f.columns.push({data:n,name:s.sName,searchable:s.bSearchable,orderable:s.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),p("mDataProp_"+i,n),l.bFilter&&(p("sSearch_"+i,r.sSearch),p("bRegex_"+i,r.bRegex),p("bSearchable_"+i,s.bSearchable)),l.bSort&&p("bSortable_"+i,s.bSortable);return l.bFilter&&(p("sSearch",h.sSearch),p("bRegex",h.bRegex)),l.bSort&&(t.each(d,function(t,e){f.order.push({column:e.col,dir:e.dir}),p("iSortCol_"+t,e.col),p("sSortDir_"+t,e.dir)}),p("iSortingCols",d.length)),o=Ut.ext.legacy.ajax,null===o?e.sAjaxSource?u:f:o?u:f}function Y(t,e){var i=G(t,e),s=e.sEcho!==n?e.sEcho:e.draw,r=e.iTotalRecords!==n?e.iTotalRecords:e.recordsTotal,o=e.iTotalDisplayRecords!==n?e.iTotalDisplayRecords:e.recordsFiltered;if(s){if(1*s<t.iDraw)return;t.iDraw=1*s}for(E(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(o,10),s=0,r=i.length;s<r;s++)w(t,i[s]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,L(t),t._bInitComplete||rt(t,e),t.bAjaxDataGet=!0,ut(t,!1)}function G(e,i){var s=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===s?i.aaData||i[s]:""!==s?D(s)(i):i}function U(e){var n=e.oClasses,s=e.sTableId,r=e.oLanguage,o=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',h=r.sSearch,h=h.match(/_INPUT_/)?h.replace("_INPUT_",l):h+l,n=t("<div/>",{id:a.f?null:s+"_filter","class":n.sFilter}).append(t("<label/>").append(h)),a=function(){var t=this.value?this.value:"";t!=o.sSearch&&(V(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,L(e))},l=null!==e.searchDelay?e.searchDelay:"ssp"===Ft(e)?400:0,c=t("input",n).val(o.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?ve(a,l):a).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",s);return t(e.nTable).on("search.dt.DT",function(t,n){if(e===n)try{c[0]!==i.activeElement&&c.val(o.sSearch)}catch(s){}}),n[0]}function V(t,e,i){var s=t.oPreviousSearch,r=t.aoPreSearchCols,o=function(t){s.sSearch=t.sSearch,s.bRegex=t.bRegex,s.bSmart=t.bSmart,s.bCaseInsensitive=t.bCaseInsensitive};if(y(t),"ssp"!=Ft(t)){for(K(t,e.sSearch,i,e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),o(e),e=0;e<r.length;e++)X(t,r[e].sSearch,e,r[e].bEscapeRegex!==n?!r[e].bEscapeRegex:r[e].bRegex,r[e].bSmart,r[e].bCaseInsensitive);q(t)}else o(e);t.bFiltered=!0,$t(t,null,"search",[t])}function q(e){for(var i,n,s=Ut.ext.search,r=e.aiDisplay,o=0,a=s.length;o<a;o++){for(var l=[],h=0,c=r.length;h<c;h++)n=r[h],i=e.aoData[n],s[o](e,i._aFilterData,n,i._aData,h)&&l.push(n);r.length=0,t.merge(r,l)}}function X(t,e,i,n,s,r){if(""!==e)for(var o=t.aiDisplay,n=Q(e,n,s,r),s=o.length-1;0<=s;s--)e=t.aoData[o[s]]._aFilterData[i],n.test(e)||o.splice(s,1)}function K(t,e,i,n,s,r){var o,n=Q(e,n,s,r),s=t.oPreviousSearch.sSearch,r=t.aiDisplayMaster;if(0!==Ut.ext.search.length&&(i=!0),o=Z(t),0>=e.length)t.aiDisplay=r.slice();else for((o||i||s.length>e.length||0!==e.indexOf(s)||t.bSorted)&&(t.aiDisplay=r.slice()),e=t.aiDisplay,i=e.length-1;0<=i;i--)n.test(t.aoData[e[i]]._sFilterRow)||e.splice(i,1)}function Q(e,i,n,s){return e=i?e:pe(e),n&&(e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0))var e=t.match(/^"(.*)"$/),t=e?e[1]:t;return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(e,s?"i":"")}function Z(t){var e,i,n,s,r,o,a,l,h=t.aoColumns,c=Ut.ext.type.search;for(e=!1,i=0,s=t.aoData.length;i<s;i++)if(l=t.aoData[i],!l._aFilterData){for(o=[],n=0,r=h.length;n<r;n++)e=h[n],e.bSearchable?(a=S(t,i,n,"filter"),c[e.sType]&&(a=c[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(fe.innerHTML=a,a=ge?fe.textContent:fe.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),o.push(a);l._aFilterData=o,l._sFilterRow=o.join("  "),e=!0}return e}function J(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function tt(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function et(e){var i=e.sTableId,n=e.aanFeatures.i,s=t("<div/>",{"class":e.oClasses.sInfo,id:n?null:i+"_info"});return n||(e.aoDrawCallback.push({fn:it,sName:"information"}),s.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),s[0]}function it(e){var i=e.aanFeatures.i;if(0!==i.length){var n=e.oLanguage,s=e._iDisplayStart+1,r=e.fnDisplayEnd(),o=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==o&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=nt(e,l),n=n.fnInfoCallback,null!==n&&(l=n.call(e.oInstance,e,s,r,o,a,l)),t(i).html(l)}}function nt(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,s=t._iDisplayLength,r=t.fnRecordsDisplay(),o=-1===s;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,r)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/s))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(r/s)));
}function st(t){var e,i,n,s=t.iInitDisplayStart,r=t.aoColumns;i=t.oFeatures;var o=t.bDeferLoading;if(t.bInitialised){for(F(t),H(t),$(t,t.aoHeader),$(t,t.aoFooter),ut(t,!0),i.bAutoWidth&&gt(t),e=0,i=r.length;e<i;e++)n=r[e],n.sWidth&&(n.nTh.style.width=bt(n.sWidth));$t(t,null,"preInit",[t]),O(t),r=Ft(t),("ssp"!=r||o)&&("ajax"==r?j(t,[],function(i){var n=G(t,i);for(e=0;e<n.length;e++)w(t,n[e]);t.iInitDisplayStart=s,O(t),ut(t,!1),rt(t,i)},t):(ut(t,!1),rt(t)))}else setTimeout(function(){st(t)},200)}function rt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),$t(t,null,"plugin-init",[t,e]),$t(t,"aoInitComplete","init",[t,e])}function ot(t,e){var i=parseInt(e,10);t._iDisplayLength=i,Lt(t),$t(t,null,"length",[t,i])}function at(e){for(var i=e.oClasses,n=e.sTableId,s=e.aLengthMenu,r=t.isArray(s[0]),o=r?s[0]:s,s=r?s[1]:s,r=t("<select/>",{name:n+"_length","aria-controls":n,"class":i.sLengthSelect}),a=0,l=o.length;a<l;a++)r[0][a]=new Option(s[a],o[a]);var h=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(h[0].id=n+"_length"),h.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",r[0].outerHTML)),t("select",h).val(e._iDisplayLength).bind("change.DT",function(){ot(e,t(this).val()),L(e)}),t(e.nTable).bind("length.dt.DT",function(i,n,s){e===n&&t("select",h).val(s)}),h[0]}function lt(e){var i=e.sPaginationType,n=Ut.ext.pager[i],s="function"==typeof n,r=function(t){L(t)},i=t("<div/>").addClass(e.oClasses.sPaging+i)[0],o=e.aanFeatures;return s||n.fnInit(e,i,r),o.p||(i.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(s){var e,i=t._iDisplayStart,a=t._iDisplayLength,l=t.fnRecordsDisplay(),h=-1===a,i=h?0:Math.ceil(i/a),a=h?1:Math.ceil(l/a),l=n(i,a),h=0;for(e=o.p.length;h<e;h++)Ot(t,"pageButton")(t,o.p[h],h,l,i,a)}else n.fnUpdate(t,r)},sName:"pagination"})),i}function ht(t,e,i){var n=t._iDisplayStart,s=t._iDisplayLength,r=t.fnRecordsDisplay();return 0===r||-1===s?n=0:"number"==typeof e?(n=e*s,n>r&&(n=0)):"first"==e?n=0:"previous"==e?(n=0<=s?n-s:0,0>n&&(n=0)):"next"==e?n+s<r&&(n+=s):"last"==e?n=Math.floor((r-1)/s)*s:At(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==n,t._iDisplayStart=n,e&&($t(t,null,"page",[t]),i&&L(t)),e}function ct(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ut(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),$t(e,null,"processing",[e,i])}function dt(e){var i=t(e.nTable);i.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var s=n.sX,r=n.sY,o=e.oClasses,a=i.children("caption"),l=a.length?a[0]._captionSide:null,h=t(i[0].cloneNode(!1)),c=t(i[0].cloneNode(!1)),u=i.children("tfoot");u.length||(u=null),h=t("<div/>",{"class":o.sScrollWrapper}).append(t("<div/>",{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:s?s?bt(s):null:"100%"}).append(t("<div/>",{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(h.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(i.children("thead"))))).append(t("<div/>",{"class":o.sScrollBody}).css({position:"relative",overflow:"auto",width:s?bt(s):null}).append(i)),u&&h.append(t("<div/>",{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:s?s?bt(s):null:"100%"}).append(t("<div/>",{"class":o.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(i.children("tfoot")))));var i=h.children(),d=i[0],o=i[1],p=u?i[2]:null;return s&&t(o).on("scroll.DT",function(){var t=this.scrollLeft;d.scrollLeft=t,u&&(p.scrollLeft=t)}),t(o).css(r&&n.bCollapse?"max-height":"height",r),e.nScrollHead=d,e.nScrollBody=o,e.nScrollFoot=p,e.aoDrawCallback.push({fn:pt,sName:"scrolling"}),h[0]}function pt(e){var i,s,r,o,a,l=e.oScroll,h=l.sX,c=l.sXInner,u=l.sY,l=l.iBarWidth,d=t(e.nScrollHead),g=d[0].style,m=d.children("div"),v=m[0].style,y=m.children("table"),m=e.nScrollBody,b=t(m),w=m.style,x=t(e.nScrollFoot).children("div"),S=x.children("table"),k=t(e.nTHead),C=t(e.nTable),D=C[0],T=D.style,_=e.nTFoot?t(e.nTFoot):null,E=e.oBrowser,M=E.bScrollOversize,A=re(e.aoColumns,"nTh"),I=[],P=[],R=[],H=[],$=function(t){t=t.style,t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};s=m.scrollHeight>m.clientHeight,e.scrollBarVis!==s&&e.scrollBarVis!==n?(e.scrollBarVis=s,p(e)):(e.scrollBarVis=s,C.children("thead, tfoot").remove(),_&&(r=_.clone().prependTo(C),i=_.find("tr"),r=r.find("tr")),o=k.clone().prependTo(C),k=k.find("tr"),s=o.find("tr"),o.find("th, td").removeAttr("tabindex"),h||(w.width="100%",d[0].style.width="100%"),t.each(N(e,o),function(t,i){a=f(e,t),i.style.width=e.aoColumns[a].sWidth}),_&&ft(function(t){t.style.width=""},r),d=C.outerWidth(),""===h?(T.width="100%",M&&(C.find("tbody").height()>m.offsetHeight||"scroll"==b.css("overflow-y"))&&(T.width=bt(C.outerWidth()-l)),d=C.outerWidth()):""!==c&&(T.width=bt(c),d=C.outerWidth()),ft($,s),ft(function(e){R.push(e.innerHTML),I.push(bt(t(e).css("width")))},s),ft(function(e,i){t.inArray(e,A)!==-1&&(e.style.width=I[i])},k),t(s).height(0),_&&(ft($,r),ft(function(e){H.push(e.innerHTML),P.push(bt(t(e).css("width")))},r),ft(function(t,e){t.style.width=P[e]},i),t(r).height(0)),ft(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+R[e]+"</div>",t.style.width=I[e]},s),_&&ft(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+H[e]+"</div>",t.style.width=P[e]},r),C.outerWidth()<d?(i=m.scrollHeight>m.offsetHeight||"scroll"==b.css("overflow-y")?d+l:d,M&&(m.scrollHeight>m.offsetHeight||"scroll"==b.css("overflow-y"))&&(T.width=bt(i-l)),(""===h||""!==c)&&At(e,1,"Possible column misalignment",6)):i="100%",w.width=bt(i),g.width=bt(i),_&&(e.nScrollFoot.style.width=bt(i)),!u&&M&&(w.height=bt(D.offsetHeight+l)),h=C.outerWidth(),y[0].style.width=bt(h),v.width=bt(h),c=C.height()>m.clientHeight||"scroll"==b.css("overflow-y"),u="padding"+(E.bScrollbarLeft?"Left":"Right"),v[u]=c?l+"px":"0px",_&&(S[0].style.width=bt(h),x[0].style.width=bt(h),x[0].style[u]=c?l+"px":"0px"),C.children("colgroup").insertBefore(C.children("thead")),b.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(m.scrollTop=0))}function ft(t,e,i){for(var n,s,r=0,o=0,a=e.length;o<a;){for(n=e[o].firstChild,s=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?t(n,s,r):t(n,r),r++),n=n.nextSibling,s=i?s.nextSibling:null;o++}}function gt(i){var n,s,r=i.nTable,o=i.aoColumns,a=i.oScroll,l=a.sY,h=a.sX,c=a.sXInner,u=o.length,d=v(i,"bVisible"),g=t("th",i.nTHead),y=r.getAttribute("width"),b=r.parentNode,w=!1,x=i.oBrowser,a=x.bScrollOversize;for((n=r.style.width)&&-1!==n.indexOf("%")&&(y=n),n=0;n<d.length;n++)s=o[d[n]],null!==s.sWidth&&(s.sWidth=mt(s.sWidthOrig,b),w=!0);if(a||!w&&!h&&!l&&u==m(i)&&u==g.length)for(n=0;n<u;n++)d=f(i,n),null!==d&&(o[d].sWidth=bt(g.eq(n).width()));else{u=t(r).clone().css("visibility","hidden").removeAttr("id"),u.find("tbody tr").remove();var S=t("<tr/>").appendTo(u.find("tbody"));for(u.find("thead, tfoot").remove(),u.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),u.find("tfoot th, tfoot td").css("width",""),g=N(i,u.find("thead")[0]),n=0;n<d.length;n++)s=o[d[n]],g[n].style.width=null!==s.sWidthOrig&&""!==s.sWidthOrig?bt(s.sWidthOrig):"",s.sWidthOrig&&h&&t(g[n]).append(t("<div/>").css({width:s.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<d.length;n++)w=d[n],s=o[w],t(vt(i,w)).clone(!1).append(s.sContentPadding).appendTo(S);for(t("[name]",u).removeAttr("name"),s=t("<div/>").css(h||l?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(u).appendTo(b),h&&c?u.width(c):h?(u.css("width","auto"),u.removeAttr("width"),u.width()<b.clientWidth&&y&&u.width(b.clientWidth)):l?u.width(b.clientWidth):y&&u.width(y),n=l=0;n<d.length;n++)b=t(g[n]),c=b.outerWidth()-b.width(),b=x.bBounding?Math.ceil(g[n].getBoundingClientRect().width):b.outerWidth(),l+=b,o[d[n]].sWidth=bt(b-c);r.style.width=bt(l),s.remove()}y&&(r.style.width=bt(y)),!y&&!h||i._reszEvt||(r=function(){t(e).bind("resize.DT-"+i.sInstance,ve(function(){p(i)}))},a?setTimeout(r,1e3):r(),i._reszEvt=!0)}function mt(e,n){if(!e)return 0;var s=t("<div/>").css("width",bt(e)).appendTo(n||i.body),r=s[0].offsetWidth;return s.remove(),r}function vt(e,i){var n=yt(e,i);if(0>n)return null;var s=e.aoData[n];return s.nTr?s.anCells[i]:t("<td/>").html(S(e,n,i,"display"))[0]}function yt(t,e){for(var i,n=-1,s=-1,r=0,o=t.aoData.length;r<o;r++)i=S(t,r,e,"display")+"",i=i.replace(me,""),i=i.replace(/&nbsp;/g," "),i.length>n&&(n=i.length,s=r);return s}function bt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function wt(e){var i,s,r,o,a,l,h=[],c=e.aoColumns;i=e.aaSortingFixed,s=t.isPlainObject(i);var u=[];for(r=function(e){e.length&&!t.isArray(e[0])?u.push(e):t.merge(u,e)},t.isArray(i)&&r(i),s&&i.pre&&r(i.pre),r(e.aaSorting),s&&i.post&&r(i.post),e=0;e<u.length;e++)for(l=u[e][0],r=c[l].aDataSort,i=0,s=r.length;i<s;i++)o=r[i],a=c[o].sType||"string",u[e]._idx===n&&(u[e]._idx=t.inArray(u[e][1],c[o].asSorting)),h.push({src:l,col:o,dir:u[e][1],index:u[e]._idx,type:a,formatter:Ut.ext.type.order[a+"-pre"]});return h}function xt(t){var e,i,n,s,r=[],o=Ut.ext.type.order,a=t.aoData,l=0,h=t.aiDisplayMaster;for(y(t),s=wt(t),e=0,i=s.length;e<i;e++)n=s[e],n.formatter&&l++,Tt(t,n.col);if("ssp"!=Ft(t)&&0!==s.length){for(e=0,i=h.length;e<i;e++)r[h[e]]=e;l===s.length?h.sort(function(t,e){var i,n,o,l,h=s.length,c=a[t]._aSortData,u=a[e]._aSortData;for(o=0;o<h;o++)if(l=s[o],i=c[l.col],n=u[l.col],i=i<n?-1:i>n?1:0,0!==i)return"asc"===l.dir?i:-i;return i=r[t],n=r[e],i<n?-1:i>n?1:0}):h.sort(function(t,e){var i,n,l,h,c=s.length,u=a[t]._aSortData,d=a[e]._aSortData;for(l=0;l<c;l++)if(h=s[l],i=u[h.col],n=d[h.col],h=o[h.type+"-"+h.dir]||o["string-"+h.dir],i=h(i,n),0!==i)return i;return i=r[t],n=r[e],i<n?-1:i>n?1:0})}t.bSorted=!0}function St(t){for(var e,i,n=t.aoColumns,s=wt(t),t=t.oLanguage.oAria,r=0,o=n.length;r<o;r++){i=n[r];var a=i.asSorting;e=i.sTitle.replace(/<.*?>/g,"");var l=i.nTh;l.removeAttribute("aria-sort"),i.bSortable&&(0<s.length&&s[0].col==r?(l.setAttribute("aria-sort","asc"==s[0].dir?"ascending":"descending"),i=a[s[0].index+1]||a[0]):i=a[0],e+="asc"===i?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function kt(e,i,s,r){var o=e.aaSorting,a=e.aoColumns[i].asSorting,l=function(e,i){var s=e._idx;return s===n&&(s=t.inArray(e[1],a)),s+1<a.length?s+1:i?null:0};"number"==typeof o[0]&&(o=e.aaSorting=[o]),s&&e.oFeatures.bSortMulti?(s=t.inArray(i,re(o,"0")),-1!==s?(i=l(o[s],!0),null===i&&1===o.length&&(i=0),null===i?o.splice(s,1):(o[s][1]=a[i],o[s]._idx=i)):(o.push([i,a[0],0]),o[o.length-1]._idx=0)):o.length&&o[0][0]==i?(i=l(o[0]),o.length=1,o[0][1]=a[i],o[0]._idx=i):(o.length=0,o.push([i,a[0]]),o[0]._idx=0),O(e),"function"==typeof r&&r(e)}function Ct(t,e,i,n){var s=t.aoColumns[i];Rt(e,{},function(e){!1!==s.bSortable&&(t.oFeatures.bProcessing?(ut(t,!0),setTimeout(function(){kt(t,i,e.shiftKey,n),"ssp"!==Ft(t)&&ut(t,!1)},0)):kt(t,i,e.shiftKey,n))})}function Dt(e){var i,n,s=e.aLastSort,r=e.oClasses.sSortColumn,o=wt(e),a=e.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,i=s.length;a<i;a++)n=s[a].src,t(re(e.aoData,"anCells",n)).removeClass(r+(2>a?a+1:3));for(a=0,i=o.length;a<i;a++)n=o[a].src,t(re(e.aoData,"anCells",n)).addClass(r+(2>a?a+1:3))}e.aLastSort=o}function Tt(t,e){var i,n=t.aoColumns[e],s=Ut.ext.order[n.sSortDataType];s&&(i=s.call(t.oInstance,t,e,g(t,e)));for(var r,o=Ut.ext.type.order[n.sType+"-pre"],a=0,l=t.aoData.length;a<l;a++)n=t.aoData[a],n._aSortData||(n._aSortData=[]),(!n._aSortData[e]||s)&&(r=s?i[a]:S(t,a,e,"sort"),n._aSortData[e]=o?o(r):r)}function _t(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:J(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,i){return{visible:t.bVisible,search:J(e.aoPreSearchCols[i])}})};$t(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oSavedState=i,e.fnStateSaveCallback.call(e.oInstance,e,i)}}function Et(e){var i,s,r=e.aoColumns;if(e.oFeatures.bStateSave){var o=e.fnStateLoadCallback.call(e.oInstance,e);if(o&&o.time&&(i=$t(e,"aoStateLoadParams","stateLoadParams",[e,o]),-1===t.inArray(!1,i)&&(i=e.iStateDuration,!(0<i&&o.time<+new Date-1e3*i)&&r.length===o.columns.length))){for(e.oLoadedState=t.extend(!0,{},o),o.start!==n&&(e._iDisplayStart=o.start,e.iInitDisplayStart=o.start),o.length!==n&&(e._iDisplayLength=o.length),o.order!==n&&(e.aaSorting=[],t.each(o.order,function(t,i){e.aaSorting.push(i[0]>=r.length?[0,i[1]]:i)})),o.search!==n&&t.extend(e.oPreviousSearch,tt(o.search)),i=0,s=o.columns.length;i<s;i++){var a=o.columns[i];a.visible!==n&&(r[i].bVisible=a.visible),a.search!==n&&t.extend(e.aoPreSearchCols[i],tt(a.search))}$t(e,"aoStateLoaded","stateLoaded",[e,o])}}}function Mt(e){var i=Ut.settings,e=t.inArray(e,re(i,"nTable"));return-1!==e?i[e]:null}function At(t,i,n,s){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,s&&(n+=". For more information about this error, please see http://datatables.net/tn/"+s),i)e.console&&console.log&&console.log(n);else if(i=Ut.ext,i=i.sErrMode||i.errMode,t&&$t(t,null,"error",[t,s,n]),"alert"==i)alert(n);else{if("throw"==i)throw Error(n);"function"==typeof i&&i(t,s,n)}}function It(e,i,s,r){t.isArray(s)?t.each(s,function(n,s){t.isArray(s)?It(e,i,s[0],s[1]):It(e,i,s)}):(r===n&&(r=s),i[s]!==n&&(e[r]=i[s]))}function Pt(e,i,n){var s,r;for(r in i)i.hasOwnProperty(r)&&(s=i[r],t.isPlainObject(s)?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],s)):e[r]=n&&"data"!==r&&"aaData"!==r&&t.isArray(s)?s.slice():s);return e}function Rt(e,i,n){t(e).bind("click.DT",i,function(t){e.blur(),n(t)}).bind("keypress.DT",i,function(t){13===t.which&&(t.preventDefault(),n(t))}).bind("selectstart.DT",function(){return!1})}function Ht(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function $t(e,i,n,s){var r=[];return i&&(r=t.map(e[i].slice().reverse(),function(t){return t.fn.apply(e.oInstance,s)})),null!==n&&(i=t.Event(n+".dt"),t(e.nTable).trigger(i,s),r.push(i.result)),r}function Lt(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||0>e)&&(e=0),t._iDisplayStart=e}function Ot(e,i){var n=e.renderer,s=Ut.ext.renderer[i];return t.isPlainObject(n)&&n[i]?s[n[i]]||s._:"string"==typeof n?s[n]||s._:s._}function Ft(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Bt(t,e){var i=[],i=He.numbers_length,n=Math.floor(i/2);return e<=i?i=ae(0,e):t<=n?(i=ae(0,i-2),i.push("ellipsis"),i.push(e-1)):(t>=e-1-n?i=ae(e-(i-2),e):(i=ae(t-n+2,t+n-1),i.push("ellipsis"),i.push(e-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Nt(e){t.each({num:function(t){return $e(t,e)},"num-fmt":function(t){return $e(t,e,Jt)},"html-num":function(t){return $e(t,e,Xt)},"html-num-fmt":function(t){return $e(t,e,Xt,Jt)}},function(t,i){zt.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(zt.type.search[t+e]=zt.type.search.html)})}function jt(t){return function(){var e=[Mt(this[Ut.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ut.ext.internal[t].apply(this,e)}}var zt,Wt,Yt,Gt,Ut=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Wt(t?Mt(this[zt.iApiIndex]):this)},this.fnAddData=function(e,i){var s=this.api(!0),r=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?s.rows.add(e):s.row.add(e);return(i===n||i)&&s.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],s=i.oScroll;t===n||t?e.draw(!1):(""!==s.sX||""!==s.sY)&&pt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var s=this.api(!0),t=s.rows(t),r=t.settings()[0],o=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,o),(i===n||i)&&s.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,s,r,o){r=this.api(!0),null===e||e===n?r.search(t,i,s,o):r.column(e).search(t,i,s,o),r.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var s=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==s||"th"==s?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();return"TR"==i?e.row(t).index():"TD"==i||"TH"==i?(t=e.cell(t).index(),[t.row,t.columnVisible,t.column]):null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){t=this.api(!0).column(t).visible(e),(i===n||i)&&t.columns.adjust().draw()},this.fnSettings=function(){return Mt(this[zt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,s,r){var o=this.api(!0);return i===n||null===i?o.row(e).data(t):o.cell(e,i).data(t),(r===n||r)&&o.columns.adjust(),(s===n||s)&&o.draw(),0},this.fnVersionCheck=zt.fnVersionCheck;var i=this,s=e===n,c=this.length;s&&(e={}),this.oApi=this.internal=zt.internal;for(var p in Ut.ext.internal)p&&(this[p]=jt(p));return this.each(function(){var p,f={},f=1<c?Pt(f,e,!0):e,g=0,m=this.getAttribute("id"),v=!1,y=Ut.defaults,S=t(this);if("table"!=this.nodeName.toLowerCase())At(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{a(y),l(y.column),r(y,y,!0),r(y.column,y.column,!0),r(y,t.extend(f,S.data()));var k=Ut.settings,g=0;for(p=k.length;g<p;g++){var C=k[g];if(C.nTable==this||C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){if(g=f.bRetrieve!==n?f.bRetrieve:y.bRetrieve,s||g)return C.oInstance;if(f.bDestroy!==n?f.bDestroy:y.bDestroy){C.oInstance.fnDestroy();break}return void At(C,0,"Cannot reinitialise DataTable",3)}if(C.sTableId==this.id){k.splice(g,1);break}}null!==m&&""!==m||(this.id=m="DataTables_Table_"+Ut.ext._unique++);var T=t.extend(!0,{},Ut.models.oSettings,{sDestroyWidth:S[0].style.width,sInstance:m,sTableId:m});T.nTable=this,T.oApi=i.internal,T.oInit=f,k.push(T),T.oInstance=1===i.length?i:S.dataTable(),a(f),f.oLanguage&&o(f.oLanguage),f.aLengthMenu&&!f.iDisplayLength&&(f.iDisplayLength=t.isArray(f.aLengthMenu[0])?f.aLengthMenu[0][0]:f.aLengthMenu[0]),f=Pt(t.extend(!0,{},y),f),It(T.oFeatures,f,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),It(T,f,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),It(T.oScroll,f,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),It(T.oLanguage,f,"fnInfoCallback"),Ht(T,"aoDrawCallback",f.fnDrawCallback,"user"),Ht(T,"aoServerParams",f.fnServerParams,"user"),Ht(T,"aoStateSaveParams",f.fnStateSaveParams,"user"),Ht(T,"aoStateLoadParams",f.fnStateLoadParams,"user"),Ht(T,"aoStateLoaded",f.fnStateLoaded,"user"),Ht(T,"aoRowCallback",f.fnRowCallback,"user"),Ht(T,"aoRowCreatedCallback",f.fnCreatedRow,"user"),Ht(T,"aoHeaderCallback",f.fnHeaderCallback,"user"),Ht(T,"aoFooterCallback",f.fnFooterCallback,"user"),Ht(T,"aoInitComplete",f.fnInitComplete,"user"),Ht(T,"aoPreDrawCallback",f.fnPreDrawCallback,"user"),T.rowIdFn=D(f.rowId),h(T),m=T.oClasses,f.bJQueryUI?(t.extend(m,Ut.ext.oJUIClasses,f.oClasses),f.sDom===y.sDom&&"lfrtip"===y.sDom&&(T.sDom='<"H"lfr>t<"F"ip>'),T.renderer?t.isPlainObject(T.renderer)&&!T.renderer.header&&(T.renderer.header="jqueryui"):T.renderer="jqueryui"):t.extend(m,Ut.ext.classes,f.oClasses),S.addClass(m.sTable),T.iInitDisplayStart===n&&(T.iInitDisplayStart=f.iDisplayStart,T._iDisplayStart=f.iDisplayStart),null!==f.iDeferLoading&&(T.bDeferLoading=!0,g=t.isArray(f.iDeferLoading),T._iRecordsDisplay=g?f.iDeferLoading[0]:f.iDeferLoading,T._iRecordsTotal=g?f.iDeferLoading[1]:f.iDeferLoading);var _=T.oLanguage;t.extend(!0,_,f.oLanguage),""!==_.sUrl&&(t.ajax({dataType:"json",url:_.sUrl,success:function(e){o(e),r(y.oLanguage,e),t.extend(!0,_,e),st(T)},error:function(){st(T)}}),v=!0),null===f.asStripeClasses&&(T.asStripeClasses=[m.sStripeOdd,m.sStripeEven]);var g=T.asStripeClasses,E=S.children("tbody").find("tr").eq(0);if(-1!==t.inArray(!0,t.map(g,function(t){return E.hasClass(t)}))&&(t("tbody tr",this).removeClass(g.join(" ")),T.asDestroyStripes=g.slice()),k=[],g=this.getElementsByTagName("thead"),0!==g.length&&(B(T.aoHeader,g[0]),k=N(T)),null===f.aoColumns)for(C=[],g=0,p=k.length;g<p;g++)C.push(null);else C=f.aoColumns;for(g=0,p=C.length;g<p;g++)u(T,k?k[g]:null);if(b(T,f.aoColumnDefs,C,function(t,e){d(T,t,e)}),E.length){var M=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(E[0]).children("th, td").each(function(t,e){var i=T.aoColumns[t];if(i.mData===t){var s=M(e,"sort")||M(e,"order"),r=M(e,"filter")||M(e,"search");null===s&&null===r||(i.mData={_:t+".display",sort:null!==s?t+".@data-"+s:n,type:null!==s?t+".@data-"+s:n,filter:null!==r?t+".@data-"+r:n},d(T,t))}})}var A=T.oFeatures;if(f.bStateSave&&(A.bStateSave=!0,Et(T,f),Ht(T,"aoDrawCallback",_t,"state_save")),f.aaSorting===n)for(k=T.aaSorting,g=0,p=k.length;g<p;g++)k[g][1]=T.aoColumns[g].asSorting[0];if(Dt(T),A.bSort&&Ht(T,"aoDrawCallback",function(){if(T.bSorted){var e=wt(T),i={};t.each(e,function(t,e){i[e.src]=e.dir}),$t(T,null,"order",[T,e,i]),St(T)}}),Ht(T,"aoDrawCallback",function(){(T.bSorted||"ssp"===Ft(T)||A.bDeferRender)&&Dt(T)},"sc"),g=S.children("caption").each(function(){this._captionSide=S.css("caption-side")}),p=S.children("thead"),0===p.length&&(p=t("<thead/>").appendTo(this)),T.nTHead=p[0],p=S.children("tbody"),0===p.length&&(p=t("<tbody/>").appendTo(this)),T.nTBody=p[0],p=S.children("tfoot"),0===p.length&&0<g.length&&(""!==T.oScroll.sX||""!==T.oScroll.sY)&&(p=t("<tfoot/>").appendTo(this)),0===p.length||0===p.children().length?S.addClass(m.sNoFooter):0<p.length&&(T.nTFoot=p[0],B(T.aoFooter,T.nTFoot)),f.aaData)for(g=0;g<f.aaData.length;g++)w(T,f.aaData[g]);else(T.bDeferLoading||"dom"==Ft(T))&&x(T,t(T.nTBody).children("tr"));T.aiDisplay=T.aiDisplayMaster.slice(),T.bInitialised=!0,!1===v&&st(T)}}),i=null,this},Vt={},qt=/[\r\n]/g,Xt=/<.*?>/g,Kt=/^[\w\+\-]/,Qt=/[\w\+\-]$/,Zt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Jt=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,te=function(t){return!t||!0===t||"-"===t},ee=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ie=function(t,e){return Vt[e]||(Vt[e]=RegExp(pe(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Vt[e],"."):t},ne=function(t,e,i){var n="string"==typeof t;return!!te(t)||(e&&n&&(t=ie(t,e)),i&&n&&(t=t.replace(Jt,"")),!isNaN(parseFloat(t))&&isFinite(t))},se=function(t,e,i){return!!te(t)||(te(t)||"string"==typeof t?!!ne(t.replace(Xt,""),e,i)||null:null)},re=function(t,e,i){var s=[],r=0,o=t.length;if(i!==n)for(;r<o;r++)t[r]&&t[r][e]&&s.push(t[r][e][i]);else for(;r<o;r++)t[r]&&s.push(t[r][e]);return s},oe=function(t,e,i,s){var r=[],o=0,a=e.length;if(s!==n)for(;o<a;o++)t[e[o]][i]&&r.push(t[e[o]][i][s]);else for(;o<a;o++)r.push(t[e[o]][i]);return r},ae=function(t,e){var i,s=[];e===n?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)s.push(r);return s},le=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},he=function(t){var e,i,n,s=[],r=t.length,o=0;i=0;t:for(;i<r;i++){for(e=t[i],n=0;n<o;n++)if(s[n]===e)continue t;s.push(e),o++}return s};Ut.util={throttle:function(t,e){var i,s,r=e!==n?e:200;return function(){var e=this,o=+new Date,a=arguments;i&&o<i+r?(clearTimeout(s),s=setTimeout(function(){i=n,t.apply(e,a)},r)):(i=o,t.apply(e,a))}},escapeRegex:function(t){return t.replace(Zt,"\\$1")}};var ce=function(t,e,i){t[e]!==n&&(t[i]=t[e])},ue=/\[.*?\]$/,de=/\(\)$/,pe=Ut.util.escapeRegex,fe=t("<div>")[0],ge=fe.textContent!==n,me=/<.*?>/g,ve=Ut.util.throttle,ye=[],be=Array.prototype,we=function(e){var i,n,s=Ut.settings,r=t.map(s,function(t){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(i=t.inArray(e,r),-1!==i?[s[i]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map(function(){return i=t.inArray(this,r),-1!==i?s[i]:null}).toArray():void 0):[]};Wt=function(e,i){if(!(this instanceof Wt))return new Wt(e,i);var n=[],s=function(t){(t=we(t))&&(n=n.concat(t))};if(t.isArray(e))for(var r=0,o=e.length;r<o;r++)s(e[r]);else s(e);this.context=he(n),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},Wt.extend(this,this,ye)},Ut.Api=Wt,t.extend(Wt.prototype,{any:function(){return 0!==this.count()},concat:be.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Wt(e[t],this[t]):null},filter:function(t){var e=[];if(be.filter)e=be.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new Wt(this.context,e)},flatten:function(){var t=[];return new Wt(this.context,t.concat.apply(t,this.toArray()))},join:be.join,indexOf:be.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,s){var r,o,a,l,h,c,u,d=[],p=this.context,f=this.selector;for("string"==typeof t&&(s=i,i=e,e=t,t=!1),o=0,a=p.length;o<a;o++){var g=new Wt(p[o]);if("table"===e)r=i.call(g,p[o],o),r!==n&&d.push(r);else if("columns"===e||"rows"===e)r=i.call(g,p[o],this[o],o),r!==n&&d.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(u=this[o],"column-rows"===e&&(c=De(p[o],f.opts)),l=0,h=u.length;l<h;l++)r=u[l],r="cell"===e?i.call(g,p[o],r.row,r.column,o,l):i.call(g,p[o],r,o,l,c),r!==n&&d.push(r)}return d.length||s?(t=new Wt(p,t?d.concat.apply([],d):d),e=t.selector,e.rows=f.rows,e.cols=f.cols,e.opts=f.opts,t):this},lastIndexOf:be.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(be.map)e=be.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new Wt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:be.pop,push:be.push,reduce:be.reduce||function(t,e){return c(this,t,e,0,this.length,1)},reduceRight:be.reduceRight||function(t,e){return c(this,t,e,this.length-1,-1,-1)},reverse:be.reverse,selector:null,shift:be.shift,sort:be.sort,splice:be.splice,toArray:function(){return be.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Wt(this.context,he(this))},unshift:be.unshift}),Wt.extend=function(e,i,n){if(n.length&&i&&(i instanceof Wt||i.__dt_wrapper)){var s,r,o,a=function(t,e,i){return function(){var n=e.apply(t,arguments);return Wt.extend(n,n,i.methodExt),n}};for(s=0,r=n.length;s<r;s++)o=n[s],i[o.name]="function"==typeof o.val?a(e,o.val,o):t.isPlainObject(o.val)?{}:o.val,i[o.name].__dt_wrapper=!0,Wt.extend(e,i[o.name],o.propExt)}},Wt.register=Yt=function(e,i){if(t.isArray(e))for(var n=0,s=e.length;n<s;n++)Wt.register(e[n],i);else for(var r,o,a=e.split("."),l=ye,n=0,s=a.length;n<s;n++){r=(o=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];var h;t:{h=0;for(var c=l.length;h<c;h++)if(l[h].name===r){h=l[h];break t}h=null}h||(h={name:r,val:{},methodExt:[],propExt:[]},l.push(h)),n===s-1?h.val=i:l=o?h.methodExt:h.propExt}},Wt.registerPlural=Gt=function(e,i,s){Wt.register(e,s),Wt.register(i,function(){var e=s.apply(this,arguments);return e===this?this:e instanceof Wt?e.length?t.isArray(e[0])?new Wt(e.context,e[0]):e[0]:n:e})},Yt("tables()",function(e){var i;if(e){i=Wt;var n=this.context;if("number"==typeof e)e=[n[e]];else var s=t.map(n,function(t){return t.nTable}),e=t(s).filter(e).map(function(){var e=t.inArray(this,s);return n[e]}).toArray();i=new i(e)}else i=this;return i}),Yt("table()",function(t){var t=this.tables(t),e=t.context;return e.length?new Wt(e[0]):t}),Gt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Gt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Gt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Gt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Gt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Yt("draw()",function(t){return this.iterator("table",function(e){"page"===t?L(e):("string"==typeof t&&(t="full-hold"!==t),O(e,!1===t))})}),Yt("page()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){ht(e,t)})}),Yt("page.info()",function(){if(0===this.context.length)return n;var t=this.context[0],e=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,s=t.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(e/i),pages:r?1:Math.ceil(s/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:s,serverSide:"ssp"===Ft(t)}}),Yt("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){ot(e,t)})});var xe=function(t,e,i){if(i){var n=new Wt(t);n.one("draw",function(){i(n.ajax.json())})}if("ssp"==Ft(t))O(t,e);else{ut(t,!0);var s=t.jqXHR;s&&4!==s.readyState&&s.abort(),j(t,[],function(i){E(t);for(var i=G(t,i),n=0,s=i.length;n<s;n++)w(t,i[n]);O(t,e),ut(t,!1)})}};Yt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),Yt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),Yt("ajax.reload()",function(t,e){return this.iterator("table",function(i){xe(i,!1===e,t)})}),Yt("ajax.url()",function(e){var i=this.context;return e===n?0===i.length?n:(i=i[0],i.ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e})}),Yt("ajax.url().load()",function(t,e){return this.iterator("table",function(i){xe(i,!1===e,t)})});var Se=function(e,i,s,r,o){var a,l,h,c,u,d,p=[];for(h=typeof i,i&&"string"!==h&&"function"!==h&&i.length!==n||(i=[i]),h=0,c=i.length;h<c;h++)for(l=i[h]&&i[h].split?i[h].split(","):[i[h]],u=0,d=l.length;u<d;u++)(a=s("string"==typeof l[u]?t.trim(l[u]):l[u]))&&a.length&&(p=p.concat(a));if(e=zt.selector[e],e.length)for(h=0,c=e.length;h<c;h++)p=e[h](r,o,p);return he(p)},ke=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Ce=function(t){for(var e=0,i=t.length;e<i;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},De=function(e,i){var n,s,r,o=[],a=e.aiDisplay;n=e.aiDisplayMaster;var l=i.search;if(s=i.order,r=i.page,"ssp"==Ft(e))return"removed"===l?[]:ae(0,n.length);if("current"==r)for(n=e._iDisplayStart,s=e.fnDisplayEnd();n<s;n++)o.push(a[n]);else if("current"==s||"applied"==s)o="none"==l?n.slice():"applied"==l?a.slice():t.map(n,function(e){
return-1===t.inArray(e,a)?e:null});else if("index"==s||"original"==s)for(n=0,s=e.aoData.length;n<s;n++)"none"==l?o.push(n):(r=t.inArray(n,a),(-1===r&&"removed"==l||0<=r&&"applied"==l)&&o.push(n));return o};Yt("rows()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e="");var i=ke(i),s=this.iterator("table",function(s){var r=i;return Se("row",e,function(e){var i=ee(e);if(null!==i&&!r)return[i];var o=De(s,r);return null!==i&&t.inArray(i,o)!==-1?[i]:e?"function"==typeof e?t.map(o,function(t){var i=s.aoData[t];return e(t,i._aData,i.nTr)?t:null}):(i=le(oe(s.aoData,o,"nTr")),e.nodeName?e._DT_RowIndex!==n?[e._DT_RowIndex]:e._DT_CellIndex?[e._DT_CellIndex.row]:(i=t(e).closest("*[data-dt-row]"),i.length?[i.data("dt-row")]:[]):"string"==typeof e&&"#"===e.charAt(0)&&(o=s.aIds[e.replace(/^#/,"")],o!==n)?[o.idx]:t(i).filter(e).map(function(){return this._DT_RowIndex}).toArray()):o},s,r)},1);return s.selector.rows=e,s.selector.opts=i,s}),Yt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),Yt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return oe(t.aoData,e,"_aData")},1)}),Gt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData},1)}),Gt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,i){A(e,i,t)})}),Gt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Gt("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,n=0,s=i.length;n<s;n++)for(var r=0,o=this[n].length;r<o;r++){var a=i[n].rowIdFn(i[n].aoData[this[n][r]]._aData);e.push((!0===t?"#":"")+a)}return new Wt(i,e)}),Gt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,s){var r,o,a,l,h,c=e.aoData,u=c[i];for(c.splice(i,1),r=0,o=c.length;r<o;r++)if(a=c[r],h=a.anCells,null!==a.nTr&&(a.nTr._DT_RowIndex=r),null!==h)for(a=0,l=h.length;a<l;a++)h[a]._DT_CellIndex.row=r;M(e.aiDisplayMaster,i),M(e.aiDisplay,i),M(t[s],i,!1),Lt(e),i=e.rowIdFn(u._aData),i!==n&&delete e.aIds[i]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e}),this}),Yt("rows.add()",function(e){var i=this.iterator("table",function(t){var i,n,s,r=[];for(n=0,s=e.length;n<s;n++)i=e[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?r.push(x(t,i)[0]):r.push(w(t,i));return r},1),n=this.rows(-1);return n.pop(),t.merge(n,i),n}),Yt("row()",function(t,e){return Ce(this.rows(t,e))}),Yt("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,A(e[0],this[0],"data"),this)}),Yt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Yt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?x(t,e)[0]:w(t,e)});return this.row(i[0])});var Te=function(t,e){var i=t.context;i.length&&(i=i[0].aoData[e!==n?e:t[0]])&&i._details&&(i._details.remove(),i._detailsShow=n,i._details=n)},_e=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];if(n._details){(n._detailsShow=e)?n._details.insertAfter(n.nTr):n._details.detach();var s=i[0],r=new Wt(s),o=s.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<re(o,"_details").length&&(r.on("draw.dt.DT_details",function(t,e){s===e&&r.rows({page:"current"}).eq(0).each(function(t){t=o[t],t._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on("column-visibility.dt.DT_details",function(t,e){if(s===e)for(var i,n=m(e),r=0,a=o.length;r<a;r++)i=o[r],i._details&&i._details.children("td[colspan]").attr("colspan",n)}),r.on("destroy.dt.DT_details",function(t,e){if(s===e)for(var i=0,n=o.length;i<n;i++)o[i]._details&&Te(r,i)}))}}};Yt("row().child()",function(e,i){var s=this.context;if(e===n)return s.length&&this.length?s[0].aoData[this[0]]._details:n;if(!0===e)this.child.show();else if(!1===e)Te(this);else if(s.length&&this.length){var r=s[0],s=s[0].aoData[this[0]],o=[],a=function(e,i){if(t.isArray(e)||e instanceof t)for(var n=0,s=e.length;n<s;n++)a(e[n],i);else e.nodeName&&"tr"===e.nodeName.toLowerCase()?o.push(e):(n=t("<tr><td/></tr>").addClass(i),t("td",n).addClass(i).html(e)[0].colSpan=m(r),o.push(n[0]))};a(e,i),s._details&&s._details.remove(),s._details=t(o),s._detailsShow&&s._details.insertAfter(s.nTr)}return this}),Yt(["row().child.show()","row().child().show()"],function(){return _e(this,!0),this}),Yt(["row().child.hide()","row().child().hide()"],function(){return _e(this,!1),this}),Yt(["row().child.remove()","row().child().remove()"],function(){return Te(this),this}),Yt("row().child.isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var Ee=/^(.+):(name|visIdx|visible)$/,Me=function(t,e,i,n,s){for(var i=[],n=0,r=s.length;n<r;n++)i.push(S(t,s[n],e));return i};Yt("columns()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e="");var i=ke(i),s=this.iterator("table",function(n){var s=e,r=i,o=n.aoColumns,a=re(o,"sName"),l=re(o,"nTh");return Se("column",s,function(e){var i=ee(e);if(""===e)return ae(o.length);if(null!==i)return[i>=0?i:o.length+i];if("function"==typeof e){var s=De(n,r);return t.map(o,function(t,i){return e(i,Me(n,i,0,0,s),l[i])?i:null})}var h="string"==typeof e?e.match(Ee):"";if(h)switch(h[2]){case"visIdx":case"visible":if(i=parseInt(h[1],10),i<0){var c=t.map(o,function(t,e){return t.bVisible?e:null});return[c[c.length+i]]}return[f(n,i)];case"name":return t.map(a,function(t,e){return t===h[1]?e:null});default:return[]}return e.nodeName&&e._DT_CellIndex?[e._DT_CellIndex.column]:(i=t(l).filter(e).map(function(){return t.inArray(this,l)}).toArray(),i.length||!e.nodeName?i:(i=t(e).closest("*[data-dt-column]"),i.length?[i.data("dt-column")]:[]))},n,r)},1);return s.selector.cols=e,s.selector.opts=i,s}),Gt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Gt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Gt("columns().data()","column().data()",function(){return this.iterator("column-rows",Me,1)}),Gt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Gt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,i,n,s,r){return oe(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",i)},1)}),Gt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,s){return oe(t.aoData,s,"anCells",e)},1)}),Gt("columns().visible()","column().visible()",function(e,i){var s=this.iterator("column",function(i,s){if(e===n)return i.aoColumns[s].bVisible;var r,o,a,l=i.aoColumns,h=l[s],c=i.aoData;if(e!==n&&h.bVisible!==e){if(e){var u=t.inArray(!0,re(l,"bVisible"),s+1);for(r=0,o=c.length;r<o;r++)a=c[r].nTr,l=c[r].anCells,a&&a.insertBefore(l[s],l[u]||null)}else t(re(i.aoData,"anCells",s)).detach();h.bVisible=e,$(i,i.aoHeader),$(i,i.aoFooter),_t(i)}});return e!==n&&(this.iterator("column",function(t,n){$t(t,null,"column-visibility",[t,n,e,i])}),(i===n||i)&&this.columns.adjust()),s}),Gt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,i){return"visible"===t?g(e,i):i},1)}),Yt("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),Yt("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return f(i,e);if("fromData"===t||"toVisible"===t)return g(i,e)}}),Yt("column()",function(t,e){return Ce(this.columns(t,e))}),Yt("cells()",function(e,i,s){if(t.isPlainObject(e)&&(e.row===n?(s=e,e=null):(s=i,i=null)),t.isPlainObject(i)&&(s=i,i=null),null===i||i===n)return this.iterator("table",function(i){var r,o,a,l,h,c,u,d=e,p=ke(s),f=i.aoData,g=De(i,p),m=le(oe(f,g,"anCells")),v=t([].concat.apply([],m)),y=i.aoColumns.length;return Se("cell",d,function(e){var s="function"==typeof e;if(null===e||e===n||s){for(o=[],a=0,l=g.length;a<l;a++)for(r=g[a],h=0;h<y;h++)c={row:r,column:h},s?(u=f[r],e(c,S(i,r,h),u.anCells?u.anCells[h]:null)&&o.push(c)):o.push(c);return o}return t.isPlainObject(e)?[e]:(s=v.filter(e).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray(),s.length||!e.nodeName?s:(u=t(e).closest("*[data-dt-row]"),u.length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]))},i,p)});var r,o,a,l,h,c=this.columns(i,s),u=this.rows(e,s),d=this.iterator("table",function(t,e){for(r=[],o=0,a=u[e].length;o<a;o++)for(l=0,h=c[e].length;l<h;l++)r.push({row:u[e][o],column:c[e][l]});return r},1);return t.extend(d.selector,{cols:i,rows:e,opts:s}),d}),Gt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){return(t=t.aoData[e])&&t.anCells?t.anCells[i]:n},1)}),Yt("cells().data()",function(){return this.iterator("cell",function(t,e,i){return S(t,e,i)},1)}),Gt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,i,n){return e.aoData[i][t][n]},1)}),Gt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,i,n){return S(e,i,n,t)},1)}),Gt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:g(t,i)}},1)}),Gt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,i,n){A(e,i,t,n)})}),Yt("cell()",function(t,e,i){return Ce(this.cells(t,e,i))}),Yt("cell().data()",function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?S(e[0],i[0].row,i[0].column):n:(k(e[0],i[0].row,i[0].column,t),A(e[0],i[0].row,"data",i[0].column),this)}),Yt("order()",function(e,i){var s=this.context;return e===n?0!==s.length?s[0].aaSorting:n:("number"==typeof e?e=[[e,i]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Yt("order.listener()",function(t,e,i){return this.iterator("table",function(n){Ct(n,t,e,i)})}),Yt("order.fixed()",function(e){if(!e){var i=this.context,i=i.length?i[0].aaSortingFixed:n;return t.isArray(i)?{pre:i}:i}return this.iterator("table",function(i){i.aaSortingFixed=t.extend(!0,{},e)})}),Yt(["columns().order()","column().order()"],function(e){var i=this;return this.iterator("table",function(n,s){var r=[];t.each(i[s],function(t,i){r.push([i,e])}),n.aaSorting=r})}),Yt("search()",function(e,i,s,r){var o=this.context;return e===n?0!==o.length?o[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&V(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===s||s,bCaseInsensitive:null===r||r}),1)})}),Gt("columns().search()","column().search()",function(e,i,s,r){return this.iterator("column",function(o,a){var l=o.aoPreSearchCols;return e===n?l[a].sSearch:void(o.oFeatures.bFilter&&(t.extend(l[a],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===s||s,bCaseInsensitive:null===r||r}),V(o,o.oPreviousSearch,1)))})}),Yt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Yt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Yt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Yt("state.save()",function(){return this.iterator("table",function(t){_t(t)})}),Ut.versionCheck=Ut.fnVersionCheck=function(t){for(var e,i,n=Ut.version.split("."),t=t.split("."),s=0,r=t.length;s<r;s++)if(e=parseInt(n[s],10)||0,i=parseInt(t[s],10)||0,e!==i)return e>i;return!0},Ut.isDataTable=Ut.fnIsDataTable=function(e){var i=t(e).get(0),n=!1;return t.each(Ut.settings,function(e,s){var r=s.nScrollHead?t("table",s.nScrollHead)[0]:null,o=s.nScrollFoot?t("table",s.nScrollFoot)[0]:null;s.nTable!==i&&r!==i&&o!==i||(n=!0)}),n},Ut.tables=Ut.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var n=t.map(Ut.settings,function(i){if(!e||e&&t(i.nTable).is(":visible"))return i.nTable});return i?new Wt(n):n},Ut.camelToHungarian=r,Yt("$()",function(e,i){var n=this.rows(i).nodes(),n=t(n);return t([].concat(n.filter(e).toArray(),n.find(e).toArray()))}),t.each(["on","one","off"],function(e,i){Yt(i+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=t(this.tables().nodes());return n[i].apply(n,e),this})}),Yt("clear()",function(){return this.iterator("table",function(t){E(t)})}),Yt("settings()",function(){return new Wt(this.context,this.context)}),Yt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Yt("data()",function(){return this.iterator("table",function(t){return re(t.aoData,"_aData")}).flatten()}),Yt("destroy()",function(i){return i=i||!1,this.iterator("table",function(n){var s,r=n.nTableWrapper.parentNode,o=n.oClasses,a=n.nTable,l=n.nTBody,h=n.nTHead,c=n.nTFoot,u=t(a),l=t(l),d=t(n.nTableWrapper),p=t.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,$t(n,"aoDestroyCallback","destroy",[n]),i||new Wt(n).columns().visible(!0),d.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+n.sInstance),a!=h.parentNode&&(u.children("thead").detach(),u.append(h)),c&&a!=c.parentNode&&(u.children("tfoot").detach(),u.append(c)),n.aaSorting=[],n.aaSortingFixed=[],Dt(n),t(p).removeClass(n.asStripeClasses.join(" ")),t("th, td",h).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),n.bJUI&&(t("th span."+o.sSortIcon+", td span."+o.sSortIcon,h).detach(),t("th, td",h).each(function(){var e=t("div."+o.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),l.children().detach(),l.append(p),h=i?"remove":"detach",u[h](),d[h](),!i&&r&&(r.insertBefore(a,n.nTableReinsertBefore),u.css("width",n.sDestroyWidth).removeClass(o.sTable),(s=n.asDestroyStripes.length)&&l.children().each(function(e){t(this).addClass(n.asDestroyStripes[e%s])})),r=t.inArray(n,Ut.settings),-1!==r&&Ut.settings.splice(r,1)})}),t.each(["column","row","cell"],function(t,e){Yt(e+"s().every()",function(t){var i=this.selector.opts,s=this;return this.iterator(e,function(r,o,a,l,h){t.call(s[e](o,"cell"===e?a:i,"cell"===e?i:n),o,a,l,h)})})}),Yt("i18n()",function(e,i,s){var r=this.context[0],e=D(e)(r.oLanguage);return e===n&&(e=i),s!==n&&t.isPlainObject(e)&&(e=e[s]!==n?e[s]:e._),e.replace("%d",s)}),Ut.version="1.10.12",Ut.settings=[],Ut.models={},Ut.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ut.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ut.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ut.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Ut.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},s(Ut.defaults),Ut.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},s(Ut.defaults.column),Ut.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ft(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ft(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,s=this.oFeatures,r=s.bPaginate;return s.bServerSide?!1===r||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!r||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ut.ext=zt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ut.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ut.version},t.extend(zt,{afnFiltering:zt.search,aTypes:zt.type.detect,ofnSearch:zt.type.search,oSort:zt.type.order,afnSortData:zt.order,aoFeatures:zt.feature,oApi:zt.internal,oStdClasses:zt.classes,oPagination:zt.pager}),t.extend(Ut.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ae="",Ae="",Ie=Ae+"ui-state-default",Pe=Ae+"css_right ui-icon ui-icon-",Re=Ae+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(Ut.ext.oJUIClasses,Ut.ext.classes,{sPageButton:"fg-button ui-button "+Ie,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Ie+" sorting_asc",sSortDesc:Ie+" sorting_desc",sSortable:Ie+" sorting",sSortableAsc:Ie+" sorting_asc_disabled",sSortableDesc:Ie+" sorting_desc_disabled",sSortableNone:Ie+" sorting_disabled",sSortJUIAsc:Pe+"triangle-1-n",sSortJUIDesc:Pe+"triangle-1-s",sSortJUI:Pe+"carat-2-n-s",sSortJUIAscAllowed:Pe+"carat-1-n",sSortJUIDescAllowed:Pe+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Ie,sScrollFoot:"dataTables_scrollFoot "+Ie,sHeaderTH:Ie,sFooterTH:Ie,sJUIHeader:Re+" ui-corner-tl ui-corner-tr",sJUIFooter:Re+" ui-corner-bl ui-corner-br"});var He=Ut.ext.pager;t.extend(He,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Bt(t,e)]},simple_numbers:function(t,e){return["previous",Bt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Bt(t,e),"next","last"]},_numbers:Bt,numbers_length:7}),t.extend(!0,Ut.ext.renderer,{pageButton:{_:function(e,n,s,r,o,a){var l,h,c,u=e.oClasses,d=e.oLanguage.oPaginate,p=e.oLanguage.oAria.paginate||{},f=0,g=function(i,n){var r,c,m,v,y=function(t){ht(e,t.data.action,!0)};for(r=0,c=n.length;r<c;r++)if(v=n[r],t.isArray(v))m=t("<"+(v.DT_el||"div")+"/>").appendTo(i),g(m,v);else{switch(l=null,h="",v){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=d.sFirst,h=v+(o>0?"":" "+u.sPageButtonDisabled);break;case"previous":l=d.sPrevious,h=v+(o>0?"":" "+u.sPageButtonDisabled);break;case"next":l=d.sNext,h=v+(o<a-1?"":" "+u.sPageButtonDisabled);break;case"last":l=d.sLast,h=v+(o<a-1?"":" "+u.sPageButtonDisabled);break;default:l=v+1,h=o===v?u.sPageButtonActive:""}null!==l&&(m=t("<a>",{"class":u.sPageButton+" "+h,"aria-controls":e.sTableId,"aria-label":p[v],"data-dt-idx":f,tabindex:e.iTabIndex,id:0===s&&"string"==typeof v?e.sTableId+"_"+v:null}).html(l).appendTo(i),Rt(m,{action:v},y),f++)}};try{c=t(n).find(i.activeElement).data("dt-idx")}catch(m){}g(t(n).empty(),r),c&&t(n).find("[data-dt-idx="+c+"]").focus()}}}),t.extend(Ut.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return ne(t,i)?"num"+i:null},function(t){if(t&&!(t instanceof Date)&&(!Kt.test(t)||!Qt.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||te(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return ne(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return se(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return se(t,i,!0)?"html-num-fmt"+i:null},function(t){return te(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Ut.ext.type.search,{html:function(t){return te(t)?t:"string"==typeof t?t.replace(qt," ").replace(Xt,""):""},string:function(t){return te(t)?t:"string"==typeof t?t.replace(qt," "):t}});var $e=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=ie(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-(1/0)};t.extend(zt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return te(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return te(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Nt(""),t.extend(!0,Ut.ext.renderer,{header:{_:function(e,i,n,s){t(e.nTable).on("order.dt.DT",function(t,r,o,a){e===r&&(t=n.idx,i.removeClass(n.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==a[t]?s.sSortAsc:"desc"==a[t]?s.sSortDesc:n.sSortingClass))})},jqueryui:function(e,i,n,s){t("<div/>").addClass(s.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(s.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",function(t,r,o,a){e===r&&(t=n.idx,i.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==a[t]?s.sSortAsc:"desc"==a[t]?s.sSortDesc:n.sSortingClass),i.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==a[t]?s.sSortJUIAsc:"desc"==a[t]?s.sSortJUIDesc:n.sSortingClassJUI))})}}});var Le=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Ut.render={number:function(t,e,i,n,s){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var o=0>r?"-":"",a=parseFloat(r);return isNaN(a)?Le(r):(r=Math.abs(a),a=parseInt(r,10),r=i?e+(r-a).toFixed(i).substring(2):"",o+(n||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+r+(s||""))}}},text:function(){return{display:Le}}},t.extend(Ut.ext.internal,{_fnExternApiFunc:jt,_fnBuildAjax:j,_fnAjaxUpdate:z,_fnAjaxParameters:W,_fnAjaxUpdateDraw:Y,_fnAjaxDataSrc:G,_fnAddColumn:u,_fnColumnOptions:d,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:s,_fnCamelToHungarian:r,_fnLanguageCompat:o,_fnBrowserDetect:h,_fnAddData:w,_fnAddTr:x,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,i,n){return t.inArray(n,e.aoData[i].anCells)},_fnGetCellData:S,_fnSetCellData:k,_fnSplitObjNotation:C,_fnGetObjectDataFn:D,_fnSetObjectDataFn:T,_fnGetDataMaster:_,_fnClearTable:E,_fnDeleteIndex:M,_fnInvalidate:A,_fnGetRowElements:I,_fnCreateTr:P,_fnBuildHead:H,_fnDrawHead:$,_fnDraw:L,_fnReDraw:O,_fnAddOptionsHtml:F,_fnDetectHeader:B,_fnGetUniqueThs:N,_fnFeatureHtmlFilter:U,_fnFilterComplete:V,_fnFilterCustom:q,_fnFilterColumn:X,_fnFilter:K,_fnFilterCreateSearch:Q,_fnEscapeRegex:pe,_fnFilterData:Z,_fnFeatureHtmlInfo:et,_fnUpdateInfo:it,_fnInfoMacros:nt,_fnInitialise:st,_fnInitComplete:rt,_fnLengthChange:ot,_fnFeatureHtmlLength:at,_fnFeatureHtmlPaginate:lt,_fnPageChange:ht,_fnFeatureHtmlProcessing:ct,_fnProcessingDisplay:ut,_fnFeatureHtmlTable:dt,_fnScrollDraw:pt,_fnApplyToChildren:ft,_fnCalculateColumnWidths:gt,_fnThrottle:ve,_fnConvertToWidth:mt,_fnGetWidestNode:vt,_fnGetMaxLenString:yt,_fnStringToCss:bt,_fnSortFlatten:wt,_fnSort:xt,_fnSortAria:St,_fnSortListener:kt,_fnSortAttachListener:Ct,_fnSortingClasses:Dt,_fnSortData:Tt,_fnSaveState:_t,_fnLoadState:Et,_fnSettingsFromNode:Mt,_fnLog:At,_fnMap:It,_fnBindAction:Rt,_fnCallbackReg:Ht,_fnCallbackFire:$t,_fnLengthOverflow:Lt,_fnRenderer:Ot,_fnDataSource:Ft,_fnRowAttributes:R,_fnCalculateEnd:function(){}}),t.fn.dataTable=Ut,Ut.$=t,t.fn.dataTableSettings=Ut.settings,t.fn.dataTableExt=Ut.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Ut,function(e,i){t.fn.DataTable[e]=i}),t.fn.dataTable}),$.extend(!0,$.fn.dataTable.defaults,{dom:"<'row'<'col-md-6 col-sm-6'l><'col-md-6 col-sm-6'f>r><'table-scrollable't><'row'<'col-md-5 col-sm-5'i><'col-md-7 col-sm-7'p>>",language:{lengthMenu:" _MENU_ records ",paginate:{previous:"Prev",next:"Next",page:"Page",pageOf:"of"}},pagingType:"bootstrap_number"}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper",sFilterInput:"form-control input-sm input-small input-inline",sLengthSelect:"form-control input-sm input-xsmall input-inline"}),$.fn.dataTable.defaults.renderer="bootstrap",$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(t,e,i,n,s,r){var o,a,l=new $.fn.dataTable.Api(t),h=t.oClasses,c=t.oLanguage.oPaginate,u=function(e,n){var d,p,f,g,m=function(t){t.preventDefault(),"ellipsis"!==t.data.action&&l.page(t.data.action).draw(!1)};for(d=0,p=n.length;d<p;d++)if(g=n[d],$.isArray(g))u(e,g);else{switch(o="",a="",g){case"ellipsis":o="&hellip;",a="disabled";break;case"first":o=c.sFirst,a=g+(s>0?"":" disabled");break;case"previous":o=c.sPrevious,a=g+(s>0?"":" disabled");break;case"next":o=c.sNext,a=g+(s<r-1?"":" disabled");break;case"last":o=c.sLast,a=g+(s<r-1?"":" disabled");break;default:o=g+1,a=s===g?"active":""}o&&(f=$("<li>",{"class":h.sPageButton+" "+a,"aria-controls":t.sTableId,tabindex:t.iTabIndex,id:0===i&&"string"==typeof g?t.sTableId+"_"+g:null}).append($("<a>",{href:"#"}).html(o)).appendTo(e),t.oApi._fnBindAction(f,{action:g},m))}};u($(e).empty().html('<ul class="pagination"/>').children("ul"),n)},$.fn.dataTableExt.oApi.fnPagingInfo=function(t){return{iStart:t._iDisplayStart,iEnd:t.fnDisplayEnd(),iLength:t._iDisplayLength,iTotal:t.fnRecordsTotal(),iFilteredTotal:t.fnRecordsDisplay(),iPage:t._iDisplayLength===-1?0:Math.ceil(t._iDisplayStart/t._iDisplayLength),iTotalPages:t._iDisplayLength===-1?0:Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap_full_number:{fnInit:function(t,e,i){var n=t.oLanguage.oPaginate,s=function(e){e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&i(t)};$(e).append('<ul class="pagination"><li class="prev disabled"><a href="#" title="'+n.sFirst+'"><i class="fa fa-angle-double-left"></i></a></li><li class="prev disabled"><a href="#" title="'+n.sPrevious+'"><i class="fa fa-angle-left"></i></a></li><li class="next disabled"><a href="#" title="'+n.sNext+'"><i class="fa fa-angle-right"></i></a></li><li class="next disabled"><a href="#" title="'+n.sLast+'"><i class="fa fa-angle-double-right"></i></a></li></ul>');var r=$("a",e);$(r[0]).bind("click.DT",{action:"first"},s),$(r[1]).bind("click.DT",{action:"previous"},s),$(r[2]).bind("click.DT",{action:"next"},s),$(r[3]).bind("click.DT",{action:"last"},s)},fnUpdate:function(t,e){var i,n,s,r,o,a=5,l=t.oInstance.fnPagingInfo(),h=t.aanFeatures.p,c=Math.floor(a/2);for(l.iTotalPages<a?(r=1,o=l.iTotalPages):l.iPage<=c?(r=1,o=a):l.iPage>=l.iTotalPages-c?(r=l.iTotalPages-a+1,o=l.iTotalPages):(r=l.iPage-c+1,o=r+a-1),i=0,iLen=h.length;i<iLen;i++){for(l.iTotalPages<=0?$(".pagination",h[i]).css("visibility","hidden"):$(".pagination",h[i]).css("visibility","visible"),$("li:gt(1)",h[i]).filter(":not(.next)").remove(),n=r;n<=o;n++)s=n==l.iPage+1?'class="active"':"",$("<li "+s+'><a href="#">'+n+"</a></li>").insertBefore($("li.next:first",h[i])[0]).bind("click",function(i){i.preventDefault(),t._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,e(t)});0===l.iPage?$("li.prev",h[i]).addClass("disabled"):$("li.prev",h[i]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?$("li.next",h[i]).addClass("disabled"):$("li.next",h[i]).removeClass("disabled");
}}}}),$.extend($.fn.dataTableExt.oPagination,{bootstrap_number:{fnInit:function(t,e,i){var n=t.oLanguage.oPaginate,s=function(e){e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&i(t)};$(e).append('<ul class="pagination"><li class="prev disabled"><a href="#" title="'+n.sPrevious+'"><i class="fa fa-angle-left"></i></a></li><li class="next disabled"><a href="#" title="'+n.sNext+'"><i class="fa fa-angle-right"></i></a></li></ul>');var r=$("a",e);$(r[0]).bind("click.DT",{action:"previous"},s),$(r[1]).bind("click.DT",{action:"next"},s)},fnUpdate:function(t,e){var i,n,s,r,o,a=5,l=t.oInstance.fnPagingInfo(),h=t.aanFeatures.p,c=Math.floor(a/2);for(l.iTotalPages<a?(r=1,o=l.iTotalPages):l.iPage<=c?(r=1,o=a):l.iPage>=l.iTotalPages-c?(r=l.iTotalPages-a+1,o=l.iTotalPages):(r=l.iPage-c+1,o=r+a-1),i=0,iLen=h.length;i<iLen;i++){for(l.iTotalPages<=0?$(".pagination",h[i]).css("visibility","hidden"):$(".pagination",h[i]).css("visibility","visible"),$("li:gt(0)",h[i]).filter(":not(.next)").remove(),n=r;n<=o;n++)s=n==l.iPage+1?'class="active"':"",$("<li "+s+'><a href="#">'+n+"</a></li>").insertBefore($("li.next:first",h[i])[0]).bind("click",function(i){i.preventDefault(),t._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,e(t)});0===l.iPage?$("li.prev",h[i]).addClass("disabled"):$("li.prev",h[i]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?$("li.next",h[i]).addClass("disabled"):$("li.next",h[i]).removeClass("disabled")}}}}),$.extend($.fn.dataTableExt.oPagination,{bootstrap_extended:{fnInit:function(t,e,i){var n=t.oLanguage.oPaginate,s=(t.oInstance.fnPagingInfo(),function(e){e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&i(t)});$(e).append('<div class="pagination-panel"> '+(n.page?n.page:"")+' <a href="#" class="btn btn-sm default prev disabled"><i class="fa fa-angle-left"></i></a><input type="text" class="pagination-panel-input form-control input-sm input-inline input-mini" maxlenght="5" style="text-align:center; margin: 0 5px;"><a href="#" class="btn btn-sm default next disabled"><i class="fa fa-angle-right"></i></a> '+(n.pageOf?n.pageOf+' <span class="pagination-panel-total"></span>':"")+"</div>");var r=$("a",e);$(r[0]).bind("click.DT",{action:"previous"},s),$(r[1]).bind("click.DT",{action:"next"},s),$(".pagination-panel-input",e).bind("change.DT",function(e){var n=t.oInstance.fnPagingInfo();e.preventDefault();var s=parseInt($(this).val());s>0&&s<=n.iTotalPages?t.oApi._fnPageChange(t,s-1)&&i(t):$(this).val(n.iPage+1)}),$(".pagination-panel-input",e).bind("keypress.DT",function(e){var n=t.oInstance.fnPagingInfo();if(13==e.which){var s=parseInt($(this).val());s>0&&s<=t.oInstance.fnPagingInfo().iTotalPages?t.oApi._fnPageChange(t,s-1)&&i(t):$(this).val(n.iPage+1),e.preventDefault()}})},fnUpdate:function(t,e){var i,n,s,r,o,a=5,l=t.oInstance.fnPagingInfo(),h=t.aanFeatures.p,c=Math.floor(a/2);for(l.iTotalPages<a?(r=1,o=l.iTotalPages):l.iPage<=c?(r=1,o=a):l.iPage>=l.iTotalPages-c?(r=l.iTotalPages-a+1,o=l.iTotalPages):(r=l.iPage-c+1,o=r+a-1),i=0,iLen=h.length;i<iLen;i++){var u=$(h[i]).parents(".dataTables_wrapper");for(l.iTotal<=0?$(".dataTables_paginate, .dataTables_length",u).hide():$(".dataTables_paginate, .dataTables_length",u).show(),l.iTotalPages<=0?$(".dataTables_paginate, .dataTables_length .seperator",u).hide():$(".dataTables_paginate, .dataTables_length .seperator",u).show(),$(".pagination-panel-total",h[i]).html(l.iTotalPages),$(".pagination-panel-input",h[i]).val(l.iPage+1),$("li:gt(1)",h[i]).filter(":not(.next)").remove(),n=r;n<=o;n++)s=n==l.iPage+1?'class="active"':"",$("<li "+s+'><a href="#">'+n+"</a></li>").insertBefore($("li.next:first",h[i])[0]).bind("click",function(i){i.preventDefault(),t._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,e(t)});0===l.iPage?$("a.prev",h[i]).addClass("disabled"):$("a.prev",h[i]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?$("a.next",h[i]).addClass("disabled"):$("a.next",h[i]).removeClass("disabled")}}}}),!function(t){"use strict";function e(t){return function(e){if(e&&this===e.target)return t.apply(this,arguments)}}var i=function(t,e){this.init(t,e)};i.prototype={constructor:i,init:function(e,i){if(this.$element=t(e),this.options=t.extend({},t.fn.modalmanager.defaults,this.$element.data(),"object"==typeof i&&i),this.stack=[],this.backdropCount=0,this.options.resize){var n,s=this;t(window).on("resize.modal",function(){n&&clearTimeout(n),n=setTimeout(function(){for(var t=0;t<s.stack.length;t++)s.stack[t].isShown&&s.stack[t].layout()},10)})}},createModal:function(e,i){t(e).modal(t.extend({manager:this},i))},appendModal:function(i){this.stack.push(i);var n=this;i.$element.on("show.modalmanager",e(function(e){var s=function(){i.isShown=!0;var e=t.support.transition&&i.$element.hasClass("fade");n.$element.toggleClass("modal-open",n.hasOpenModal()).toggleClass("page-overflow",t(window).height()<n.$element.height()),i.$parent=i.$element.parent(),i.$container=n.createContainer(i),i.$element.appendTo(i.$container),n.backdrop(i,function(){i.$element.show(),e&&i.$element[0].offsetWidth,i.layout(),i.$element.addClass("in").attr("aria-hidden",!1);var s=function(){n.setFocus(),i.$element.trigger("shown")};e?i.$element.one(t.support.transition.end,s):s()})};i.options.replace?n.replace(s):s()})),i.$element.on("hidden.modalmanager",e(function(e){if(n.backdrop(i),i.$element.parent().length)if(i.$backdrop){var s=t.support.transition&&i.$element.hasClass("fade");s&&i.$element[0].offsetWidth,t.support.transition&&i.$element.hasClass("fade")?i.$backdrop.one(t.support.transition.end,function(){i.destroy()}):i.destroy()}else i.destroy();else n.destroyModal(i)})),i.$element.on("destroyed.modalmanager",e(function(t){n.destroyModal(i)}))},getOpenModals:function(){for(var t=[],e=0;e<this.stack.length;e++)this.stack[e].isShown&&t.push(this.stack[e]);return t},hasOpenModal:function(){return this.getOpenModals().length>0},setFocus:function(){for(var t,e=0;e<this.stack.length;e++)this.stack[e].isShown&&(t=this.stack[e]);t&&t.focus()},destroyModal:function(t){t.$element.off(".modalmanager"),t.$backdrop&&this.removeBackdrop(t),this.stack.splice(this.getIndexOfModal(t),1);var e=this.hasOpenModal();this.$element.toggleClass("modal-open",e),e||this.$element.removeClass("page-overflow"),this.removeContainer(t),this.setFocus()},getModalAt:function(t){return this.stack[t]},getIndexOfModal:function(t){for(var e=0;e<this.stack.length;e++)if(t===this.stack[e])return e},replace:function(i){for(var n,s=0;s<this.stack.length;s++)this.stack[s].isShown&&(n=this.stack[s]);n?(this.$backdropHandle=n.$backdrop,n.$backdrop=null,i&&n.$element.one("hidden",e(t.proxy(i,this))),n.hide()):i&&i()},removeBackdrop:function(t){t.$backdrop.remove(),t.$backdrop=null},createBackdrop:function(e,i){var n;return this.$backdropHandle?(n=this.$backdropHandle,n.off(".modalmanager"),this.$backdropHandle=null,this.isLoading&&this.removeSpinner()):n=t(i).addClass(e).appendTo(this.$element),n},removeContainer:function(t){t.$container.remove(),t.$container=null},createContainer:function(i){var s;return s=t('<div class="modal-scrollable">').css("z-index",n("modal",this.getOpenModals().length)).appendTo(this.$element),i&&"static"!=i.options.backdrop?s.on("click.modal",e(function(t){i.hide()})):i&&s.on("click.modal",e(function(t){i.attention()})),s},backdrop:function(e,i){var s=e.$element.hasClass("fade")?"fade":"",r=e.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(e.isShown&&r){var o=t.support.transition&&s&&!this.$backdropHandle;e.$backdrop=this.createBackdrop(s,e.options.backdropTemplate),e.$backdrop.css("z-index",n("backdrop",this.getOpenModals().length)),o&&e.$backdrop[0].offsetWidth,e.$backdrop.addClass("in"),this.backdropCount+=1,o?e.$backdrop.one(t.support.transition.end,i):i()}else if(!e.isShown&&e.$backdrop){e.$backdrop.removeClass("in"),this.backdropCount-=1;var a=this;t.support.transition&&e.$element.hasClass("fade")?e.$backdrop.one(t.support.transition.end,function(){a.removeBackdrop(e)}):a.removeBackdrop(e)}else i&&i()},removeSpinner:function(){this.$spinner&&this.$spinner.remove(),this.$spinner=null,this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove(),this.$backdropHandle=null,this.removeSpinner()},loading:function(e){if(e=e||function(){},this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",t(window).height()<this.$element.height()),this.isLoading)if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var i=this;t.support.transition?this.$backdropHandle.one(t.support.transition.end,function(){i.removeLoading()}):i.removeLoading()}else e&&e(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade",this.options.backdropTemplate),this.$backdropHandle[0].offsetWidth;var s=this.getOpenModals();this.$backdropHandle.css("z-index",n("backdrop",s.length+1)).addClass("in");var r=t(this.options.spinner).css("z-index",n("modal",s.length+1)).appendTo(this.$element).addClass("in");this.$spinner=t(this.createContainer()).append(r).on("click.modalmanager",t.proxy(this.loading,this)),this.isLoading=!0,t.support.transition?this.$backdropHandle.one(t.support.transition.end,e):e()}}};var n=function(){var e,i={};return function(n,s){if("undefined"==typeof e){var r=t('<div class="modal hide" />').appendTo("body"),o=t('<div class="modal-backdrop hide" />').appendTo("body");i.modal=+r.css("z-index"),i.backdrop=+o.css("z-index"),e=i.modal-i.backdrop,r.remove(),o.remove(),o=r=null}return i[n]+e*s}}();t.fn.modalmanager=function(e,n){return this.each(function(){var s=t(this),r=s.data("modalmanager");r||s.data("modalmanager",r=new i(this,e)),"string"==typeof e&&r[e].apply(r,[].concat(n))})},t.fn.modalmanager.defaults={backdropLimit:999,resize:!0,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},t.fn.modalmanager.Constructor=i,t(function(){t(document).off("show.bs.modal").off("hidden.bs.modal")})}(jQuery),!function(t){"use strict";var e=function(t,e){this.init(t,e)};e.prototype={constructor:e,init:function(e,i){var n=this;this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote,function(){var e=t.Event("loaded");n.$element.trigger(e)});var s="function"==typeof this.options.manager?this.options.manager.call(this):this.options.manager;s=s.appendModal?s:t(s).modalmanager().data("modalmanager"),s.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=t.Event("show");this.isShown||(this.$element.trigger(e),e.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),t(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},layout:function(){var e=this.options.height?"height":"max-height",i=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var n=this;this.$element.css("margin-left",function(){return/%/gi.test(n.options.width)?-(parseInt(n.options.width)/2)+"%":-(t(this).width()/2)+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.find(".modal-body").css("overflow","").css(e,""),i&&this.$element.find(".modal-body").css("overflow","auto").css(e,i);var s=t(window).height()-10<this.$element.height();s||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")},tab:function(){var e=this;this.isShown&&this.options.consumeTab?this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(i){if(i.keyCode&&9==i.keyCode){var n=[],s=Number(t(this).data("tabindex"));e.$element.find("[data-tabindex]:enabled:visible:not([readonly])").each(function(e){n.push(Number(t(this).data("tabindex")))}),n.sort(function(t,e){return t-e});var r=t.inArray(s,n);i.shiftKey?0==r?e.$element.find("[data-tabindex="+n[n.length-1]+"]").focus():e.$element.find("[data-tabindex="+n[r-1]+"]").focus():r<n.length-1?e.$element.find("[data-tabindex="+n[r+1]+"]").focus():e.$element.find("[data-tabindex="+n[0]+"]").focus(),i.preventDefault()}}):this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){var t=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){var t=this.options.height?"height":"max-height",e=this.options.height||this.options.maxHeight;e&&this.$element.find(".modal-body").css("overflow","").css(t,""),this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove(),this.$loading=null,this.isLoading=!1},loading:function(e){e=e||function(){};var i=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var n=this;t.support.transition&&this.$element.hasClass("fade")?this.$loading.one(t.support.transition.end,function(){n.removeLoading()}):n.removeLoading()}else e&&e(this.isLoading);else{var s=t.support.transition&&i;this.$loading=t('<div class="loading-mask '+i+'">').append(this.options.spinner).appendTo(this.$element),s&&this.$loading[0].offsetWidth,this.$loading.addClass("in"),this.isLoading=!0,s?this.$loading.one(t.support.transition.end,e):e()}},focus:function(){var t=this.$element.find(this.options.focusOn);t=t.length?t:this.$element,t.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var t=this;setTimeout(function(){t.$element.addClass("animated").addClass(t.options.attentionAnimation)},0)}this.focus()},destroy:function(){var e=t.Event("destroy");this.$element.trigger(e),e.isDefaultPrevented()||(this.$element.off(".modal").removeData("modal").removeClass("in").attr("aria-hidden",!0),this.$parent!==this.$element.parent()?this.$element.appendTo(this.$parent):this.$parent.length||(this.$element.remove(),this.$element=null),this.$element.trigger("destroyed"))}},t.fn.modal=function(i,n){return this.each(function(){var s=t(this),r=s.data("modal"),o=t.extend({},t.fn.modal.defaults,s.data(),"object"==typeof i&&i);r||s.data("modal",r=new e(this,o)),"string"==typeof i?r[i].apply(r,[].concat(n)):o.show&&r.show()})},t.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!1,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},t.fn.modal.Constructor=e,t(function(){t(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),s=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),i.data());e.preventDefault(),s.modal(r).one("hide",function(){i.focus()})})})}(window.jQuery);var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){"use strict";function e(t){return a[t]||"&amp;"}function i(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function n(t){return t instanceof o?t.toString():t||0===t?(t=""+t,h.test(t)?t.replace(l,e):t):""}function s(t){return!t&&0!==t||!(!d(t)||0!==t.length)}var r={},o=t,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,h=/[&<>"'`]/;r.extend=i;var c=Object.prototype.toString;r.toString=c;var u=function(t){return"function"==typeof t};u(/x/)&&(u=function(t){return"function"==typeof t&&"[object Function]"===c.call(t)});var u;r.isFunction=u;var d=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===c.call(t)};return r.isArray=d,r.escapeExpression=n,r.isEmpty=s,r}(t),i=function(){"use strict";function t(t,e){var n;e&&e.firstLine&&(n=e.firstLine,t+=" - "+n+":"+e.firstColumn);for(var s=Error.prototype.constructor.call(this,t),r=0;r<i.length;r++)this[i[r]]=s[i[r]];n&&(this.lineNumber=n,this.column=e.firstColumn)}var e,i=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),n=function(t,e){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},n(this)}function n(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new a("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,i){var n=i.inverse||function(){},s=i.fn;return d(e)&&(e=e.call(this)),e===!0?s(this):e===!1||null==e?n(this):u(e)?e.length>0?t.helpers.each(e,i):n(this):s(e)}),t.registerHelper("each",function(t,e){var i,n=e.fn,s=e.inverse,r=0,o="";if(d(t)&&(t=t.call(this)),e.data&&(i=m(e.data)),t&&"object"==typeof t)if(u(t))for(var a=t.length;a>r;r++)i&&(i.index=r,i.first=0===r,i.last=r===t.length-1),o+=n(t[r],{data:i});else for(var l in t)t.hasOwnProperty(l)&&(i&&(i.key=l,i.index=r,i.first=0===r),o+=n(t[l],{data:i}),r++);return 0===r&&(o=s(this)),o}),t.registerHelper("if",function(t,e){return d(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),t.registerHelper("with",function(t,e){return d(t)&&(t=t.call(this)),o.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(n,e)})}function s(t,e){g.log(t,e)}var r={},o=t,a=e,l="1.3.0";r.VERSION=l;var h=4;r.COMPILER_REVISION=h;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=c;var u=o.isArray,d=o.isFunction,p=o.toString,f="[object Object]";r.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:g,log:s,registerHelper:function(t,e,i){if(p.call(t)===f){if(i||e)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else i&&(e.not=i),this.helpers[t]=e},registerPartial:function(t,e){p.call(t)===f?o.extend(this.partials,t):this.partials[t]=e}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(g.level<=t){var i=g.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,e)}}};r.logger=g,r.log=s;var m=function(t){var e={};return o.extend(e,t),e};return r.createFrame=m,r}(e,i),s=function(t,e,i){"use strict";function n(t){var e=t&&t[0]||1,i=d;if(e!==i){if(i>e){var n=p[i],s=p[e];throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){if(!e)throw new u("No environment passed to template");var i=function(t,i,n,s,r,o){var a=e.VM.invokePartial.apply(this,arguments);if(null!=a)return a;if(e.compile){var l={helpers:s,partials:r,data:o};return r[i]=e.compile(t,{data:void 0!==o},e),r[i](n,l)}throw new u("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:c.escapeExpression,invokePartial:i,programs:[],program:function(t,e,i){var n=this.programs[t];return i?n=o(t,e,i):n||(n=this.programs[t]=o(t,e)),n},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i={},c.extend(i,e),c.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,s){s=s||{};var r,o,a=s.partial?s:e;s.partial||(r=s.helpers,o=s.partials);var l=t.call(n,a,i,r,o,s.data);return s.partial||e.VM.checkRevision(n.compilerInfo),l}}function r(t,e,i){var n=Array.prototype.slice.call(arguments,3),s=function(t,s){return s=s||{},e.apply(this,[t,s.data||i].concat(n))};return s.program=t,s.depth=n.length,s}function o(t,e,i){var n=function(t,n){return n=n||{},e(t,n.data||i)};return n.program=t,n.depth=0,n}function a(t,e,i,n,s,r){var o={partial:!0,helpers:n,partials:s,data:r};if(void 0===t)throw new u("The partial "+e+" could not be found");return t instanceof Function?t(i,o):void 0}function l(){return""}var h={},c=t,u=e,d=i.COMPILER_REVISION,p=i.REVISION_CHANGES;return h.checkRevision=n,h.template=s,h.programWithDepth=r,h.program=o,h.invokePartial=a,h.noop=l,h}(e,i,n),r=function(t,e,i,n,s){"use strict";var r,o=t,a=e,l=i,h=n,c=s,u=function(){var t=new o.HandlebarsEnvironment;return h.extend(t,o),t.SafeString=a,t.Exception=l,t.Utils=h,t.VM=c,t.template=function(e){return c.template(e,t)},t},d=u();return d.create=u,r=d}(n,t,i,e,s),o=function(t){"use strict";function e(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var i,n=t,s={ProgramNode:function(t,i,n,r){var o,a;3===arguments.length?(r=n,n=null):2===arguments.length&&(r=i,i=null),e.call(this,r),this.type="program",this.statements=t,this.strip={},n?(a=n[0],a?(o={first_line:a.firstLine,last_line:a.lastLine,last_column:a.lastColumn,first_column:a.firstColumn},this.inverse=new s.ProgramNode(n,i,o)):this.inverse=new s.ProgramNode(n,i),this.strip.right=i.left):i&&(this.strip.left=i.right)},MustacheNode:function(t,i,n,r,o){if(e.call(this,o),this.type="mustache",this.strip=r,null!=n&&n.charAt){var a=n.charAt(3)||n.charAt(2);this.escaped="{"!==a&&"&"!==a}else this.escaped=!!n;this.sexpr=t instanceof s.SexprNode?t:new s.SexprNode(t,i),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,i,n){e.call(this,n),this.type="sexpr",this.hash=i;var s=this.id=t[0],r=this.params=t.slice(1),o=this.eligibleHelper=s.isSimple;this.isHelper=o&&(r.length||i)},PartialNode:function(t,i,n,s){e.call(this,s),this.type="partial",this.partialName=t,this.context=i,this.strip=n},BlockNode:function(t,i,s,r,o){if(e.call(this,o),t.sexpr.id.original!==r.path.original)throw new n(t.sexpr.id.original+" doesn't match "+r.path.original,this);this.type="block",this.mustache=t,this.program=i,this.inverse=s,this.strip={left:t.strip.left,right:r.strip.right},(i||s).strip.left=t.strip.right,(s||i).strip.right=r.strip.left,s&&!i&&(this.isInverse=!0)},ContentNode:function(t,i){e.call(this,i),this.type="content",this.string=t},HashNode:function(t,i){e.call(this,i),this.type="hash",this.pairs=t},IdNode:function(t,i){e.call(this,i),this.type="ID";for(var s="",r=[],o=0,a=0,l=t.length;l>a;a++){var h=t[a].part;if(s+=(t[a].separator||"")+h,".."===h||"."===h||"this"===h){if(r.length>0)throw new n("Invalid path: "+s,this);".."===h?o++:this.isScoped=!0}else r.push(h)}this.original=s,this.parts=r,this.string=r.join("."),this.depth=o,this.isSimple=1===t.length&&!this.isScoped&&0===o,this.stringModeValue=this.string},PartialNameNode:function(t,i){e.call(this,i),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,i){e.call(this,i),this.type="DATA",this.id=t},StringNode:function(t,i){e.call(this,i),this.type="STRING",this.original=this.string=this.stringModeValue=t},IntegerNode:function(t,i){e.call(this,i),this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},BooleanNode:function(t,i){e.call(this,i),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,i){e.call(this,i),this.type="comment",this.comment=t}};return i=s}(i),a=function(){"use strict";var t,e=function(){function t(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(0)||"~"===e.charAt(1)}}function e(){this.yy={}}var i={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(e,i,n,s,r,o){var a=o.length-1;switch(r){case 1:return new s.ProgramNode(o[a-1],this._$);case 2:return new s.ProgramNode([],this._$);case 3:this.$=new s.ProgramNode([],o[a-1],o[a],this._$);break;case 4:this.$=new s.ProgramNode(o[a-2],o[a-1],o[a],this._$);break;case 5:this.$=new s.ProgramNode(o[a-1],o[a],[],this._$);break;case 6:this.$=new s.ProgramNode(o[a],this._$);break;case 7:this.$=new s.ProgramNode([],this._$);break;case 8:this.$=new s.ProgramNode([],this._$);break;case 9:this.$=[o[a]];break;case 10:o[a-1].push(o[a]),this.$=o[a-1];break;case 11:this.$=new s.BlockNode(o[a-2],o[a-1].inverse,o[a-1],o[a],this._$);break;case 12:this.$=new s.BlockNode(o[a-2],o[a-1],o[a-1].inverse,o[a],this._$);break;case 13:this.$=o[a];break;case 14:this.$=o[a];break;case 15:this.$=new s.ContentNode(o[a],this._$);break;case 16:this.$=new s.CommentNode(o[a],this._$);break;case 17:this.$=new s.MustacheNode(o[a-1],null,o[a-2],t(o[a-2],o[a]),this._$);break;case 18:this.$=new s.MustacheNode(o[a-1],null,o[a-2],t(o[a-2],o[a]),this._$);break;case 19:this.$={path:o[a-1],strip:t(o[a-2],o[a])};break;case 20:this.$=new s.MustacheNode(o[a-1],null,o[a-2],t(o[a-2],o[a]),this._$);break;case 21:this.$=new s.MustacheNode(o[a-1],null,o[a-2],t(o[a-2],o[a]),this._$);break;case 22:this.$=new s.PartialNode(o[a-2],o[a-1],t(o[a-3],o[a]),this._$);break;case 23:this.$=t(o[a-1],o[a]);break;case 24:this.$=new s.SexprNode([o[a-2]].concat(o[a-1]),o[a],this._$);break;case 25:this.$=new s.SexprNode([o[a]],null,this._$);break;case 26:this.$=o[a];break;case 27:this.$=new s.StringNode(o[a],this._$);break;case 28:this.$=new s.IntegerNode(o[a],this._$);break;case 29:this.$=new s.BooleanNode(o[a],this._$);break;case 30:this.$=o[a];break;case 31:o[a-1].isHelper=!0,this.$=o[a-1];break;case 32:this.$=new s.HashNode(o[a],this._$);break;case 33:this.$=[o[a-2],o[a]];break;case 34:this.$=new s.PartialNameNode(o[a],this._$);break;case 35:this.$=new s.PartialNameNode(new s.StringNode(o[a],this._$),this._$);break;case 36:this.$=new s.PartialNameNode(new s.IntegerNode(o[a],this._$));break;case 37:this.$=new s.DataNode(o[a],this._$);break;case 38:this.$=new s.IdNode(o[a],this._$);break;case 39:o[a-2].push({part:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 40:this.$=[{part:o[a]}];break;case 43:this.$=[];break;case 44:o[a-1].push(o[a]);break;case 47:this.$=[o[a]];break;case 48:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],
40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],s=[null],r=[],o=this.table,a="",l=0,h=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,y,b,w,x,S={};;){if(g=n[n.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===p||"undefined"==typeof p)&&(p=e()),m=o[g]&&o[g][p]),"undefined"==typeof m||!m.length||!m[0]){var k="";if(!c){x=[];for(y in o[g])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:n.push(p),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),p=null,f?(p=f,f=null):(h=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[m[1]][1],S.$=s[s.length-b],S._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},d&&(S._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call(S,a,h,l,this.yy,m[1],s,r),"undefined"!=typeof v)return v;b&&(n=n.slice(0,-1*b*2),s=s.slice(0,-1*b),r=r.slice(0,-1*b)),n.push(this.productions_[m[1]][0]),s.push(S.$),r.push(S._$),w=o[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,s;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(i=this._input.match(this.rules[r[o]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=o,this.options.flex));o++);return e?(s=e[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){function s(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return s(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return s(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return e.yytext=s(1,2).replace(/\\"/g,'"'),32;case 24:return e.yytext=s(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return e.yytext=s(1,2),40;case 31:return"INVALID";case 32:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},t}();return i.lexer=n,e.prototype=i,i.Parser=e,new e}();return t=e}(),l=function(t,e){"use strict";function i(t){return t.constructor===r.ProgramNode?t:(s.yy=r,s.parse(t))}var n={},s=t,r=e;return n.parser=s,n.parse=i,n}(a,o),h=function(t){"use strict";function e(){}function i(t,e,i){if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var n=i.parse(t),s=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(s,e)}function n(t,e,i){function n(){var n=i.parse(t),s=(new i.Compiler).compile(n,e),r=(new i.JavaScriptCompiler).compile(s,e,void 0,!0);return i.template(r)}if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var s;return function(t,e){return s||(s=n()),s.call(this,t,e)}}var s={},r=t;return s.Compiler=e,e.prototype={compiler:e,disassemble:function(){for(var t,e,i,n=this.opcodes,s=[],r=0,o=n.length;o>r;r++)if(t=n[r],"DECLARE"===t.opcode)s.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)i=t.args[a],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),e.push(i);s.push(t.opcode+" "+e.join(" "))}return s.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||n.args.length!==s.args.length)return!1;for(var r=0;r<n.args.length;r++)if(n.args[r]!==s.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.accept(t)},accept:function(t){var e,i=t.strip||{};return i.left&&this.opcode("strip"),e=this[t.type](t),i.right&&this.opcode("strip"),e},program:function(t){for(var e=t.statements,i=0,n=e.length;n>i;i++)this.accept(e[i]);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,i=(new this.compiler).compile(t,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var s=0,r=i.depths.list.length;r>s;s++)e=i.depths.list[s],2>e||this.addDepth(e-1);return n},block:function(t){var e=t.mustache,i=t.program,n=t.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var s=e.sexpr,r=this.classifySexpr(s);"helper"===r?this.helperSexpr(s,i,n):"simple"===r?(this.simpleSexpr(s),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(s,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,i,n=t.pairs;this.opcode("pushHash");for(var s=0,r=n.length;r>s;s++)e=n[s],i=e[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type),"sexpr"===i.type&&this.sexpr(i)):this.accept(i),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),this.opcode(t.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(t,e,i){var n=t.id,s=n.parts[0],r=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",s,r)},simpleSexpr:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",n.length,s);else{if(this.options.knownHelpersOnly)throw new r("You specified knownHelpersOnly, but used the unknown helper "+s,t);this.opcode("invokeHelper",n.length,s,t.isRoot)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var i=1,n=t.parts.length;n>i;i++)this.opcode("lookup",t.parts[i])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new r("Scoped data references are not supported: "+t.original,t);this.opcode("lookupData");for(var e=t.id.parts,i=0,n=e.length;n>i;i++)this.opcode("lookup",e[i])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,i=t.eligibleHelper,n=this.options;if(i&&!e){var s=t.id.parts[0];n.knownHelpers[s]?e=!0:n.knownHelpersOnly&&(i=!1)}return e?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e,i=t.length;i--;)e=t[i],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),"sexpr"===e.type&&this.sexpr(e)):this[e.type](e)},setupFullMustacheParams:function(t,e,i){var n=t.params;return this.pushParams(n),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.hash(t.hash):this.opcode("emptyHash"),n}},s.precompile=i,s.compile=n,s}(i),c=function(t,e){"use strict";function i(t){this.value=t}function n(){}var s,r=t.COMPILER_REVISION,o=t.REVISION_CHANGES,a=t.log,l=e;n.prototype={nameLookup:function(t,e){var i,s;return 0===t.indexOf("depth")&&(i=!0),s=/^[0-9]+$/.test(e)?t+"["+e+"]":n.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",i?"("+t+" && "+s+")":s},compilerInfo:function(){var t=r,e=o[t];return"this.compilerInfo = ["+t+",'"+e+"'];\n"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,i,n){this.environment=t,this.options=e||{},a("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var s,r=t.opcodes;this.i=0;for(var o=r.length;this.i<o;this.i++)s=r[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args),s.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(n)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,i="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(i=i+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(i+=" data = data || {};"),t.push(i)}t.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,r=this.environment.depths.list.length;r>s;s++)n.push("depth"+this.environment.depths.list[s]);var o=this.mergeSource();if(this.isChild||(o=this.compilerInfo()+o),t)return n.push(o),Function.apply(this,n);var l="function "+(this.name||"")+"("+n.join(",")+") {\n  "+o+"}";return a("debug",l+"\n\n"),l},mergeSource:function(){for(var t,e="",i=0,n=this.source.length;n>i;i++){var s=this.source[i];s.appendToBuffer?t=t?t+"\n    + "+s.content:s.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=s+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e,i){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var n=this.lastHelper=this.setupHelper(t,e,!0),s=this.nameLookup("depth"+this.lastContext,e,"context"),r="helper = "+n.name+" || "+s;n.paramsInit&&(r+=","+n.paramsInit),this.push("("+r+",helper ? helper.call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+"))"),i||this.flushInline()},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var i=this.setupHelper(0,t,e),n=this.lastHelper=this.nameLookup("helpers",t,"helper"),s=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();i.paramsInit&&this.pushSource(i.paramsInit),this.pushSource("if (helper = "+n+") { "+r+" = helper.call("+i.callParams+"); }"),this.pushSource("else { helper = "+s+"; "+r+" = typeof helper === functionType ? helper.call("+i.callParams+") : helper; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),e=this.popStack());var s=this.hash;e&&s.contexts.push("'"+t+"': "+e),i&&s.types.push("'"+t+"': "+i),s.values.push("'"+t+"': ("+n+")")},compiler:n,compileChildren:function(t,e){for(var i,n,s=t.children,r=0,o=s.length;o>r;r++){i=s[r],n=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=n.compile(i,e,this.context),this.context.environments[a]=i):(i.index=a,i.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,i=this.environment.children[t],n=i.depths.list,s=[i.index,i.name,"data"],r=0,o=n.length;o>r;r++)e=n[r],s.push(1===e?"depth0":"depth"+(e-1));return(0===n.length?"self.program(":"self.programWithDepth(")+s.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,n,s,r="",o=this.isInline();if(o){var a=this.popStack(!0);if(a instanceof i)e=a.value,s=!0;else{n=!this.stackSlot;var l=n?this.incrStack():this.topStackName();r="("+this.push(l)+" = "+a+"),",e=this.topStack()}}else e=this.topStack();var h=t.call(this,e);return o?(s||this.popStack(),n&&this.stackSlot--,this.push("("+r+h+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+r+h+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,n=t.length;n>e;e++){var s=t[e];s instanceof i?this.compileStack.push(s):this.pushStack(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return n},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,n=e[e.length-1];return!t&&n instanceof i?n.value:n},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,i){var n=[],s=this.setupParams(t,n,i),r=this.nameLookup("helpers",e,"helper");return{params:n,paramsInit:s,name:r,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(e)].concat(n).join(", ")}},setupOptions:function(t,e){var i,n,s,r=[],o=[],a=[];r.push("hash:"+this.popStack()),this.options.stringParams&&(r.push("hashTypes:"+this.popStack()),r.push("hashContexts:"+this.popStack())),n=this.popStack(),s=this.popStack(),(s||n)&&(s||(this.context.aliases.self="this",s="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),r.push("inverse:"+n),r.push("fn:"+s));for(var l=0;t>l;l++)i=this.popStack(),e.push(i),this.options.stringParams&&(a.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+o.join(",")+"]"),r.push("types:["+a.join(",")+"]")),this.options.data&&r.push("data:data"),r},setupParams:function(t,e,i){var n="{"+this.setupOptions(t,e).join(",")+"}";return i?(this.useRegister("options"),e.push("options"),"options="+n):(e.push(n),"")}};for(var h="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),c=n.RESERVED_WORDS={},u=0,d=h.length;d>u;u++)c[h[u]]=!0;return n.isValidJavaScriptVariableName=function(t){return!(n.RESERVED_WORDS[t]||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t))},s=n}(n,i),u=function(t,e,i,n,s){"use strict";var r,o=t,a=e,l=i.parser,h=i.parse,c=n.Compiler,u=n.compile,d=n.precompile,p=s,f=o.create,g=function(){var t=f();return t.compile=function(e,i){return u(e,i,t)},t.precompile=function(e,i){return d(e,i,t)},t.AST=a,t.Compiler=c,t.JavaScriptCompiler=p,t.Parser=l,t.parse=h,t};return o=g(),o.create=g,r=o}(r,o,l,h,c);return u}();!function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(i){return t.Bloodhound=e(i)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){return!!(n=i.call(null,s,t,e))&&void 0}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){return!(n=i.call(null,s,t,e))&&void 0}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var r,o,a=this,l=arguments;return r=function(){n=null,i||(s=t.apply(a,l))},o=i&&!n,clearTimeout(n),n=setTimeout(r,e),o&&(s=t.apply(a,l)),s}},throttle:function(t,e){var i,n,s,r,o,a;return o=0,a=function(){o=new Date,s=null,r=t.apply(i,n)},function(){var l=new Date,h=e-(l-o);return i=this,n=arguments,0>=h?(clearTimeout(s),s=null,o=l,r=t.apply(i,n)):s||(s=setTimeout(a,h)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function i(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var s=[];return e.each(i,function(i){s=s.concat(t(e.toStr(n[i])))}),s}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),s=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function s(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new s(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),r=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function s(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(e){return t.parseJSON(e)}function o(t){var e,i,n=[],s=a.length;for(e=0;s>e;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(l){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(i){"QuotaExceededError"===i.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),r(this.ls.getItem(this._prefix(t)))},set:function(t,i,r){return e.isNumber(r)?this._safeSet(this._ttlKey(t),s(n()+r)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),s(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=o(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=r(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}),i}(),o=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new s(0):a}var n=0,r={},o=6,a=new s(10);return i.setMaxPendingRequests=function(t){
o=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),c._cache.set(l,t)}function s(){e(!0)}function a(){n--,delete r[l],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,h,c=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((h=r[l])?h.done(i).fail(s):o>n?(n++,r[l]=this._send(t).done(i).fail(s).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var s,r;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},r=this._fingerprint(i),this.cancelled=!1,this.lastReq=r,(s=this._cache.get(r))?n(null,s):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function s(){var t={};return t[l]=[],t[a]={},t}function r(t){for(var e={},i=[],n=0,s=t.length;s>n;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function o(t,e){var i=0,n=0,s=[];t=t.sort(),e=e.sort();for(var r=t.length,o=e.length;r>i&&o>n;)t[i]<e[n]?i++:t[i]>e[n]?n++:(s.push(t[i]),i++,n++);return s}var a="c",l="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var r,o;i.datums[r=i.identify(t)]=t,o=n(i.datumTokenizer(t)),e.each(o,function(t){var e,n,o;for(e=i.trie,n=t.split("");o=n.shift();)e=e[a][o]||(e[a][o]=s()),e[l].push(r)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,s,h=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,r;if(s&&0===s.length)return!1;for(e=h.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];return e&&0===i.length?(r=e[l].slice(0),void(s=s?o(s,r):r)):(s=[],!1)}),s?e.map(r(s),function(t){return h.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new r(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,s.transform(e))}var n,s=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),h=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new o({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:s.transform(i))}var n,s=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function n(n){var s;return n?(s={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(s,n),!n.url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function s(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(n,i),!i.url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=r(i),i.limiter=o(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function r(t){function e(t,e){return e.url=r(e.url,t),e}function i(t,e){return e.url=e.url.replace(o,encodeURIComponent(t)),e}function n(t,e){return e}var s,r,o;return s=t.prepare,r=t.replace,o=t.wildcard,s?s:s=r?e:t.wildcard?i:n}function o(t){function i(t){return function(i){return e.debounce(i,t)}}function n(t){return function(i){return e.throttle(i,t)}}var s,r,o;return s=t.limiter,r=t.rateLimitBy,o=t.rateLimitWait,s||(s=/^throttle$/i.test(r)?n(o):i(o)),s}function a(i){return function(n){function s(t){e.defer(function(){o.resolve(t)})}function r(t){e.defer(function(){o.reject(t)})}var o=t.Deferred();return i(n,s,r),o}}return function(i){var r,o;return r={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=e.mixin(r,i||{}),!i.datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),o=i.sorter,i.sorter=o?function(t){return t.sort(o)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=s(i.remote),i}}(),u=function(){"use strict";function i(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new h(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var s;return s=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=s),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?i.reject():(s.add(e),s.prefetch.store(s.index.serialize()),void i.resolve())}var i,n,s=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function s(t){var i=[];e.each(t,function(t){!e.some(r,function(e){return o.identify(t)===o.identify(e)})&&i.push(t)}),n&&n(i)}var r,o=this;return r=this.sorter(this.index.search(t)),i(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,s):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return u}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){return!!(n=i.call(null,s,t,e))&&void 0}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){return!(n=i.call(null,s,t,e))&&void 0}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var r,o,a=this,l=arguments;return r=function(){n=null,i||(s=t.apply(a,l))},o=i&&!n,clearTimeout(n),n=setTimeout(r,e),o&&(s=t.apply(a,l)),s}},throttle:function(t,e){var i,n,s,r,o,a;return o=0,a=function(){o=new Date,s=null,r=t.apply(i,n)},function(){var l=new Date,h=e-(l-o);return i=this,n=arguments,0>=h?(clearTimeout(s),s=null,o=l,r=t.apply(i,n)):s||(s=setTimeout(a,h)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){var o,a;return a=e.mixin({},r,t),o={css:s(),classes:a,html:i(a),selectors:n(a)},{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(t){e.mixin(t,o)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,function(t,e){i[e]="."+t}),i}function s(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,s;return n="typeahead:",s={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var s;return s=t.Event(n+e),(i=i||[]).unshift(s),this.$el.trigger.apply(this.$el,i),s},before:function(t){var e,i;return e=[].slice.call(arguments,1),i=this._trigger("before"+t,e),i.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=s[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),s=function(){"use strict";function t(t,e,i,n){var s;if(!i)return this;for(e=e.split(l),i=n?a(i,n):i,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,i,n,s,o;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)s=r(i.sync,this,[e].concat(n)),o=r(i.async,this,[e].concat(n)),s()&&h(o);return this}function r(t,e,i){function n(){for(var n,s=0,r=t.length;!n&&r>s;s+=1)n=t[s].apply(e,i)===!1;return!n}return n}function o(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,h=o();return{onSync:i,onAsync:e,off:n,trigger:s}}(),r=function(t){"use strict";function i(t,i,n){for(var s,r=[],o=0,a=t.length;a>o;o++)r.push(e.escapeRegExChars(t[o]));return s=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",i?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function r(e){var i,n,r;return(i=a.exec(e.data))&&(r=t.createElement(s.tagName),s.className&&(r.className=s.className),n=e.splitText(i.index),n.splitText(i[0].length),r.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(r,n)),!!i}function o(t,e){for(var i,n=3,s=0;s<t.childNodes.length;s++)i=t.childNodes[s],i.nodeType===n?s+=e(i)?1:0:o(i,e)}var a;s=e.mixin({},n,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],a=i(s.pattern,s.caseSensitive,s.wordsOnly),o(s.node,r))}}(window.document),o=function(){"use strict";function i(i,s){i=i||{},i.input||t.error("input is missing"),s.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,s,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!o(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!o(e);break;default:i=!0}return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;i=r(t,this.query),n=!!i&&this.query.length!==t.length,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,s,r=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),s=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",s):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(r._onInput,r,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i,n;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),n=""!==t&&i&&!this.hasOverflow(),!n&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),a=function(){"use strict";function i(i,s){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),s.mixin(this),this.highlight=!!i.highlight,this.name=i.name||h(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=o(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function o(i,n){function s(e){return t("<div>").text(n(e))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||s}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,h;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},h=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},e.mixin(i.prototype,s,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;i=this._getSuggestionsFragment(t,e),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var s,o=this;return s=document.createDocumentFragment(),e.each(n,function(e){var n,r;r=o._injectQuery(i,e),n=t(o.templates.suggestion(r)).data(l.obj,e).data(l.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),s.appendChild(n[0])}),this.highlight&&r({className:this.classes.highlight,node:s,pattern:i}),t(s)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){o||(o=!0,t=(t||[]).slice(0,s.limit),a=t.length,s._overwrite(e,t),a<s.limit&&s.async&&s.trigger("asyncRequested",e))}function n(i){i=i||[],!r&&a<s.limit&&(s.cancel=t.noop,a+=i.length,s._append(e,i.slice(0,s.limit-a)),s.async&&s.trigger("asyncReceived",e))}var s=this,r=!1,o=!1,a=0;this.cancel(),this.cancel=function(){r=!0,s.cancel=t.noop,s.async&&s.trigger("asyncCanceled",e)},this.source(e,i,n),!o&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),l=function(){"use strict";function i(i,n){function s(e){var i=r.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(r.$node),new a(e,n)}var r=this;i=i||{},i.node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,s)}return e.mixin(i.prototype,s,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,s;e=t.position().top,i=e+t.outerHeight(!0),n=this.$node.scrollTop(),s=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(n+e):i>s&&this.$node.scrollTop(n+(i-s))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n,s;return i=this.getActiveSelectable(),e=this._getSelectables(),n=i?e.index(i):-1,s=n+t,s=(s+1)%(e.length+1)-1,s=-1>s?e.length-1:s,-1===s?null:e.eq(s)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),h=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),c=function(){"use strict";function i(i,s){var r,o,a,l,h,c,u,d,p,f,g;i=i||{},i.input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),s.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=n(this,"activate","open","_onFocused"),o=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),h=n(this,"isActive","_onEscKeyed"),c=n(this,"isActive","open","_onUpKeyed"),u=n(this,"isActive","open","_onDownKeyed"),d=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),g=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",o,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",h,this).onSync("upKeyed",c,this).onSync("downKeyed",u,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var s,r,o;s=document.activeElement,r=n.is(s),o=n.has(s).length>0,e.isMsie()&&(r||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,i,n,s,r,a,l;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(s=o.normalizeQuery(n),r=e.escapeRegExChars(s),a=new RegExp("^(?:"+r+")(.+$)","i"),l=a.exec(i.val),l&&this.input.setHint(n+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,i,n;return e=this.input.getQuery(),i=this.menu.getSelectableData(t),n=i&&e!==i.val,!(!n||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(t){var e,i,n,s,r;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),n=this.menu.getSelectableData(i),s=n?n.obj:null,r=this._minLengthMet()&&this.menu.update(e),!r&&!this.eventBus.before("cursorchange",s)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",s),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function s(e,i){e.each(function(){var e,n=t(this);(e=n.data(g.typeahead))&&i(e,n)})}function r(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(u(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(i){}return t}function u(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),
backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var i,n;i=t.data(g.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(g.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function p(i){var n,s;return n=e.isJQuery(i)||e.isElement(i),s=n?t(i).first():[],s.length?s:null}var f,g,m;f=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(s,u){function d(){var i,d,m,v,y,b,w,x,S,k,C;e.each(u,function(t){t.highlight=!!s.highlight}),i=t(this),d=t(f.html.wrapper),m=p(s.hint),v=p(s.menu),y=s.hint!==!1&&!m,b=s.menu!==!1&&!v,y&&(m=r(i,f)),b&&(v=t(f.html.menu).css(f.css.menu)),m&&m.val(""),i=a(i,f),(y||b)&&(d.css(f.css.wrapper),i.css(y?f.css.input:f.css.inputWithNoHint),i.wrap(d).parent().prepend(y?m:null).append(b?v:null)),C=b?h:l,w=new n({el:i}),x=new o({hint:m,input:i},f),S=new C({node:v,datasets:u},f),k=new c({input:x,menu:S,eventBus:w,minLength:s.minLength},f),i.data(g.www,f),i.data(g.typeahead,k)}var f;return u=e.isArray(u)?u:[].slice.call(arguments,1),s=s||{},f=i(s.classNames),this.each(d)},isEnabled:function(){var t;return s(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return s(this,function(t){t.enable()}),this},disable:function(){return s(this,function(t){t.disable()}),this},isActive:function(){var t;return s(this.first(),function(e){t=e.isActive()}),t},activate:function(){return s(this,function(t){t.activate()}),this},deactivate:function(){return s(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return s(this.first(),function(e){t=e.isOpen()}),t},open:function(){return s(this,function(t){t.open()}),this},close:function(){return s(this,function(t){t.close()}),this},select:function(e){var i=!1,n=t(e);return s(this.first(),function(t){i=t.select(n)}),i},autocomplete:function(e){var i=!1,n=t(e);return s(this.first(),function(t){i=t.autocomplete(n)}),i},moveCursor:function(t){var e=!1;return s(this.first(),function(i){e=i.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(s(this,function(e){e.setVal(t)}),this):(s(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return s(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function s(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function r(t){return function(){return this[t].apply(this,arguments)}}function o(t){return t&&!isNaN(t.getTime())}function a(e,i){function n(t,e){return e.toLowerCase()}var s,r=t(e).data(),o={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in r)i.test(l)&&(s=l.replace(a,n),o[s]=r[l]);return o}function l(e){var i={};if(m[e]||(e=e.split("-")[0],m[e])){var n=m[e];return t.each(g,function(t,e){e in n&&(i[e]=n[e])}),i}}var h=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new h;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),c=function(e,i){t(e).data("datepicker",this),this._process_options(i),this.dates=new h,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(e){this._o=t.extend({},this._o,e);var s=this.o=t.extend({},this._o),r=s.language;switch(m[r]||(r=r.split("-")[0],m[r]||(r=f.language)),s.language=r,s.startView){case 2:case"decade":s.startView=2;break;case 1:case"year":s.startView=1;break;default:s.startView=0}switch(s.minViewMode){case 1:case"months":s.minViewMode=1;break;case 2:case"years":s.minViewMode=2;break;default:s.minViewMode=0}switch(s.maxViewMode){case 0:case"days":s.maxViewMode=0;break;case 1:case"months":s.maxViewMode=1;break;default:s.maxViewMode=2}s.startView=Math.min(s.startView,s.maxViewMode),s.startView=Math.max(s.startView,s.minViewMode),s.multidate!==!0&&(s.multidate=Number(s.multidate)||!1,s.multidate!==!1&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var o=v.parseFormat(s.format);if(s.startDate!==-(1/0)&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=v.parseDate(s.startDate,o,s.language):s.startDate=-(1/0)),s.endDate!==1/0&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=v.parseDate(s.endDate,o,s.language):s.endDate=1/0),s.daysOfWeekDisabled=s.daysOfWeekDisabled||[],t.isArray(s.daysOfWeekDisabled)||(s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)),s.daysOfWeekDisabled=t.map(s.daysOfWeekDisabled,function(t){return parseInt(t,10)}),s.daysOfWeekHighlighted=s.daysOfWeekHighlighted||[],t.isArray(s.daysOfWeekHighlighted)||(s.daysOfWeekHighlighted=s.daysOfWeekHighlighted.split(/[,\s]*/)),s.daysOfWeekHighlighted=t.map(s.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),s.datesDisabled=s.datesDisabled||[],!t.isArray(s.datesDisabled)){var a=[];a.push(v.parseDate(s.datesDisabled,o,s.language)),s.datesDisabled=a}s.datesDisabled=t.map(s.datesDisabled,function(t){return v.parseDate(t,o,s.language)});var l=String(s.orientation).toLowerCase().split(/\s+/g),h=s.orientation.toLowerCase();if(l=t.grep(l,function(t){return/^auto|left|right|top|bottom$/.test(t)}),s.orientation={x:"auto",y:"auto"},h&&"auto"!==h)if(1===l.length)switch(l[0]){case"top":case"bottom":s.orientation.y=l[0];break;case"left":case"right":s.orientation.x=l[0]}else h=t.grep(l,function(t){return/^left|right$/.test(t)}),s.orientation.x=h[0]||"auto",h=t.grep(l,function(t){return/^top|bottom$/.test(t)}),s.orientation.y=h[0]||"auto";if(s.defaultViewDate){var c=s.defaultViewDate.year||(new Date).getFullYear(),u=s.defaultViewDate.month||0,d=s.defaultViewDate.day||1;s.defaultViewDate=i(c,u,d)}else s.defaultViewDate=n()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,s,r=0;r<t.length;r++)i=t[r][0],2===t[r].length?(n=e,s=t[r][1]):3===t[r].length&&(n=t[r][1],s=t[r][2]),i.on(s,n)},_unapplyEvents:function(t){for(var i,n,s,r=0;r<t.length;r++)i=t[r][0],2===t[r].length?(s=e,n=t[r][1]):3===t[r].length&&(s=t[r][1],n=t[r][2]),i.off(n,s)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),s=this._utc_to_local(n);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return v.formatDate(i,e,this.o.language)},this)})},show:function(){var e=this.component?this.element.find("input"):this.element;if(!e.attr("readonly")||this.o.enableOnReadonly!==!1)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,s=t(this.o.container),r=s.width(),o="body"===this.o.container?t(document).scrollTop():s.scrollTop(),a=s.offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var h=Math.max.apply(Math,l)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-a.left,f=c.top-a.top;"body"!==this.o.container&&(f+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-d)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-n):p+e>r?(this.picker.addClass("datepicker-orient-right"),p+=d-e):this.picker.addClass("datepicker-orient-left");var g,m=this.o.orientation.y;if("auto"===m&&(g=-o+f-i,m=0>g?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=i+parseInt(this.picker.css("padding-top")):f+=u,this.o.rtl){var v=r-(p+d);this.picker.css({top:f,right:v,zIndex:h})}else this.picker.css({top:f,left:p,zIndex:h});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,n?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow">'+m[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+m[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<s?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>s)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===r.getFullYear()&&e.getUTCMonth()===r.getMonth()&&e.getUTCDate()===r.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(!this.dateWithinRange(e)||this.dateIsDisabled(e))&&i.push("disabled"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected"),e.valueOf()===this.range[0]&&i.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},fill:function(){var n,s=new Date(this.viewDate),r=s.getUTCFullYear(),o=s.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=m[this.o.language].today||m.en.today||"",d=m[this.o.language].clear||m.en.clear||"",p=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(r)&&!isNaN(o)){this.picker.find(".datepicker-days thead .datepicker-switch").text(v.formatDate(new i(r,o),p,this.o.language)),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(d).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var f=i(r,o-1,28),g=v.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(g),f.setUTCDate(g-(f.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(f);f.getUTCFullYear()<100&&y.setUTCFullYear(f.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var b,w=[];f.valueOf()<y;){if(f.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var x=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),S=new Date(Number(x)+(11-x.getUTCDay())%7*864e5),k=new Date(Number(k=i(S.getUTCFullYear(),0,1))+(11-k.getUTCDay())%7*864e5),C=(S-k)/864e5/7+1;w.push('<td class="cw">'+C+"</td>")}if(b=this.getClassNames(f),b.push("day"),this.o.beforeShowDay!==t.noop){var D=this.o.beforeShowDay(this._utc_to_local(f));D===e?D={}:"boolean"==typeof D?D={enabled:D}:"string"==typeof D&&(D={classes:D}),D.enabled===!1&&b.push("disabled"),D.classes&&(b=b.concat(D.classes.split(/\s+/))),D.tooltip&&(n=D.tooltip)}b=t.unique(b),w.push('<td class="'+b.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+f.getUTCDate()+"</td>"),n=null,f.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var T=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",_=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?T:r).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&_.eq(e.getUTCMonth()).addClass("active")}),(a>r||r>h)&&_.addClass("disabled"),r===a&&_.slice(0,l).addClass("disabled"),r===h&&_.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var E=this;t.each(_,function(e,i){if(!t(i).hasClass("disabled")){var n=new Date(r,e,1),s=E.o.beforeShowMonth(n);s===!1&&t(i).addClass("disabled")}})}w="",r=10*parseInt(r/10,10);var M=this.picker.find(".datepicker-years").find(".datepicker-switch").text(r+"-"+(r+9)).end().find("td");r-=1;for(var A,I=t.map(this.dates,function(t){return t.getUTCFullYear()}),P=-1;11>P;P++){if(A=["year"],n=null,-1===P?A.push("old"):10===P&&A.push("new"),-1!==t.inArray(r,I)&&A.push("active"),(a>r||r>h)&&A.push("disabled"),this.o.beforeShowYear!==t.noop){var R=this.o.beforeShowYear(new Date(r,0,1));R===e?R={}:"boolean"==typeof R?R={enabled:R}:"string"==typeof R&&(R={classes:R}),R.enabled===!1&&A.push("disabled"),R.classes&&(A=A.concat(R.classes.split(/\s+/))),R.tooltip&&(n=R.tooltip)}w+='<span class="'+A.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+r+"</span>",r+=1}M.html(w)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var s,r,o,a=t(e.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var l=v.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,l),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,l),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(n(),h);break;case"clear":this.clearDates()}break;case"span":a.hasClass("disabled")||(this.viewDate.setUTCDate(1),a.hasClass("month")?(o=1,r=a.parent().find("span").index(a),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(s,r,o)),this.showMode()):this.showMode(-1)):(o=1,r=0,s=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(s),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(s,r,o)),this.showMode(-1)),this.fill());break;case"td":a.hasClass("day")&&!a.hasClass("disabled")&&(o=parseInt(a.text(),10)||1,s=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),a.hasClass("old")?0===r?(r=11,s-=1):r-=1:a.hasClass("new")&&(11===r?(r=0,s+=1):r+=1),this._setDate(i(s,r,o)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!o(t))return this.o.defaultViewDate;if(!e)return t;var i,n,s=new Date(t.valueOf()),r=s.getUTCDate(),a=s.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)n=-1===e?function(){return s.getUTCMonth()===a}:function(){return s.getUTCMonth()!==i},i=a+e,s.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var h=0;l>h;h++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(r),n=function(){return i!==s.getUTCMonth()}}for(;n();)s.setUTCDate(--r),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return s(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void((40===t.keyCode||27===t.keyCode)&&(this.show(),t.stopPropagation()));var e,i,n=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveAvailableDate(s,e,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveAvailableDate(s,e,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(s,e,"moveDay"):this.weekOfDateIsDisabled(s)||(i=this.moveAvailableDate(s,e,"moveWeek")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var u=function(e,i){t(e).data("datepicker",this),this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,p.call(t(this.inputs),i).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker");if("undefined"!=typeof i){var n=i.getUTCDate(),s=t.inArray(e.target,this.inputs),r=s-1,o=s+1,a=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[r])for(;r>=0&&n<this.dates[r];)this.pickers[r--].setUTCDate(n);else if(n>this.dates[o])for(;a>o&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker,p=function(i){var n=Array.apply(null,arguments);n.shift();var s;if(this.each(function(){var e=t(this),r=e.data("datepicker"),o="object"==typeof i&&i;if(!r){var h=a(this,"date"),d=t.extend({},f,h,o),p=l(d.language),g=t.extend({},f,p,h,o);e.hasClass("input-daterange")||g.inputs?(t.extend(g,{inputs:g.inputs||e.find("input").toArray()}),r=new u(this,g)):r=new c(this,g),e.data("datepicker",r)}"string"==typeof i&&"function"==typeof r[i]&&(s=r[i].apply(r,n))}),s===e||s instanceof c||s instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return s};t.fn.datepicker=p;var f=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:2,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:""},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var m=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(s,r,o){function a(){var t=this.slice(0,f[u].length),e=f[u].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!s)return e;if(s instanceof Date)return s;if("string"==typeof r&&(r=v.parseFormat(r)),r.toValue)return r.toValue(s,r,o);var l,h,u,d,p=/([\-+]\d+)([dmwy])/,f=s.match(/([\-+]\d+)([dmwy])/g),g={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(s)){for(s=new Date,u=0;u<f.length;u++)l=p.exec(f[u]),h=parseInt(l[1]),d=g[l[2]],s=c.prototype[d](s,h);return i(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())}f=s&&s.match(this.nonpunctuation)||[],s=new Date;var y,b,w={},x=["yyyy","yy","M","MM","m","mm","d","dd"],S={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};S.M=S.MM=S.mm=S.m,S.dd=S.d,s=n();var k=r.parts.slice();if(f.length!==k.length&&(k=t(k).filter(function(e,i){return-1!==t.inArray(i,x)}).toArray()),f.length===k.length){var C;for(u=0,C=k.length;C>u;u++){if(y=parseInt(f[u],10),l=k[u],isNaN(y))switch(l){case"MM":b=t(m[o].months).filter(a),y=t.inArray(b[0],m[o].months)+1;
break;case"M":b=t(m[o].monthsShort).filter(a),y=t.inArray(b[0],m[o].monthsShort)+1}w[l]=y}var D,T;for(u=0;u<x.length;u++)T=x[u],T in w&&!isNaN(w[T])&&(D=new Date(s),S[T](D,w[T]),isNaN(D)||(s=D))}return s},formatDate:function(e,i,n){if(!e)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(e,i,n);var s={d:e.getUTCDate(),D:m[n].daysShort[e.getUTCDay()],DD:m[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:m[n].monthsShort[e.getUTCMonth()],MM:m[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var r=t.extend([],i.separators),o=0,a=i.parts.length;a>=o;o++)r.length&&e.push(r.shift()),e.push(s[i.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev"><i class="fa fa-angle-left"></i></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="fa fa-angle-right"></i></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t.fn.datepicker.version="1.5.1",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),p.call(i,"show"))}),t(function(){p.call(t('[data-provide="datepicker-inline"]'))})}),!function(t,e,i){"use strict";var n=function(e,i){this.widget="",this.$element=t(e),this.defaultTime=i.defaultTime,this.disableFocus=i.disableFocus,this.disableMousewheel=i.disableMousewheel,this.isOpen=i.isOpen,this.minuteStep=i.minuteStep,this.modalBackdrop=i.modalBackdrop,this.orientation=i.orientation,this.secondStep=i.secondStep,this.showInputs=i.showInputs,this.showMeridian=i.showMeridian,this.showSeconds=i.showSeconds,this.template=i.template,this.appendWidgetTo=i.appendWidgetTo,this.showWidgetOnAddonClick=i.showWidgetOnAddonClick,this._init()};n.prototype={constructor:n,_init:function(){var e=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend"))?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}),this.$widget=this.template!==!1&&t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)),this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e),"keyup.timepicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(t){var e;e=t?this.minute-t:this.minute-this.minuteStep,0>e?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(i.selection){t.focus();var e=i.selection.createRange(),n=i.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-n}},getTemplate:function(){var t,e,i,n,s,r;switch(this.showInputs?(e='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',s='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',i='<span class="bootstrap-timepicker-minute"></span>',n='<span class="bootstrap-timepicker-second"></span>',s='<span class="bootstrap-timepicker-meridian"></span>'),r='<table><tr><td><a href="#" data-action="incrementHour"><i class="fa fa-angle-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="fa fa-angle-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="fa fa-angle-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="fa fa-angle-up"></i></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+i+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+n+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+s+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="fa fa-angle-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="fa fa-angle-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="fa fa-angle-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="fa fa-angle-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">×</a><h3>Pick a Time</h3></div><div class="modal-content">'+r+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+r+"</div>"}return t},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(i).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?t.setSelectionRange(8,10):t.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):void this.hour++},incrementMinute:function(t){var e;e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var i=e.originalEvent.wheelDelta||-e.originalEvent.detail,n=null;switch("mousewheel"===e.type?n=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(n=40*e.originalEvent.detail),n&&(e.preventDefault(),t(this).scrollTop(n+t(this).scrollTop())),this.highlightedUnit){case"minute":i>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":i>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:i>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},place:function(){if(!this.isInline){var i=this.$widget.outerWidth(),n=this.$widget.outerHeight(),s=10,r=t(e).width(),o=t(e).height(),a=t(e).scrollTop(),l=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10,h=this.component?this.component.parent().offset():this.$element.offset(),c=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),d=h.left,p=h.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.picker.addClass("datepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(d-=i-u)):(this.$widget.addClass("timepicker-orient-left"),h.left<0?d-=h.left-s:h.left+i>r&&(d=r-i-s));var f,g,m=this.orientation.y;"auto"===m&&(f=-a+h.top-n,g=a+o-(h.top+c+n),m=Math.max(f,g)===g?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+m),"top"===m?p+=c:p-=n+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:p,left:d,zIndex:l})}},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,i=e.getHours(),n=e.getMinutes(),s=e.getSeconds(),r="AM";0!==s&&(s=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep,60===s&&(n+=1,s=0)),0!==n&&(n=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep,60===n&&(i+=1,n=0)),this.showMeridian&&(0===i?i=12:i>=12?(i>12&&(i-=12),r="PM"):r="AM"),this.hour=i,this.minute=n,this.second=s,this.meridian=r,this.update()}else t===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,e){if(!t)return void this.clear();var i,n,s,r,o;"object"==typeof t&&t.getMonth?(n=t.getHours(),s=t.getMinutes(),r=t.getSeconds(),this.showMeridian&&(o="AM",n>12&&(o="PM",n%=12),12===n&&(o="PM"))):(o=null!==t.match(/p/i)?"PM":"AM",t=t.replace(/[^0-9\:]/g,""),i=t.split(":"),n=i[0]?i[0].toString():i.toString(),s=i[1]?i[1].toString():"",r=i[2]?i[2].toString():"",n.length>4&&(r=n.substr(4,2)),n.length>2&&(s=n.substr(2,2),n=n.substr(0,2)),s.length>2&&(r=s.substr(2,2),s=s.substr(0,2)),r.length>2&&(r=r.substr(2,2)),n=parseInt(n,10),s=parseInt(s,10),r=parseInt(r,10),isNaN(n)&&(n=0),isNaN(s)&&(s=0),isNaN(r)&&(r=0),this.showMeridian?1>n?n=1:n>12&&(n=12):(n>=24?n=23:0>n&&(n=0),13>n&&"PM"===o&&(n+=12)),0>s?s=0:s>=60&&(s=59),this.showSeconds&&(isNaN(r)?r=0:0>r?r=0:r>=60&&(r=59))),this.hour=n,this.minute=s,this.second=r,this.meridian=o,this.update(e)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);var e=this;t(i).on("mousedown.timepicker, touchend.timepicker",function(t){e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,i=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var t=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(t,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var i=t(e.target),n=i.closest("a").data("action");n&&this[n](),this.update(),i.is("input")&&i.get(0).setSelectionRange(0,2)},widgetKeydown:function(e){var i=t(e.target),n=i.attr("class").replace("bootstrap-timepicker-","");switch(e.keyCode){case 9:if(this.showMeridian&&"meridian"===n||this.showSeconds&&"second"===n||!this.showMeridian&&!this.showSeconds&&"minute"===n)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),n){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),i.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),n){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),i.get(0).setSelectionRange(0,2)}},widgetKeyup:function(t){(65===t.keyCode||77===t.keyCode||80===t.keyCode||46===t.keyCode||8===t.keyCode||t.keyCode>=46&&t.keyCode<=57)&&this.updateFromWidgetInputs()}},t.fn.timepicker=function(e){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var s=t(this),r=s.data("timepicker"),o="object"==typeof e&&e;r||s.data("timepicker",r=new n(this,t.extend({},t.fn.timepicker.defaults,o,t(this).data()))),"string"==typeof e&&r[e].apply(r,i)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0},t.fn.timepicker.Constructor=n}(jQuery,window,document),+function(t){"use strict";var e="Microsoft Internet Explorer"==window.navigator.appName,i=function(e,i){if(this.$element=t(e),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||i.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var n=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==n&&"none"!==n&&this.$preview.css("line-height",n),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};i.prototype.listen=function(){this.$input.on("change.bs.fileinput",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",t.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",t.proxy(this.clear,this))},i.prototype.change=function(e){var i=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(e.stopPropagation(),0===i.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var n=i[0];if(this.$preview.length>0&&("undefined"!=typeof n.type?n.type.match(/^image\/(gif|png|jpeg)$/):n.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var s=new FileReader,r=this.$preview,o=this.$element;s.onload=function(e){var s=t("<img>");s[0].src=e.target.result,i[0].result=e.target.result,o.find(".fileinput-filename").text(n.name),"none"!=r.css("max-height")&&s.css("max-height",parseInt(r.css("max-height"),10)-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10)-parseInt(r.css("border-top"),10)-parseInt(r.css("border-bottom"),10)),r.html(s),o.addClass("fileinput-exists").removeClass("fileinput-new"),o.trigger("change.bs.fileinput",i)},s.readAsDataURL(n)}else this.$element.find(".fileinput-filename").text(n.name),this.$preview.text(n.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},i.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),e){var i=this.$input.clone(!0);this.$input.after(i),this.$input.remove(),this.$input=i}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},i.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},i.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var n=t.fn.fileinput;t.fn.fileinput=function(e){return this.each(function(){var n=t(this),s=n.data("bs.fileinput");s||n.data("bs.fileinput",s=new i(this,e)),"string"==typeof e&&s[e]()})},t.fn.fileinput.Constructor=i,t.fn.fileinput.noConflict=function(){return t.fn.fileinput=n,this},t(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var i=t(this);if(!i.data("bs.fileinput")){i.fileinput(i.data());var n=t(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');n.length>0&&(e.preventDefault(),n.trigger("click.bs.fileinput"))}})}(window.jQuery),jQuery&&function(t){function e(e,i){var n=t('<div class="minicolors" />'),s=t.minicolors.defaults;e.data("minicolors-initialized")||(i=t.extend(!0,{},s,i),n.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity).toggleClass("minicolors-no-data-uris",i.dataUris!==!0),void 0!==i.position&&t.each(i.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),i.inline||(e.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-swatch").on("click",function(t){t.preventDefault(),e.focus()})),e.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&e.parent().addClass("minicolors-inline"),a(e,!1),e.data("minicolors-initialized",!0))}function i(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function n(t){var e=t.parent(),i=e.find(".minicolors-panel"),n=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(s(),e.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(t.get(0))}))}function s(){t(".minicolors-focus").each(function(){var e=t(this),i=e.find(".minicolors-input"),n=e.find(".minicolors-panel"),s=i.data("minicolors-settings");n.fadeOut(s.hideSpeed,function(){s.hide&&s.hide.call(i.get(0)),e.removeClass("minicolors-focus")})})}function r(t,e,i){var n,s,r,a,l=t.parents(".minicolors").find(".minicolors-input"),h=l.data("minicolors-settings"),c=t.find("[class$=-picker]"),u=t.offset().left,d=t.offset().top,p=Math.round(e.pageX-u),f=Math.round(e.pageY-d),g=i?h.animationSpeed:0;e.originalEvent.changedTouches&&(p=e.originalEvent.changedTouches[0].pageX-u,f=e.originalEvent.changedTouches[0].pageY-d),p<0&&(p=0),f<0&&(f=0),p>t.width()&&(p=t.width()),f>t.height()&&(f=t.height()),t.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(n=75-p,s=75-f,r=Math.sqrt(n*n+s*s),a=Math.atan2(s,n),a<0&&(a+=2*Math.PI),r>75&&(r=75,p=75-75*Math.cos(a),f=75-75*Math.sin(a)),p=Math.round(p),f=Math.round(f)),t.is(".minicolors-grid")?c.stop(!0).animate({top:f+"px",left:p+"px"},g,h.animationEasing,function(){o(l,t)}):c.stop(!0).animate({top:f+"px"},g,h.animationEasing,function(){o(l,t)})}function o(t,e){function i(t,e){var i,n;return t.length&&e?(i=t.offset().left,n=t.offset().top,{x:i-e.offset().left+t.outerWidth()/2,y:n-e.offset().top+t.outerHeight()/2}):null}var n,s,r,o,a,h,c,d=t.val(),f=t.attr("data-opacity"),g=t.parent(),v=t.data("minicolors-settings"),y=g.find(".minicolors-swatch"),b=g.find(".minicolors-grid"),w=g.find(".minicolors-slider"),x=g.find(".minicolors-opacity-slider"),S=b.find("[class$=-picker]"),k=w.find("[class$=-picker]"),C=x.find("[class$=-picker]"),D=i(S,b),T=i(k,w),_=i(C,x);if(e.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":o=b.width()/2-D.x,a=b.height()/2-D.y,h=Math.sqrt(o*o+a*a),c=Math.atan2(a,o),c<0&&(c+=2*Math.PI),h>75&&(h=75,D.x=69-75*Math.cos(c),D.y=69-75*Math.sin(c)),s=p(h/.75,0,100),n=p(180*c/Math.PI,0,360),r=p(100-Math.floor(T.y*(100/w.height())),0,100),d=m({h:n,s:s,b:r}),w.css("backgroundColor",m({h:n,s:s,b:100}));break;case"saturation":n=p(parseInt(D.x*(360/b.width()),10),0,360),s=p(100-Math.floor(T.y*(100/w.height())),0,100),r=p(100-Math.floor(D.y*(100/b.height())),0,100),d=m({h:n,s:s,b:r}),w.css("backgroundColor",m({h:n,s:100,b:r})),g.find(".minicolors-grid-inner").css("opacity",s/100);break;case"brightness":n=p(parseInt(D.x*(360/b.width()),10),0,360),s=p(100-Math.floor(D.y*(100/b.height())),0,100),r=p(100-Math.floor(T.y*(100/w.height())),0,100),d=m({h:n,s:s,b:r}),w.css("backgroundColor",m({h:n,s:s,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-r/100);break;default:n=p(360-parseInt(T.y*(360/w.height()),10),0,360),s=p(Math.floor(D.x*(100/b.width())),0,100),r=p(100-Math.floor(D.y*(100/b.height())),0,100),d=m({h:n,s:s,b:r}),b.css("backgroundColor",m({h:n,s:100,b:100}))}t.val(u(d,v.letterCase))}e.is(".minicolors-opacity-slider")&&(f=v.opacity?parseFloat(1-_.y/x.height()).toFixed(2):1,v.opacity&&t.attr("data-opacity",f)),y.find("SPAN").css({backgroundColor:d,opacity:f}),l(t,d,f)}function a(t,e){var i,n,s,r,o,a,h,c=t.parent(),f=t.data("minicolors-settings"),g=c.find(".minicolors-swatch"),y=c.find(".minicolors-grid"),b=c.find(".minicolors-slider"),w=c.find(".minicolors-opacity-slider"),x=y.find("[class$=-picker]"),S=b.find("[class$=-picker]"),k=w.find("[class$=-picker]");switch(i=u(d(t.val(),!0),f.letterCase),i||(i=u(d(f.defaultValue,!0),f.letterCase)),n=v(i),e||t.val(i),f.opacity&&(s=""===t.attr("data-opacity")?1:p(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(s)&&(s=1),t.attr("data-opacity",s),g.find("SPAN").css("opacity",s),o=p(w.height()-w.height()*s,0,w.height()),k.css("top",o+"px")),g.find("SPAN").css("backgroundColor",i),f.control){case"wheel":a=p(Math.ceil(.75*n.s),0,y.height()/2),h=n.h*Math.PI/180,r=p(75-Math.cos(h)*a,0,y.width()),o=p(75-Math.sin(h)*a,0,y.height()),x.css({top:o+"px",left:r+"px"}),o=150-n.b/(100/y.height()),""===i&&(o=0),S.css("top",o+"px"),b.css("backgroundColor",m({h:n.h,s:n.s,b:100}));break;case"saturation":r=p(5*n.h/12,0,150),o=p(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),x.css({top:o+"px",left:r+"px"}),o=p(b.height()-n.s*(b.height()/100),0,b.height()),S.css("top",o+"px"),b.css("backgroundColor",m({h:n.h,s:100,b:n.b})),c.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":r=p(5*n.h/12,0,150),o=p(y.height()-Math.ceil(n.s/(100/y.height())),0,y.height()),x.css({top:o+"px",left:r+"px"}),o=p(b.height()-n.b*(b.height()/100),0,b.height()),S.css("top",o+"px"),b.css("backgroundColor",m({h:n.h,s:n.s,b:100})),c.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:r=p(Math.ceil(n.s/(100/y.width())),0,y.width()),o=p(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),x.css({top:o+"px",left:r+"px"}),o=p(b.height()-n.h/(360/b.height()),0,b.height()),S.css("top",o+"px"),y.css("backgroundColor",m({h:n.h,s:100,b:100}))}t.data("minicolors-initialized")&&l(t,i,s)}function l(t,e,i){var n=t.data("minicolors-settings"),s=t.data("minicolors-lastChange");s&&s.hex===e&&s.opacity===i||(t.data("minicolors-lastChange",{hex:e,opacity:i}),n.change&&(n.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){n.change.call(t.get(0),e,i)},n.changeDelay))):n.change.call(t.get(0),e,i)),t.trigger("change").trigger("input"))}function h(e){var i=d(t(e).val(),!0),n=b(i),s=t(e).attr("data-opacity");return n?(void 0!==s&&t.extend(n,{a:parseFloat(s)}),n):null}function c(e,i){var n=d(t(e).val(),!0),s=b(n),r=t(e).attr("data-opacity");return s?(void 0===r&&(r=1),i?"rgba("+s.r+", "+s.g+", "+s.b+", "+parseFloat(r)+")":"rgb("+s.r+", "+s.g+", "+s.b+")"):null}function u(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function d(t,e){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function p(t,e,i){return t<e&&(t=e),t>i&&(t=i),t}function f(t){var e={},i=Math.round(t.h),n=Math.round(255*t.s/100),s=Math.round(255*t.b/100);if(0===n)e.r=e.g=e.b=s;else{var r=s,o=(255-n)*s/255,a=(r-o)*(i%60)/60;360===i&&(i=0),i<60?(e.r=r,e.b=o,e.g=o+a):i<120?(e.g=r,e.b=o,e.r=r-a):i<180?(e.g=r,e.r=o,e.b=o+a):i<240?(e.b=r,e.r=o,e.g=r-a):i<300?(e.b=r,e.g=o,e.r=o+a):i<360?(e.r=r,e.g=o,e.b=r-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function g(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,function(t,e){1===e.length&&(i[t]="0"+e)}),"#"+i.join("")}function m(t){return g(f(t))}function v(t){var e=y(b(t));return 0===e.s&&(e.h=360),e}function y(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),s=n-i;return e.b=n,e.s=0!==n?255*s/n:0,0!==e.s?t.r===n?e.h=(t.g-t.b)/s:t.g===n?e.h=2+(t.b-t.r)/s:e.h=4+(t.r-t.g)/s:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function b(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},t.extend(t.fn,{minicolors:function(r,o){switch(r){case"destroy":return t(this).each(function(){i(t(this))}),t(this);case"hide":return s(),t(this);case"opacity":return void 0===o?t(this).attr("data-opacity"):(t(this).each(function(){
a(t(this).attr("data-opacity",o))}),t(this));case"rgbObject":return h(t(this),"rgbaObject"===r);case"rgbString":case"rgbaString":return c(t(this),"rgbaString"===r);case"settings":return void 0===o?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};i(t(this)),t(this).minicolors(t.extend(!0,e,o))}),t(this));case"show":return n(t(this).eq(0)),t(this);case"value":return void 0===o?t(this).val():(t(this).each(function(){a(t(this).val(o))}),t(this));default:return"create"!==r&&(o=r),t(this).each(function(){e(t(this),o)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||s()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var i=t(this);e.preventDefault(),t(document).data("minicolors-target",i),r(i,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var i=t(document).data("minicolors-target");i&&r(i,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var i=t(this).parent().find(".minicolors-input");e.preventDefault(),n(i)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&n(e)}).on("blur.minicolors",".minicolors-input",function(){var e=t(this),i=e.data("minicolors-settings");e.data("minicolors-initialized")&&(e.val(d(e.val(),!0)),""===e.val()&&e.val(d(i.defaultValue,!0)),e.val(u(e.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var i=t(this);if(i.data("minicolors-initialized"))switch(e.keyCode){case 9:s();break;case 13:case 27:s(),i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&a(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){a(e,!0)},1)})}(jQuery),!function(t){function e(i,n){return this instanceof e?(t.isPlainObject(i)?n=i:(n=n||{},n.alias=i),this.el=void 0,this.opts=t.extend(!0,{},this.defaults,n),this.noMasksCache=n&&void 0!==n.definitions,this.userOptions=n||{},this.events={},void s(this.opts.alias,n,this.opts)):new e(i,n)}function i(t){var e=document.createElement("input"),i="on"+t,n=i in e;return n||(e.setAttribute(i,"return;"),n="function"==typeof e[i]),e=null,n}function n(e,i){var n=e.getAttribute("type"),s="INPUT"===e.tagName&&-1!==t.inArray(n,i.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!s&&"INPUT"===e.tagName){var r=document.createElement("input");r.setAttribute("type",n),s="text"===r.type,r=null}return s}function s(e,i,n){var r=n.aliases[e];return r?(r.alias&&s(r.alias,void 0,n),t.extend(!0,n,r),t.extend(!0,n,i),!0):(null===n.mask&&(n.mask=e),!1)}function r(e,i,n){function r(t,i){i=void 0!==i?i:e.getAttribute("data-inputmask-"+t),null!==i&&("string"==typeof i&&(0===t.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[t]=i)}var o,a,l,h,c=e.getAttribute("data-inputmask");if(c&&""!==c&&(c=c.replace(new RegExp("'","g"),'"'),a=JSON.parse("{"+c+"}")),a){l=void 0;for(h in a)if("alias"===h.toLowerCase()){l=a[h];break}}r("alias",l),n.alias&&s(n.alias,n,i);for(o in i){if(a){l=void 0;for(h in a)if(h.toLowerCase()===o.toLowerCase()){l=a[h];break}}r(o,l)}return t.extend(!0,i,n),i}function o(i,n){function s(e){function n(t,e,i,n){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function s(e,n,s){var r=i.definitions[n];s=void 0!==s?s:e.matches.length;var o=e.matches[s-1];if(r&&!v){r.placeholder=t.isFunction(r.placeholder)?r.placeholder(i):r.placeholder;for(var a=r.prevalidator,l=a?a.length:0,h=1;h<r.cardinality;h++){var c=l>=h?a[h-1]:[],u=c.validator,d=c.cardinality;e.matches.splice(s++,0,{fn:u?"string"==typeof u?new RegExp(u):new function(){this.test=u}:new RegExp("."),cardinality:d?d:1,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(r.definitionSymbol||n),casing:r.casing,def:r.definitionSymbol||n,placeholder:r.placeholder,mask:n}),o=e.matches[s-1]}e.matches.splice(s++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(r.definitionSymbol||n),casing:r.casing,def:r.definitionSymbol||n,placeholder:r.placeholder,mask:n})}else e.matches.splice(s++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),v=!1}function r(t,e){t.isGroup&&(t.isGroup=!1,s(t,i.groupmarker.start,0),e!==!0&&s(t,i.groupmarker.end))}function o(t,e,i,n){e.matches.length>0&&(void 0===n||n)&&(i=e.matches[e.matches.length-1],r(i)),s(e,t)}function a(){if(b.length>0){if(d=b[b.length-1],o(c,d,f,!d.isAlternator),d.isAlternator){p=b.pop();for(var t=0;t<p.matches.length;t++)p.matches[t].isGroup=!1;b.length>0?(d=b[b.length-1],d.matches.push(p)):y.matches.push(p)}}else o(c,y,f)}function l(t){function e(t){return t===i.optionalmarker.start?t=i.optionalmarker.end:t===i.optionalmarker.end?t=i.optionalmarker.start:t===i.groupmarker.start?t=i.groupmarker.end:t===i.groupmarker.end&&(t=i.groupmarker.start),t}t.matches=t.matches.reverse();for(var n in t.matches){var s=parseInt(n);if(t.matches[n].isQuantifier&&t.matches[s+1]&&t.matches[s+1].isGroup){var r=t.matches[n];t.matches.splice(n,1),t.matches.splice(s+1,0,r)}void 0!==t.matches[n].matches?t.matches[n]=l(t.matches[n]):t.matches[n]=e(t.matches[n])}return t}for(var h,c,u,d,p,f,g,m=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=!1,y=new n,b=[],w=[];h=m.exec(e);)if(c=h[0],v)a();else switch(c.charAt(0)){case i.escapeChar:v=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(u=b.pop(),void 0!==u)if(b.length>0){if(d=b[b.length-1],d.matches.push(u),d.isAlternator){p=b.pop();for(var x=0;x<p.matches.length;x++)p.matches[x].isGroup=!1;b.length>0?(d=b[b.length-1],d.matches.push(p)):y.matches.push(p)}}else y.matches.push(u);else a();break;case i.optionalmarker.start:b.push(new n((!1),(!0)));break;case i.groupmarker.start:b.push(new n((!0)));break;case i.quantifiermarker.start:var S=new n((!1),(!1),(!0));c=c.replace(/[{}]/g,"");var k=c.split(","),C=isNaN(k[0])?k[0]:parseInt(k[0]),D=1===k.length?C:isNaN(k[1])?k[1]:parseInt(k[1]);if(("*"===D||"+"===D)&&(C="*"===D?0:1),S.quantifier={min:C,max:D},b.length>0){var T=b[b.length-1].matches;h=T.pop(),h.isGroup||(g=new n((!0)),g.matches.push(h),h=g),T.push(h),T.push(S)}else h=y.matches.pop(),h.isGroup||(g=new n((!0)),g.matches.push(h),h=g),y.matches.push(h),y.matches.push(S);break;case i.alternatormarker:b.length>0?(d=b[b.length-1],f=d.matches.pop()):f=y.matches.pop(),f.isAlternator?b.push(f):(p=new n((!1),(!1),(!1),(!0)),p.matches.push(f),b.push(p));break;default:a()}for(;b.length>0;)u=b.pop(),r(u,!0),y.matches.push(u);return y.matches.length>0&&(f=y.matches[y.matches.length-1],r(f),w.push(y)),i.numericInput&&l(w[0]),w}function r(r,o){if(null!==r&&""!==r){if(1===r.length&&i.greedy===!1&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var a="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;r=i.groupmarker.start+r+i.groupmarker.end+i.quantifiermarker.start+a+","+i.repeat+i.quantifiermarker.end}var l;return void 0===e.prototype.masksCache[r]||n===!0?(l={mask:r,maskToken:s(r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:o},n!==!0&&(e.prototype.masksCache[i.numericInput?r.split("").reverse().join(""):r]=l,l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?r.split("").reverse().join(""):r]))):l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?r.split("").reverse().join(""):r]),l}}function o(t){return t=t.toString()}var a;if(t.isFunction(i.mask)&&(i.mask=i.mask(i)),t.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var l="(";return t.each(i.numericInput?i.mask.reverse():i.mask,function(e,i){l.length>1&&(l+=")|("),l+=o(void 0===i.mask||t.isFunction(i.mask)?i:i.mask)}),l+=")",r(l,i.mask)}i.mask=i.mask.pop()}return i.mask&&(a=void 0===i.mask.mask||t.isFunction(i.mask.mask)?r(o(i.mask),i.mask):r(o(i.mask.mask),i.mask)),a}function a(s,r,o){function l(t,e,i){e=e||0;var n,s,r,a=[],l=0,h=f();do{if(t===!0&&d().validPositions[l]){var c=d().validPositions[l];s=c.match,n=c.locator.slice(),a.push(i===!0?c.input:H(l,s))}else r=v(l,n,l-1),s=r.match,n=r.locator.slice(),(o.jitMasking===!1||h>l||isFinite(o.jitMasking)&&o.jitMasking>l)&&a.push(H(l,s));l++}while((void 0===at||at>l-1)&&null!==s.fn||null===s.fn&&""!==s.def||e>=l);return""===a[a.length-1]&&a.pop(),a}function d(){return r}function p(t){var e=d();e.buffer=void 0,t!==!0&&(e.tests={},e._buffer=void 0,e.validPositions={},e.p=0)}function f(t,e){var i=-1,n=-1,s=d().validPositions;void 0===t&&(t=-1);for(var r in s){var o=parseInt(r);s[o]&&(e||null!==s[o].match.fn)&&(t>=o&&(i=o),o>=t&&(n=o))}return-1!==i&&t-i>1||t>n?i:n}function g(e,i,n,s){if(s||o.insertMode&&void 0!==d().validPositions[e]&&void 0===n){var r,a=t.extend(!0,{},d().validPositions),l=f();for(r=e;l>=r;r++)delete d().validPositions[r];d().validPositions[e]=i;var h,c=!0,u=d().validPositions;for(r=h=e;l>=r;r++){var g=a[r];if(void 0!==g)for(var m=h,v=-1;m<M()&&(null==g.match.fn&&u[r]&&(u[r].match.optionalQuantifier===!0||u[r].match.optionality===!0)||null!=g.match.fn);)if(null===g.match.fn||!o.keepStatic&&u[r]&&(void 0!==u[r+1]&&x(r+1,u[r].locator.slice(),r).length>1||void 0!==u[r].alternation)?m++:m=A(h),b(m,g.match.def)){var y=_(m,g.input,!0,!0);if(c=y!==!1,h=y.caret||y.insert?f():m,c)break}else{if(c=null==g.match.fn,v===m)break;v=m}if(!c)break}if(!c)return d().validPositions=t.extend(!0,{},a),p(!0),!1}else d().validPositions[e]=i;return p(!0),!0}function m(t,e,i,n){function s(t){var e=d().validPositions[t];if(void 0!==e&&null===e.match.fn){var i=d().validPositions[t-1],n=d().validPositions[t+1];return void 0!==i&&void 0!==n}return!1}var r,a=t;for(d().p=t,r=e-1;r>=a;r--)void 0!==d().validPositions[r]&&(i===!0||!s(r)&&o.canClearPosition(d(),r,f(),n,o)!==!1)&&delete d().validPositions[r];for(p(!0),r=a+1;r<=f();){for(;void 0!==d().validPositions[a];)a++;var l=d().validPositions[a];if(a>r&&(r=a+1),void 0===d().validPositions[r]&&E(r)||void 0!==l)r++;else{var h=v(r);b(a,h.match.def)?_(a,h.input||H(r),!0)!==!1&&(delete d().validPositions[r],r++):E(r)||(r++,a--),a++}}p(!0)}function v(t,e,i){var n=d().validPositions[t];if(void 0===n)for(var s=x(t,e,i),r=f(),a=d().validPositions[r]||x(0)[0],l=void 0!==a.alternation?a.locator[a.alternation].toString().split(","):[],h=0;h<s.length&&(n=s[h],!(n.match&&(o.greedy&&n.match.optionalQuantifier!==!0||(n.match.optionality===!1||n.match.newBlockMarker===!1)&&n.match.optionalQuantifier!==!0)&&(void 0===a.alternation||a.alternation!==n.alternation||void 0!==n.locator[a.alternation]&&T(n.locator[a.alternation].toString().split(","),l))));h++);return n}function y(t){return d().validPositions[t]?d().validPositions[t].match:x(t)[0].match}function b(t,e){for(var i=!1,n=x(t),s=0;s<n.length;s++)if(n[s].match&&n[s].match.def===e){i=!0;break}return i}function w(e,i){var n,s;return(d().tests[e]||d().validPositions[e])&&t.each(d().tests[e]||[d().validPositions[e]],function(t,e){var r=e.alternation?e.locator[e.alternation].toString().indexOf(i):-1;(void 0===s||s>r)&&-1!==r&&(n=e,s=r)}),n}function x(e,i,n){function s(i,n,r,a){function h(r,a,f){function g(e,i){var n=0===t.inArray(e,i.matches);return n||t.each(i.matches,function(t,s){return(s.isQuantifier!==!0||!(n=g(e,i.matches[t-1])))&&void 0}),n}function m(t,e){var i=w(t,e);return i?i.locator.slice(i.alternation+1):[]}if(l>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(l===e&&void 0===r.matches)return c.push({match:r,locator:a.reverse(),cd:p}),!0;if(void 0!==r.matches){if(r.isGroup&&f!==r){if(r=h(i.matches[t.inArray(r,i.matches)+1],a))return!0}else if(r.isOptional){var v=r;if(r=s(r,n,a,f)){if(o=c[c.length-1].match,!g(o,v))return!0;u=!0,l=e}}else if(r.isAlternator){var y,b=r,x=[],S=c.slice(),k=a.length,C=n.length>0?n.shift():-1;if(-1===C||"string"==typeof C){var D,T=l,_=n.slice(),E=[];if("string"==typeof C)E=C.split(",");else for(D=0;D<b.matches.length;D++)E.push(D);for(var M=0;M<E.length;M++){if(D=parseInt(E[M]),c=[],n=m(l,D),r=h(b.matches[D]||i.matches[D],[D].concat(a),f)||r,r!==!0&&void 0!==r&&E[E.length-1]<b.matches.length){var A=t.inArray(r,i.matches)+1;i.matches.length>A&&(r=h(i.matches[A],[A].concat(a.slice(1,a.length)),f),r&&(E.push(A.toString()),t.each(c,function(t,e){e.alternation=a.length-1})))}y=c.slice(),l=T,c=[];for(var I=0;I<_.length;I++)n[I]=_[I];for(var P=0;P<y.length;P++){var R=y[P];R.alternation=R.alternation||k;for(var H=0;H<x.length;H++){var $=x[H];if(R.match.def===$.match.def&&("string"!=typeof C||-1!==t.inArray(R.locator[R.alternation].toString(),E))){R.match.mask===$.match.mask&&(y.splice(P,1),P--),-1===$.locator[R.alternation].toString().indexOf(R.locator[R.alternation])&&($.locator[R.alternation]=$.locator[R.alternation]+","+R.locator[R.alternation],$.alternation=R.alternation);break}}}x=x.concat(y)}"string"==typeof C&&(x=t.map(x,function(e,i){if(isFinite(i)){var n,s=e.alternation,r=e.locator[s].toString().split(",");e.locator[s]=void 0,e.alternation=void 0;for(var o=0;o<r.length;o++)n=-1!==t.inArray(r[o],E),n&&(void 0!==e.locator[s]?(e.locator[s]+=",",e.locator[s]+=r[o]):e.locator[s]=parseInt(r[o]),e.alternation=s);if(void 0!==e.locator[s])return e}})),c=S.concat(x),l=e,u=c.length>0}else r=h(b.matches[C]||i.matches[C],[C].concat(a),f);if(r)return!0}else if(r.isQuantifier&&f!==i.matches[t.inArray(r,i.matches)-1])for(var L=r,O=n.length>0?n.shift():0;O<(isNaN(L.quantifier.max)?O+1:L.quantifier.max)&&e>=l;O++){var F=i.matches[t.inArray(L,i.matches)-1];if(r=h(F,[O].concat(a),F)){if(o=c[c.length-1].match,o.optionalQuantifier=O>L.quantifier.min-1,g(o,F)){if(O>L.quantifier.min-1){u=!0,l=e;break}return!0}return!0}}else if(r=s(r,n,a,f))return!0}else l++}for(var f=n.length>0?n.shift():0;f<i.matches.length;f++)if(i.matches[f].isQuantifier!==!0){var g=h(i.matches[f],[f].concat(r),a);if(g&&l===e)return g;if(l>e)break}}function r(t){var e=t[0]||t;return e.locator.slice()}var o,a=d().maskToken,l=i?n:0,h=i||[0],c=[],u=!1,p=i?i.join(""):"";if(e>-1){if(void 0===i){for(var f,g=e-1;void 0===(f=d().validPositions[g]||d().tests[g])&&g>-1;)g--;void 0!==f&&g>-1&&(h=r(f),p=h.join(""),f=f[0]||f,l=g)}if(d().tests[e]&&d().tests[e][0].cd===p)return d().tests[e];for(var m=h.shift();m<a.length;m++){var v=s(a[m],h,[m]);if(v&&l===e||l>e)break}}return(0===c.length||u)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),d().tests[e]=t.extend(!0,[],c),d().tests[e]}function S(){return void 0===d()._buffer&&(d()._buffer=l(!1,1)),d()._buffer}function k(t){if(void 0===d().buffer||t===!0){if(t===!0)for(var e in d().tests)void 0===d().validPositions[e]&&delete d().tests[e];d().buffer=l(!0,f(),!0)}return d().buffer}function C(t,e,i){var n;if(i=i,t===!0)p(),t=0,e=i.length;else for(n=t;e>n;n++)delete d().validPositions[n],delete d().tests[n];for(n=t;e>n;n++)p(!0),i[n]!==o.skipOptionalPartCharacter&&_(n,i[n],!0,!0)}function D(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function T(e,i){for(var n=o.greedy?i:i.slice(0,1),s=!1,r=0;r<e.length;r++)if(-1!==t.inArray(e[r],n)){s=!0;break}return s}function _(i,n,s,r){function a(t){return ht?t.begin-t.end>1||t.begin-t.end===1&&o.insertMode:t.end-t.begin>1||t.end-t.begin===1&&o.insertMode}function l(e,n,s,r){var l=!1;return t.each(x(e),function(h,c){for(var u=c.match,v=n?1:0,y="",b=u.cardinality;b>v;b--)y+=P(e-(b-1));if(n&&(y+=n),k(!0),l=null!=u.fn?u.fn.test(y,d(),e,s,o,a(i)):(n===u.def||n===o.skipOptionalPartCharacter)&&""!==u.def&&{c:u.placeholder||u.def,pos:e},l!==!1){var w=void 0!==l.c?l.c:n;w=w===o.skipOptionalPartCharacter&&null===u.fn?u.placeholder||u.def:w;var x=e,S=k();if(void 0!==l.remove&&(t.isArray(l.remove)||(l.remove=[l.remove]),t.each(l.remove.sort(function(t,e){return e-t}),function(t,e){m(e,e+1,!0)})),void 0!==l.insert&&(t.isArray(l.insert)||(l.insert=[l.insert]),t.each(l.insert.sort(function(t,e){return t-e}),function(t,e){_(e.pos,e.c,!1,r)})),l.refreshFromBuffer){var T=l.refreshFromBuffer;if(s=!0,C(T===!0?T:T.start,T.end,S),void 0===l.pos&&void 0===l.c)return l.pos=f(),!1;if(x=void 0!==l.pos?l.pos:e,x!==e)return l=t.extend(l,_(x,w,!0,r)),!1}else if(l!==!0&&void 0!==l.pos&&l.pos!==e&&(x=l.pos,C(e,x,k().slice()),x!==e))return l=t.extend(l,_(x,w,!0)),!1;return(l===!0||void 0!==l.pos||void 0!==l.c)&&(h>0&&p(!0),g(x,t.extend({},c,{input:D(w,u)}),r,a(i))||(l=!1),!1)}}),l}function h(e,i,n,s){for(var r,a,l,h,c,u,g=t.extend(!0,{},d().validPositions),m=t.extend(!0,{},d().tests),y=f();y>=0&&(h=d().validPositions[y],!h||void 0===h.alternation||(r=y,a=d().validPositions[r].alternation,v(r).locator[h.alternation]===h.locator[h.alternation]));y--);if(void 0!==a){r=parseInt(r);for(var b in d().validPositions)if(b=parseInt(b),h=d().validPositions[b],b>=r&&void 0!==h.alternation){var x;0===r?(x=[],t.each(d().tests[r],function(t,e){void 0!==e.locator[a]&&(x=x.concat(e.locator[a].toString().split(",")))})):x=d().validPositions[r].locator[a].toString().split(",");var S=void 0!==h.locator[a]?h.locator[a]:x[0];S.length>0&&(S=S.split(",")[0]);for(var k=0;k<x.length;k++){var C=[],D=0,T=0;if(S<x[k]){for(var E,M,A=b;A>=0;A--)if(E=d().validPositions[A],void 0!==E){var I=w(A,x[k]);d().validPositions[A].match.def!==I.match.def&&(C.push(d().validPositions[A].input),d().validPositions[A]=I,d().validPositions[A].input=H(A),null===d().validPositions[A].match.fn&&T++,E=I),M=E.locator[a],E.locator[a]=parseInt(x[k]);break}if(S!==E.locator[a]){for(c=b+1;c<f(void 0,!0)+1;c++)u=d().validPositions[c],u&&null!=u.match.fn?C.push(u.input):e>c&&D++,delete d().validPositions[c],delete d().tests[c];for(p(!0),o.keepStatic=!o.keepStatic,l=!0;C.length>0;){var P=C.shift();if(P!==o.skipOptionalPartCharacter&&!(l=_(f(void 0,!0)+1,P,!1,s)))break}if(E.alternation=a,E.locator[a]=M,l){var R=f(e)+1;for(c=b+1;c<f()+1;c++)u=d().validPositions[c],(void 0===u||null==u.match.fn)&&e>c&&T++;e+=T-D,l=_(e>R?R:e,i,n,s)}if(o.keepStatic=!o.keepStatic,l)return l;p(),d().validPositions=t.extend(!0,{},g),d().tests=t.extend(!0,{},m)}}}break}}return!1}function c(e,i){for(var n=d().validPositions[i],s=n.locator,r=s.length,o=e;i>o;o++)if(void 0===d().validPositions[o]&&!E(o,!0)){var a=x(o),l=a[0],h=-1;t.each(a,function(t,e){for(var i=0;r>i&&void 0!==e.locator[i]&&T(e.locator[i].toString().split(","),s[i].toString().split(","));i++)i>h&&(h=i,l=e)}),g(o,t.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}s=s===!0;var u=i;void 0!==i.begin&&(u=ht&&!a(i)?i.end:i.begin);for(var y=!1,b=t.extend(!0,{},d().validPositions),S=u-1;S>-1&&!d().validPositions[S];S--);var I;for(S++;u>S;S++)void 0===d().validPositions[S]&&((I=v(S)).match.def===o.radixPointDefinitionSymbol||!E(S,!0)||t.inArray(o.radixPoint,k())<S&&I.match.fn&&I.match.fn.test(H(S),d(),S,!1,o))&&l(f()+1,I.match.placeholder||(null==I.match.fn?I.match.def:""!==H(S)?H(S):k()[S]),!0,r);if(a(i)&&(z(void 0,e.keyCode.DELETE,i),u=d().p),u<M()&&(y=l(u,n,s,r),(!s||r===!0)&&y===!1)){var R=d().validPositions[u];if(!R||null!==R.match.fn||R.match.def!==n&&n!==o.skipOptionalPartCharacter){if((o.insertMode||void 0===d().validPositions[A(u)])&&!E(u,!0)){var $=v(u).match;$=$.placeholder||$.def,l(u,$,s,r);for(var L=u+1,O=A(u);O>=L;L++)if(y=l(L,n,s,r),y!==!1){c(u,L),u=L;break}}}else y={caret:A(u)}}return y===!1&&o.keepStatic&&(y=h(u,n,s,r)),y===!0&&(y={pos:u}),t.isFunction(o.postValidation)&&y!==!1&&!s&&r!==!0&&(y=!!o.postValidation(k(!0),y,o)&&y),void 0===y.pos&&(y.pos=u),y===!1&&(p(!0),d().validPositions=t.extend(!0,{},b)),y}function E(t,e){var i;if(e?(i=v(t).match,""===i.def&&(i=y(t))):i=y(t),null!=i.fn)return i.fn;if(e!==!0&&t>-1&&!o.keepStatic&&void 0===d().validPositions[t]){var n=x(t);return n.length>2}return!1}function M(){var t;at=void 0!==rt?rt.maxLength:void 0,-1===at&&(at=void 0);var e,i=f(),n=d().validPositions[i],s=void 0!==n?n.locator.slice():void 0;for(e=i+1;void 0===n||null!==n.match.fn||null===n.match.fn&&""!==n.match.def;e++)n=v(e,s,e-1),s=n.locator.slice();var r=y(e-1);return t=""!==r.def?e:e-1,void 0===at||at>t?t:at}function A(t,e){var i=M();if(t>=i)return i;for(var n=t;++n<i&&(e===!0&&(y(n).newBlockMarker!==!0||!E(n))||e!==!0&&!E(n)&&(o.nojumps!==!0||o.nojumpsThreshold>n)););return n}function I(t,e){var i=t;if(0>=i)return 0;for(;--i>0&&(e===!0&&y(i).newBlockMarker!==!0||e!==!0&&!E(i)););return i}function P(t){return void 0===d().validPositions[t]?H(t):d().validPositions[t].input}function R(e,i,n,s,r){if(s&&t.isFunction(o.onBeforeWrite)){var a=o.onBeforeWrite(s,i,n,o);if(a){if(a.refreshFromBuffer){var l=a.refreshFromBuffer;C(l===!0?l:l.start,l.end,a.buffer||i),i=k(!0)}void 0!==n&&(n=void 0!==a.caret?a.caret:n)}}e.inputmask._valueSet(i.join("")),void 0===n||void 0!==s&&"blur"===s.type||O(e,n),r===!0&&(ut=!0,t(e).trigger("input"))}function H(t,e){if(e=e||y(t),void 0!==e.placeholder)return e.placeholder;if(null===e.fn){if(t>-1&&!o.keepStatic&&void 0===d().validPositions[t]){var i,n=x(t),s=0;if(n.length>2)for(var r=0;r<n.length;r++)if(n[r].match.optionality!==!0&&n[r].match.optionalQuantifier!==!0&&(null===n[r].match.fn||void 0===i||n[r].match.fn.test(i.match.def,d(),t,!0,o)!==!1)&&(s++,null===n[r].match.fn&&(i=n[r]),s>1))return o.placeholder.charAt(t%o.placeholder.length)}return e.def}return o.placeholder.charAt(t%o.placeholder.length)}function $(i,n,s,r){function a(){var t=!1,e=S().slice(u,A(u)).join("").indexOf(c);if(-1!==e&&!E(u)){t=!0;for(var i=S().slice(u,u+e),n=0;n<i.length;n++)if(" "!==i[n]){t=!1;break}}return t}var l,h=r.slice(),c="",u=0;if(p(),d().p=A(-1),!s)if(o.autoUnmask!==!0){var g=S().slice(0,A(-1)).join(""),m=h.join("").match(new RegExp("^"+e.escapeRegex(g),"g"));m&&m.length>0&&(h.splice(0,m.length*g.length),u=A(u))}else u=A(u);t.each(h,function(e,n){if(void 0!==n){var r=new t.Event("keypress");r.which=n.charCodeAt(0),c+=n;var h=f(void 0,!0),g=d().validPositions[h],m=v(h+1,g?g.locator.slice():void 0,h);if(!a()||s||o.autoUnmask){var y=s?e:null==m.match.fn&&m.match.optionality&&h+1<d().p?h+1:d().p;l=Y.call(i,r,!0,!1,s,y),u=y+1,c=""}else l=Y.call(i,r,!0,!1,!0,h+1);if(!s&&t.isFunction(o.onBeforeWrite)&&(l=o.onBeforeWrite(r,k(),l.forwardPosition,o),l&&l.refreshFromBuffer)){var b=l.refreshFromBuffer;C(b===!0?b:b.start,b.end,l.buffer),p(!0),l.caret&&(d().p=l.caret)}}}),n&&R(i,k(),document.activeElement===i?A(f(0)):void 0,new t.Event("checkval"))}function L(e){if(e&&void 0===e.inputmask)return e.value;var i=[],n=d().validPositions;for(var s in n)n[s].match&&null!=n[s].match.fn&&i.push(n[s].input);var r=0===i.length?null:(ht?i.reverse():i).join("");if(null!==r){var a=(ht?k().slice().reverse():k()).join("");t.isFunction(o.onUnMask)&&(r=o.onUnMask(a,r,o)||r)}return r}function O(t,e,i,n){function s(t){if(n!==!0&&ht&&"number"==typeof t&&(!o.greedy||""!==o.placeholder)){var e=k().join("").length;t=e-t}return t}var r;if("number"!=typeof e)return t.setSelectionRange?(e=t.selectionStart,i=t.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0),(r.commonAncestorContainer.parentNode===t||r.commonAncestorContainer===t)&&(e=r.startOffset,i=r.endOffset)):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),e=0-r.duplicate().moveStart("character",-t.inputmask._valueGet().length),i=e+r.text.length),{begin:s(e),end:s(i)};e=s(e),i=s(i),i="number"==typeof i?i:e;var a=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*i;if(t.scrollLeft=a>t.scrollWidth?a:0,h||o.insertMode!==!1||e!==i||i++,t.setSelectionRange)t.selectionStart=e,t.selectionEnd=i;else if(window.getSelection){if(r=document.createRange(),void 0===t.firstChild||null===t.firstChild){var l=document.createTextNode("");t.appendChild(l)}r.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),r.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),r.collapse(!0);var c=window.getSelection();c.removeAllRanges(),c.addRange(r)}else t.createTextRange&&(r=t.createTextRange(),r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",e),r.select())}function F(e){var i,n,s=k(),r=s.length,o=f(),a={},l=d().validPositions[o],h=void 0!==l?l.locator.slice():void 0;for(i=o+1;i<s.length;i++)n=v(i,h,i-1),h=n.locator.slice(),a[i]=t.extend(!0,{},n);var c=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=r-1;i>o&&(n=a[i],(n.match.optionality||n.match.optionalQuantifier||c&&(c!==a[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&T(n.locator[l.alternation].toString().split(","),c.toString().split(","))&&""!==x(i)[0].def))&&s[i]===H(i,n.match));i--)r--;return e?{l:r,def:a[r]?a[r].match:void 0}:r}function B(t){for(var e=F(),i=t.length-1;i>e&&!E(i);i--);return t.splice(e,i+1-e),t}function N(e){if(t.isFunction(o.isComplete))return o.isComplete(e,o);if("*"!==o.repeat){var i=!1,n=F(!0),s=I(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var r=0;s>=r;r++){var a=v(r).match;if(null!==a.fn&&void 0===d().validPositions[r]&&a.optionality!==!0&&a.optionalQuantifier!==!0||null===a.fn&&e[r]!==H(r,a)){i=!1;break}}}return i}}function j(e){function i(e){if(t.valHooks&&(void 0===t.valHooks[e]||t.valHooks[e].inputmaskpatch!==!0)){var i=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},n=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=i(t);return-1!==f()?e:""}return i(t)},set:function(e,i){var s,r=t(e);return s=n(e,i),e.inputmask&&r.trigger("setvalue"),s},inputmaskpatch:!0}}}function n(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==f()?document.activeElement===this&&o.clearMaskOnLostFocus?(ht?B(k().slice()).reverse():B(k().slice())).join(""):a.call(this):"":a.call(this)}function s(e){l.call(this,e),this.inputmask&&t(this).trigger("setvalue")}function r(e){ft.on(e,"mouseenter",function(e){var i=t(this),n=this,s=n.inputmask._valueGet();s!==k().join("")&&i.trigger("setvalue")})}var a,l;if(!e.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){var h=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):void 0;h&&h.get&&h.set?(a=h.get,l=h.set,Object.defineProperty(e,"value",{get:n,set:s,configurable:!0})):"INPUT"!==e.tagName&&(a=function(){return this.textContent},l=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:n,set:s,configurable:!0}))}else document.__lookupGetter__&&e.__lookupGetter__("value")&&(a=e.__lookupGetter__("value"),l=e.__lookupSetter__("value"),e.__defineGetter__("value",n),e.__defineSetter__("value",s));void 0===a&&(a=function(){return e.value},l=function(t){e.value=t},i(e.type),r(e)),e.inputmask.__valueGet=a,e.inputmask._valueGet=function(t){return ht&&t!==!0?a.call(this.el).split("").reverse().join(""):a.call(this.el)},e.inputmask.__valueSet=l,e.inputmask._valueSet=function(t,e){l.call(this.el,null===t||void 0===t?"":e!==!0&&ht?t.split("").reverse().join(""):t)}}}function z(i,n,s,r){function a(){if(o.keepStatic){p(!0);var e,n=[],s=t.extend(!0,{},d().validPositions);for(e=f();e>=0;e--){var r=d().validPositions[e];if(r&&(null!=r.match.fn&&n.push(r.input),delete d().validPositions[e],void 0!==r.alternation&&r.locator[r.alternation]===v(e).locator[r.alternation]))break}if(e>-1)for(;n.length>0;){d().p=A(f());var a=new t.Event("keypress");a.which=n.pop().charCodeAt(0),Y.call(i,a,!0,!1,!1,d().p)}else d().validPositions=t.extend(!0,{},s)}}if((o.numericInput||ht)&&(n===e.keyCode.BACKSPACE?n=e.keyCode.DELETE:n===e.keyCode.DELETE&&(n=e.keyCode.BACKSPACE),ht)){var l=s.end;s.end=s.begin,s.begin=l}n===e.keyCode.BACKSPACE&&(s.end-s.begin<1||o.insertMode===!1)?(s.begin=I(s.begin),void 0===d().validPositions[s.begin]||d().validPositions[s.begin].input!==o.groupSeparator&&d().validPositions[s.begin].input!==o.radixPoint||s.begin--):n===e.keyCode.DELETE&&s.begin===s.end&&(s.end=E(s.end)?s.end+1:A(s.end)+1,void 0===d().validPositions[s.begin]||d().validPositions[s.begin].input!==o.groupSeparator&&d().validPositions[s.begin].input!==o.radixPoint||s.end++),m(s.begin,s.end,!1,r),r!==!0&&a();var h=f(s.begin);h<s.begin?(-1===h&&p(),d().p=A(h)):r!==!0&&(d().p=s.begin)}function W(n){var s=this,r=t(s),a=n.keyCode,l=O(s);if(a===e.keyCode.BACKSPACE||a===e.keyCode.DELETE||u&&a===e.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&a===e.keyCode.X&&!i("cut"))n.preventDefault(),z(s,a,l),R(s,k(),d().p,n,st!==k().join("")),s.inputmask._valueGet()===S().join("")?r.trigger("cleared"):N(k())===!0&&r.trigger("complete"),o.showTooltip&&(s.title=o.tooltip||d().mask);else if(a===e.keyCode.END||a===e.keyCode.PAGE_DOWN){n.preventDefault();var h=A(f());o.insertMode||h!==M()||n.shiftKey||h--,O(s,n.shiftKey?l.begin:h,h,!0)}else a===e.keyCode.HOME&&!n.shiftKey||a===e.keyCode.PAGE_UP?(n.preventDefault(),O(s,0,n.shiftKey?l.begin:0,!0)):(o.undoOnEscape&&a===e.keyCode.ESCAPE||90===a&&n.ctrlKey)&&n.altKey!==!0?($(s,!0,!1,st.split("")),r.trigger("click")):a!==e.keyCode.INSERT||n.shiftKey||n.ctrlKey?o.tabThrough===!0&&a===e.keyCode.TAB?(n.shiftKey===!0?(null===y(l.begin).fn&&(l.begin=A(l.begin)),l.end=I(l.begin,!0),l.begin=I(l.end,!0)):(l.begin=A(l.begin,!0),l.end=A(l.begin,!0),l.end<M()&&l.end--),l.begin<M()&&(n.preventDefault(),O(s,l.begin,l.end))):o.insertMode!==!1||n.shiftKey||(a===e.keyCode.RIGHT?setTimeout(function(){var t=O(s);O(s,t.begin)},0):a===e.keyCode.LEFT&&setTimeout(function(){var t=O(s);O(s,ht?t.begin+1:t.begin-1)},0)):(o.insertMode=!o.insertMode,O(s,o.insertMode||l.begin!==M()?l.begin:l.begin-1));o.onKeyDown.call(this,n,k(),O(s).begin,o),dt=-1!==t.inArray(a,o.ignorables)}function Y(i,n,s,r,a){var l=this,h=t(l),c=i.which||i.charCode||i.keyCode;if(!(n===!0||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||dt))return c===e.keyCode.ENTER&&st!==k().join("")&&(st=k().join(""),setTimeout(function(){h.trigger("change")},0)),!0;if(c){46===c&&i.shiftKey===!1&&","===o.radixPoint&&(c=44);var u,f=n?{begin:a,end:a}:O(l),g=String.fromCharCode(c);d().writeOutBuffer=!0;var m=_(f,g,r);if(m!==!1){var v=m.pos;if(p(!0),void 0!==m.caret)u=m.caret;else{var y=d().validPositions;u=!o.keepStatic&&(void 0!==y[v+1]&&x(v+1,y[v].locator.slice(),v).length>1||void 0!==y[v].alternation)?v+1:A(v)}d().p=u}if(s!==!1){var b=this;if(setTimeout(function(){o.onKeyValidation.call(b,c,m,o)},0),d().writeOutBuffer&&m!==!1){var w=k();R(l,w,o.numericInput&&void 0===m.caret?I(u):u,i,n!==!0),n!==!0&&setTimeout(function(){N(w)===!0&&h.trigger("complete")},0)}}if(o.showTooltip&&(l.title=o.tooltip||d().mask),i.preventDefault(),n)return m.forwardPosition=u,m}}function G(e){var i,n=this,s=e.originalEvent||e,r=t(n),a=n.inputmask._valueGet(!0),l=O(n);ht&&(i=l.end,l.end=l.begin,l.begin=i);var h=a.substr(0,l.begin),c=a.substr(l.end,a.length);h===(ht?S().reverse():S()).slice(0,l.begin).join("")&&(h=""),c===(ht?S().reverse():S()).slice(l.end).join("")&&(c=""),ht&&(i=h,h=c,c=i),window.clipboardData&&window.clipboardData.getData?a=h+window.clipboardData.getData("Text")+c:s.clipboardData&&s.clipboardData.getData&&(a=h+s.clipboardData.getData("text/plain")+c);var u=a;if(t.isFunction(o.onBeforePaste)){if(u=o.onBeforePaste(a,o),u===!1)return e.preventDefault();u||(u=a)}return $(n,!1,!1,ht?u.split("").reverse():u.toString().split("")),R(n,k(),A(f()),e,!0),N(k())===!0&&r.trigger("complete"),e.preventDefault()}function U(i){var n=this,s=n.inputmask._valueGet();
if(k().join("")!==s){var r=O(n);if(s=s.replace(new RegExp("("+e.escapeRegex(S().join(""))+")*"),""),c){var o=s.replace(k().join(""),"");if(1===o.length){var a=new t.Event("keypress");return a.which=o.charCodeAt(0),Y.call(n,a,!0,!0,!1,d().validPositions[r.begin-1]?r.begin:r.begin-1),!1}}if(r.begin>s.length&&(O(n,s.length),r=O(n)),k().length-s.length!==1||s.charAt(r.begin)===k()[r.begin]||s.charAt(r.begin+1)===k()[r.begin]||E(r.begin)){for(var l=f()+1,h=k().slice(l).join("");null===s.match(e.escapeRegex(h)+"$");)h=h.slice(1);s=s.replace(h,""),s=s.split(""),$(n,!0,!1,s),N(k())===!0&&t(n).trigger("complete")}else i.keyCode=e.keyCode.BACKSPACE,W.call(n,i);i.preventDefault()}}function V(e){var i=this,n=i.inputmask._valueGet();$(i,!0,!1,(t.isFunction(o.onBeforeMask)?o.onBeforeMask(n,o)||n:n).split("")),st=k().join(""),(o.clearMaskOnLostFocus||o.clearIncomplete)&&i.inputmask._valueGet()===S().join("")&&i.inputmask._valueSet("")}function q(t){var e=this,i=e.inputmask._valueGet();o.showMaskOnFocus&&(!o.showMaskOnHover||o.showMaskOnHover&&""===i)?e.inputmask._valueGet()!==k().join("")&&R(e,k(),A(f())):pt===!1&&O(e,A(f())),o.positionCaretOnTab===!0&&setTimeout(function(){O(e,A(f()))},0),st=k().join("")}function X(t){var e=this;if(pt=!1,o.clearMaskOnLostFocus&&document.activeElement!==e){var i=k().slice(),n=e.inputmask._valueGet();n!==e.getAttribute("placeholder")&&""!==n&&(-1===f()&&n===S().join("")?i=[]:B(i),R(e,i))}}function K(e){function i(e){if(o.radixFocus&&""!==o.radixPoint){var i=d().validPositions;if(void 0===i[e]||i[e].input===H(e)){if(e<A(-1))return!0;var n=t.inArray(o.radixPoint,k());if(-1!==n){for(var s in i)if(s>n&&i[s].input!==H(s))return!1;return!0}}}return!1}var n=this;setTimeout(function(){if(document.activeElement===n){var e=O(n);if(e.begin===e.end)if(i(e.begin))O(n,o.numericInput?A(t.inArray(o.radixPoint,k())):t.inArray(o.radixPoint,k()));else{var s=e.begin,r=f(s,!0),a=A(r);if(a>s)O(n,E(s)||E(s-1)?s:A(s));else{var l=H(a);(""!==l&&k()[a]!==l||!E(a,!0)&&y(a).def===l)&&(a=A(a)),O(n,a)}}}},0)}function Q(t){var e=this;setTimeout(function(){O(e,0,A(f()))},0)}function Z(i){var n=this,s=t(n),r=O(n),a=i.originalEvent||i,l=window.clipboardData||a.clipboardData,h=ht?k().slice(r.end,r.begin):k().slice(r.begin,r.end);l.setData("text",ht?h.reverse().join(""):h.join("")),document.execCommand&&document.execCommand("copy"),z(n,e.keyCode.DELETE,r),R(n,k(),d().p,i,st!==k().join("")),n.inputmask._valueGet()===S().join("")&&s.trigger("cleared"),o.showTooltip&&(n.title=o.tooltip||d().mask)}function J(e){var i=t(this),n=this;if(n.inputmask){var s=n.inputmask._valueGet(),r=k().slice();st!==r.join("")&&setTimeout(function(){i.trigger("change"),st=r.join("")},0),""!==s&&(o.clearMaskOnLostFocus&&(-1===f()&&s===S().join("")?r=[]:B(r)),N(r)===!1&&(setTimeout(function(){i.trigger("incomplete")},0),o.clearIncomplete&&(p(),r=o.clearMaskOnLostFocus?[]:S().slice())),R(n,r,void 0,e))}}function tt(t){var e=this;pt=!0,document.activeElement!==e&&o.showMaskOnHover&&e.inputmask._valueGet()!==k().join("")&&R(e,k())}function et(t){st!==k().join("")&&ot.trigger("change"),o.clearMaskOnLostFocus&&-1===f()&&rt.inputmask._valueGet&&rt.inputmask._valueGet()===S().join("")&&rt.inputmask._valueSet(""),o.removeMaskOnSubmit&&(rt.inputmask._valueSet(rt.inputmask.unmaskedvalue(),!0),setTimeout(function(){R(rt,k())},0))}function it(t){setTimeout(function(){ot.trigger("setvalue")},0)}function nt(e){if(rt=e,ot=t(rt),o.showTooltip&&(rt.title=o.tooltip||d().mask),("rtl"===rt.dir||o.rightAlign)&&(rt.style.textAlign="right"),("rtl"===rt.dir||o.numericInput)&&(rt.dir="ltr",rt.removeAttribute("dir"),rt.inputmask.isRTL=!0,ht=!0),ft.off(rt),j(rt),n(rt,o)&&(ft.on(rt,"submit",et),ft.on(rt,"reset",it),ft.on(rt,"mouseenter",tt),ft.on(rt,"blur",J),ft.on(rt,"focus",q),ft.on(rt,"mouseleave",X),ft.on(rt,"click",K),ft.on(rt,"dblclick",Q),ft.on(rt,"paste",G),ft.on(rt,"dragdrop",G),ft.on(rt,"drop",G),ft.on(rt,"cut",Z),ft.on(rt,"complete",o.oncomplete),ft.on(rt,"incomplete",o.onincomplete),ft.on(rt,"cleared",o.oncleared),ft.on(rt,"keydown",W),ft.on(rt,"keypress",Y),ft.on(rt,"input",U)),ft.on(rt,"setvalue",V),""!==rt.inputmask._valueGet()||o.clearMaskOnLostFocus===!1||document.activeElement===rt){var i=t.isFunction(o.onBeforeMask)?o.onBeforeMask(rt.inputmask._valueGet(),o)||rt.inputmask._valueGet():rt.inputmask._valueGet();$(rt,!0,!1,i.split(""));var s=k().slice();st=s.join(""),N(s)===!1&&o.clearIncomplete&&p(),o.clearMaskOnLostFocus&&document.activeElement!==rt&&(-1===f()?s=[]:B(s)),R(rt,s),document.activeElement===rt&&O(rt,A(f()))}}var st,rt,ot,at,lt,ht=!1,ct=!1,ut=!1,dt=!1,pt=!0,ft={on:function(i,n,s){var r=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=t.data(this,"_inputmask_opts");n?new e(n).mask(this):ft.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||o.tabThrough===!1&&i.keyCode===e.keyCode.TAB))){switch(i.type){case"input":if(ut===!0)return ut=!1,i.preventDefault();break;case"keydown":ct=!1,ut=!1;break;case"keypress":if(ct===!0)return i.preventDefault();ct=!0;break;case"click":if(c){var r=this;return setTimeout(function(){s.apply(r,arguments)},0),!1}}var a=s.apply(this,arguments);return a===!1&&(i.preventDefault(),i.stopPropagation()),a}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(r),-1!==t.inArray(n,["submit","reset"])?null!=i.form&&t(i.form).on(n,r):t(i).on(n,r)},off:function(e,i){if(e.inputmask&&e.inputmask.events){var n;i?(n=[],n[i]=e.inputmask.events[i]):n=e.inputmask.events,t.each(n,function(i,n){for(;n.length>0;){var s=n.pop();-1!==t.inArray(i,["submit","reset"])?null!=e.form&&t(e.form).off(i,s):t(e).off(i,s)}delete e.inputmask.events[i]})}}};if(void 0!==s)switch(s.action){case"isComplete":return rt=s.el,N(k());case"unmaskedvalue":return rt=s.el,void 0!==rt&&void 0!==rt.inputmask?(r=rt.inputmask.maskset,o=rt.inputmask.opts,ht=rt.inputmask.isRTL):(lt=s.value,o.numericInput&&(ht=!0),lt=(t.isFunction(o.onBeforeMask)?o.onBeforeMask(lt,o)||lt:lt).split(""),$(void 0,!1,!1,ht?lt.reverse():lt),t.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,k(),0,o)),L(rt);case"mask":rt=s.el,r=rt.inputmask.maskset,o=rt.inputmask.opts,ht=rt.inputmask.isRTL,st=k().join(""),nt(rt);break;case"format":return o.numericInput&&(ht=!0),lt=(t.isFunction(o.onBeforeMask)?o.onBeforeMask(s.value,o)||s.value:s.value).split(""),$(void 0,!1,!1,ht?lt.reverse():lt),t.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,k(),0,o),s.metadata?{value:ht?k().slice().reverse().join(""):k().join(""),metadata:a({action:"getmetadata"},r,o)}:ht?k().slice().reverse().join(""):k().join("");case"isValid":o.numericInput&&(ht=!0),s.value?(lt=s.value.split(""),$(void 0,!1,!0,ht?lt.reverse():lt)):s.value=k().join("");for(var gt=k(),mt=F(),vt=gt.length-1;vt>mt&&!E(vt);vt--);return gt.splice(mt,vt+1-mt),N(gt)&&s.value===k().join("");case"getemptymask":return S().join("");case"remove":rt=s.el,ot=t(rt),r=rt.inputmask.maskset,o=rt.inputmask.opts,rt.inputmask._valueSet(L(rt)),ft.off(rt);var yt;Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(yt=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(rt),"value"),yt&&rt.inputmask.__valueGet&&Object.defineProperty(rt,"value",{get:rt.inputmask.__valueGet,set:rt.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&rt.__lookupGetter__("value")&&rt.inputmask.__valueGet&&(rt.__defineGetter__("value",rt.inputmask.__valueGet),rt.__defineSetter__("value",rt.inputmask.__valueSet)),rt.inputmask=void 0;break;case"getmetadata":if(t.isArray(r.metadata)){for(var bt,wt=f(void 0,!0),xt=wt;xt>=0;xt--)if(d().validPositions[xt]&&void 0!==d().validPositions[xt].alternation){bt=d().validPositions[xt].alternation;break}return void 0!==bt?r.metadata[d().validPositions[xt].locator[bt]]:[]}return r.metadata}}e.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,i){return t.isFunction(i.onBeforeMask)?i.onBeforeMask(e,i):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:t.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1},masksCache:{},mask:function(i){var n=this;return"string"==typeof i&&(i=document.getElementById(i)||document.querySelectorAll(i)),i=i.nodeName?[i]:i,t.each(i,function(i,s){var l=t.extend(!0,{},n.opts);r(s,l,t.extend(!0,{},n.userOptions));var h=o(l,n.noMasksCache);void 0!==h&&(void 0!==s.inputmask&&s.inputmask.remove(),s.inputmask=new e,s.inputmask.opts=l,s.inputmask.noMasksCache=n.noMasksCache,s.inputmask.userOptions=t.extend(!0,{},n.userOptions),s.inputmask.el=s,s.inputmask.maskset=h,s.inputmask.isRTL=!1,t.data(s,"_inputmask_opts",l),a({action:"mask",el:s}))}),i&&i[0]?i[0].inputmask||this:this},option:function(e){return"string"==typeof e?this.opts[e]:"object"==typeof e?(t.extend(this.opts,e),t.extend(this.userOptions,e),this.el&&(void 0!==e.mask||void 0!==e.alias?this.mask(this.el):(t.data(this.el,"_inputmask_opts",this.opts),a({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(t){return a({action:"unmaskedvalue",el:this.el,value:t},this.el&&this.el.inputmask?this.el.inputmask.maskset:o(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(a({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return a({action:"getemptymask"},this.maskset||o(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return a({action:"isComplete",el:this.el},this.maskset||o(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return a({action:"getmetadata"},this.maskset||o(this.opts,this.noMasksCache),this.opts)},isValid:function(t){return a({action:"isValid",value:t},this.maskset||o(this.opts,this.noMasksCache),this.opts)},format:function(t,e){return a({action:"format",value:t,metadata:e},this.maskset||o(this.opts,this.noMasksCache),this.opts)}},e.extendDefaults=function(i){t.extend(!0,e.prototype.defaults,i)},e.extendDefinitions=function(i){t.extend(!0,e.prototype.defaults.definitions,i)},e.extendAliases=function(i){t.extend(!0,e.prototype.defaults.aliases,i)},e.format=function(t,i,n){return e(i).format(t,n)},e.unmask=function(t,i){return e(i).unmaskedvalue(t)},e.isValid=function(t,i){return e(i).isValid(t)},e.remove=function(e){t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},e.escapeRegex=function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},e.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var l=navigator.userAgent,h=/mobile/i.test(l),c=/iemobile/i.test(l),u=/iphone/i.test(l)&&!c;return/android.*safari.*/i.test(l)&&!c,window.Inputmask=e,e}(jQuery),function(t,e){return void 0===t.fn.inputmask&&(t.fn.inputmask=function(i,n){var s,r=this[0];if(void 0===n&&(n={}),"string"==typeof i)switch(i){case"unmaskedvalue":return r&&r.inputmask?r.inputmask.unmaskedvalue():t(r).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return r&&r.inputmask?r.inputmask.getemptymask():"";case"hasMaskedValue":return!(!r||!r.inputmask)&&r.inputmask.hasMaskedValue();case"isComplete":return!r||!r.inputmask||r.inputmask.isComplete();case"getmetadata":return r&&r.inputmask?r.inputmask.getmetadata():void 0;case"setvalue":t(r).val(n),r&&void 0!==r.inputmask&&t(r).triggerHandler("setvalue");break;case"option":if("string"!=typeof n)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void 0});if(r&&void 0!==r.inputmask)return r.inputmask.option(n);break;default:return n.alias=i,s=new e(n),this.each(function(){s.mask(this)})}else{if("object"==typeof i)return s=new e(i),void 0===i.mask&&void 0===i.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void s.mask(this)}):this.each(function(){s.mask(this)});if(void 0===i)return this.each(function(){s=new e(n),s.mask(this)})}}),t.fn.inputmask}(jQuery,Inputmask),function(t,e){return e.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+i+"[01])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+i+"(0[1-9]|1[012]))|(30"+i+"(0[13-9]|1[012]))|(31"+i+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,i){if(isNaN(t))return!1;var n=parseInt(t.concat(e.toString().slice(t.length))),s=parseInt(t.concat(i.toString().slice(t.length)));return!isNaN(n)&&(n>=e&&i>=n)||!isNaN(s)&&(s>=e&&i>=s)},determinebaseyear:function(t,e,i){var n=(new Date).getFullYear();if(t>n)return t;if(n>e){for(var s=e.toString().slice(0,2),r=e.toString().slice(2,4);s+i>e;)s--;var o=s+r;return t>o?t:o}if(n>=t&&e>=n){for(var a=n.toString().slice(0,2);a+i>e;)a--;var l=a+i;return t>l?t:l}return n},onKeyDown:function(i,n,s,r){var o=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var a=new Date;o.val(a.getDate().toString()+(a.getMonth()+1).toString()+a.getFullYear().toString()),o.trigger("setvalue")}},getFrontValue:function(t,e,i){for(var n=0,s=0,r=0;r<t.length&&"2"!==t.charAt(r);r++){var o=i.definitions[t.charAt(r)];o?(n+=s,s=o.cardinality):s++}return e.join("").substr(n,s)},definitions:{1:{validator:function(t,e,i,n,s){var r=s.regex.val1.test(t);return n||r||t.charAt(1)!==s.separator&&-1==="-./".indexOf(t.charAt(1))||!(r=s.regex.val1.test("0"+t.charAt(0)))?r:(e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){var r=t;isNaN(e.buffer[i+1])||(r+=e.buffer[i+1]);var o=1===r.length?s.regex.val1pre.test(r):s.regex.val1.test(r);if(!n&&!o){if(o=s.regex.val1.test(t+"0"))return e.buffer[i]=t,e.buffer[++i]="0",{pos:i,c:"0"};if(o=s.regex.val1.test("0"+t))return e.buffer[i]="0",i++,{pos:i}}return o},cardinality:1}]},2:{validator:function(t,e,i,n,s){var r=s.getFrontValue(e.mask,e.buffer,s);-1!==r.indexOf(s.placeholder[0])&&(r="01"+s.separator);var o=s.regex.val2(s.separator).test(r+t);if(!n&&!o&&(t.charAt(1)===s.separator||-1!=="-./".indexOf(t.charAt(1)))&&(o=s.regex.val2(s.separator).test(r+"0"+t.charAt(0))))return e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)};if(s.mask.indexOf("2")===s.mask.length-1&&o){var a=e.buffer.join("").substr(4,4)+t;if(a!==s.leapday)return!0;var l=parseInt(e.buffer.join("").substr(0,4),10);return l%4===0&&(l%100!==0||l%400===0)}return o},cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){isNaN(e.buffer[i+1])||(t+=e.buffer[i+1]);var r=s.getFrontValue(e.mask,e.buffer,s);-1!==r.indexOf(s.placeholder[0])&&(r="01"+s.separator);var o=1===t.length?s.regex.val2pre(s.separator).test(r+t):s.regex.val2(s.separator).test(r+t);return n||o||!(o=s.regex.val2(s.separator).test(r+"0"+t))?o:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(t,e,i,n,s){if(s.isInYearRange(t,s.yearrange.minyear,s.yearrange.maxyear)){var r=e.buffer.join("").substr(0,6);if(r!==s.leapday)return!0;var o=parseInt(t,10);return o%4===0&&(o%100!==0||o%400===0)}return!1},cardinality:4,prevalidator:[{validator:function(t,e,i,n,s){var r=s.isInYearRange(t,s.yearrange.minyear,s.yearrange.maxyear);if(!n&&!r){var o=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear,t+"0").toString().slice(0,1);if(r=s.isInYearRange(o+t,s.yearrange.minyear,s.yearrange.maxyear))return e.buffer[i++]=o.charAt(0),{pos:i};if(o=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear,t+"0").toString().slice(0,2),r=s.isInYearRange(o+t,s.yearrange.minyear,s.yearrange.maxyear))return e.buffer[i++]=o.charAt(0),e.buffer[i++]=o.charAt(1),{pos:i}}return r},cardinality:1},{validator:function(t,e,i,n,s){var r=s.isInYearRange(t,s.yearrange.minyear,s.yearrange.maxyear);if(!n&&!r){var o=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear,t).toString().slice(0,2);if(r=s.isInYearRange(t[0]+o[1]+t[1],s.yearrange.minyear,s.yearrange.maxyear))return e.buffer[i++]=o.charAt(1),{pos:i};if(o=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear,t).toString().slice(0,2),s.isInYearRange(o+t,s.yearrange.minyear,s.yearrange.maxyear)){var a=e.buffer.join("").substr(0,6);if(a!==s.leapday)r=!0;else{var l=parseInt(t,10);r=l%4===0&&(l%100!==0||l%400===0)}}else r=!1;if(r)return e.buffer[i-1]=o.charAt(0),e.buffer[i++]=o.charAt(1),e.buffer[i++]=t.charAt(0),{refreshFromBuffer:{start:i-3,end:i},pos:i}}return r},cardinality:2},{validator:function(t,e,i,n,s){return s.isInYearRange(t,s.yearrange.minyear,s.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i,n,s,r){var o=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var a=new Date;o.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),o.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(i,n,s,r){var o=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var a=new Date;o.val(a.getFullYear().toString()+(a.getMonth()+1).toString()+a.getDate().toString()),o.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,i,n,s){if("24"===s.hourFormat&&24===parseInt(t,10))return e.buffer[i-1]="0",e.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"};var r=s.regex.hrs.test(t);if(!n&&!r&&(t.charAt(1)===s.timeseparator||-1!=="-.:".indexOf(t.charAt(1)))&&(r=s.regex.hrs.test("0"+t.charAt(0))))return e.buffer[i-1]="0",e.buffer[i]=t.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:s.timeseparator};if(r&&"24"!==s.hourFormat&&s.regex.hrs24.test(t)){var o=parseInt(t,10);return 24===o?(e.buffer[i+5]="a",e.buffer[i+6]="m"):(e.buffer[i+5]="p",e.buffer[i+6]="m"),o-=12,10>o?(e.buffer[i]=o.toString(),e.buffer[i-1]="0"):(e.buffer[i]=o.toString().charAt(1),e.buffer[i-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:e.buffer[i]}}return r},cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){var r=s.regex.hrspre.test(t);return n||r||!(r=s.regex.hrs.test("0"+t))?r:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){var r=s.regex.mspre.test(t);return n||r||!(r=s.regex.ms.test("0"+t))?r:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(t,e,i,n,s){return s.regex.ampm.test(t+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i,n,s,r){var o=t(this);if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){var a=new Date;o.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),o.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"[0-3])")},val2:function(t){var i=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+i+"30)|((0[1-6])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),e}(jQuery,Inputmask),function(t,e){return e.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),e.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(t,e,i,n,s){return i-1>-1&&"."!==e.buffer[i-1]?(t=e.buffer[i-1]+t,t=i-2>-1&&"."!==e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):t="00"+t,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t)},cardinality:1}},onUnMask:function(t,e,i){return t}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}[.-{1,63}][.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(t,e){return t=t.toLowerCase(),t.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(t,e,i){return t}},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),e}(jQuery,Inputmask),function(t,e){return e.extendAliases({numeric:{mask:function(t){function e(e){for(var i="",n=0;n<e.length;n++)i+=t.definitions[e.charAt(n)]||t.optionalmarker.start===e.charAt(n)||t.optionalmarker.end===e.charAt(n)||t.quantifiermarker.start===e.charAt(n)||t.quantifiermarker.end===e.charAt(n)||t.groupmarker.start===e.charAt(n)||t.groupmarker.end===e.charAt(n)||t.alternatormarker===e.charAt(n)?"\\"+e.charAt(n):e.charAt(n);return i}if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator===t.radixPoint&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.autoGroup=t.autoGroup&&""!==t.groupSeparator,t.autoGroup&&("string"==typeof t.groupSize&&isFinite(t.groupSize)&&(t.groupSize=parseInt(t.groupSize)),isFinite(t.integerDigits))){var i=Math.floor(t.integerDigits/t.groupSize),n=t.integerDigits%t.groupSize;t.integerDigits=parseInt(t.integerDigits)+(0===n?i-1:i),t.integerDigits<1&&(t.integerDigits="*")}t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),t.radixFocus=t.radixFocus&&""!==t.placeholder&&t.integerOptional===!0,t.definitions[";"]=t.definitions["~"],t.definitions[";"].definitionSymbol="~",t.numericInput===!0&&(t.radixFocus=!1,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t.decimalProtect=!1);var s=e(t.prefix);return s+="[+]",s+=t.integerOptional===!0?"~{1,"+t.integerDigits+"}":"~{"+t.integerDigits+"}",void 0!==t.digits&&(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.decimalProtect&&(t.radixPointDefinitionSymbol=":"),s+=t.digitsOptional?"["+(t.decimalProtect?":":t.radixPoint)+";{1,"+t.digits+"}]":(t.decimalProtect?":":t.radixPoint)+";{"+t.digits+"}"),s+="[-]",s+=e(t.suffix),t.greedy=!1,s},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(i,n,s){s.numericInput===!0&&(i=i.reverse(),isFinite(n)&&(n=i.join("").length-n-1));var r,o,a=!1;i.length>=s.suffix.length&&i.join("").indexOf(s.suffix)===i.length-s.suffix.length&&(i.length=i.length-s.suffix.length,a=!0),n=n>=i.length?i.length-1:n<s.prefix.length?s.prefix.length:n;var l=!1,h=i[n],c=i.slice();h===s.groupSeparator&&(c.splice(n--,1),h=c[n]),h!==s.radixPoint&&h!==s.negationSymbol.front&&h!==s.negationSymbol.back&&(c[n]="?");var u=c.join(""),d=u;if(u.length>0&&s.autoGroup||-1!==u.indexOf(s.groupSeparator)){var p=e.escapeRegex(s.groupSeparator);l=0===u.indexOf(s.groupSeparator),u=u.replace(new RegExp(p,"g"),"");var f=u.split(s.radixPoint);if(u=""===s.radixPoint?u:f[0],u!==s.prefix+"?0"&&u.length>=s.groupSize+s.prefix.length)for(var g=new RegExp("([-+]?[\\d?]+)([\\d?]{"+s.groupSize+"})");g.test(u)&&""!==s.groupSeparator;)u=u.replace(g,"$1"+s.groupSeparator+"$2"),u=u.replace(s.groupSeparator+s.groupSeparator,s.groupSeparator);""!==s.radixPoint&&f.length>1&&(u+=s.radixPoint+f[1])}for(l=d!==u,i.length=u.length,r=0,o=u.length;o>r;r++)i[r]=u.charAt(r);var m=t.inArray("?",i);if(-1===m&&(m=t.inArray(h,i)),i[m]=h,!l&&a)for(r=0,o=s.suffix.length;o>r;r++)i.push(s.suffix.charAt(r));return m=s.numericInput&&isFinite(n)?i.join("").length-m-1:m,s.numericInput&&(i=i.reverse(),t.inArray(s.radixPoint,i)<m&&i.join("").length-s.suffix.length!==m&&(m-=1)),{pos:m,refreshFromBuffer:l,buffer:i}},onBeforeWrite:function(i,n,s,r){var o;if(i&&("blur"===i.type||"checkval"===i.type||"keydown"===i.type)){var a=r.numericInput?n.slice().reverse().join(""):n.join(""),l=a.replace(r.prefix,"");l=l.replace(r.suffix,""),l=l.replace(new RegExp(e.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(l=l.replace(r.radixPoint,"."));var h=l.match(new RegExp("[-"+e.escapeRegex(r.negationSymbol.front)+"]","g"));if(h=null!==h&&1===h.length,l=l.replace(new RegExp("[-"+e.escapeRegex(r.negationSymbol.front)+"]","g"),""),l=l.replace(new RegExp(e.escapeRegex(r.negationSymbol.back)+"$"),""),l=l===r.negationSymbol.front?l+"0":l,""!==l&&isFinite(l)){var c=parseFloat(l),u=h?-1*c:c;if(null!==r.min&&isFinite(r.min)&&u<parseFloat(r.min)?(c=Math.abs(r.min),h=r.min<0):null!==r.max&&isFinite(r.max)&&u>parseFloat(r.max)&&(c=Math.abs(r.max),h=r.max<0),l=c.toString().replace(".",r.radixPoint).split(""),isFinite(r.digits)){var d=t.inArray(r.radixPoint,l),p=t.inArray(r.radixPoint,a);-1===d&&(l.push(r.radixPoint),d=l.length-1);for(var f=1;f<=r.digits;f++)r.digitsOptional||void 0!==l[d+f]&&l[d+f]!==r.placeholder.charAt(0)?-1!==p&&void 0!==a[p+f]&&(l[d+f]=l[d+f]||a[p+f]):l[d+f]="0";l[l.length-1]===r.radixPoint&&delete l[l.length-1]}if(c.toString()!==l&&c.toString()+"."!==l||h)return!h||0===c&&"blur"===i.type||(l.unshift(r.negationSymbol.front),l.push(r.negationSymbol.back)),l=(r.prefix+l.join("")).split(""),r.numericInput&&(l=l.reverse()),o=r.postFormat(l,r.numericInput?s:s-1,r),o.buffer&&(o.refreshFromBuffer=o.buffer.join("")!==n.join("")),o}}return r.autoGroup?(o=r.postFormat(n,r.numericInput?s:s-1,r),o.caret=s<=r.prefix.length?o.pos:o.pos+1,o):void 0},regex:{integerPart:function(t){return new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.escapeRegex(t.groupSeparator)+e.escapeRegex(t.placeholder.charAt(0))+"]+")}},signHandler:function(t,e,i,n,s){if(!n&&s.allowMinus&&"-"===t||s.allowPlus&&"+"===t){var r=e.buffer.join("").match(s.regex.integerPart(s));if(r&&r[0].length>0)return e.buffer[r.index]===("-"===t?"+":s.negationSymbol.front)?"-"===t?""!==s.negationSymbol.back?{pos:r.index,c:s.negationSymbol.front,remove:r.index,caret:i,insert:{pos:e.buffer.length-s.suffix.length-1,c:s.negationSymbol.back}}:{pos:r.index,c:s.negationSymbol.front,remove:r.index,caret:i}:""!==s.negationSymbol.back?{pos:r.index,c:"+",remove:[r.index,e.buffer.length-s.suffix.length-1],caret:i}:{pos:r.index,c:"+",remove:r.index,caret:i}:e.buffer[r.index]===("-"===t?s.negationSymbol.front:"+")?"-"===t&&""!==s.negationSymbol.back?{remove:[r.index,e.buffer.length-s.suffix.length-1],caret:i-1}:{remove:r.index,caret:i-1}:"-"===t?""!==s.negationSymbol.back?{pos:r.index,c:s.negationSymbol.front,caret:i+1,insert:{pos:e.buffer.length-s.suffix.length,c:s.negationSymbol.back}}:{pos:r.index,c:s.negationSymbol.front,caret:i+1}:{pos:r.index,c:t,caret:i+1}}return!1},radixHandler:function(e,i,n,s,r){if(!s&&r.numericInput!==!0&&e===r.radixPoint&&void 0!==r.digits&&(isNaN(r.digits)||parseInt(r.digits)>0)){var o=t.inArray(r.radixPoint,i.buffer),a=i.buffer.join("").match(r.regex.integerPart(r));if(-1!==o&&i.validPositions[o])return i.validPositions[o-1]?{caret:o+1}:{pos:a.index,c:a[0],caret:o+1};if(!a||"0"===a[0]&&a.index+1!==n)return i.buffer[a?a.index:n]="0",{pos:(a?a.index:n)+1,c:r.radixPoint}}return!1},leadingZeroHandler:function(e,i,n,s,r,o){if(!s)if(r.numericInput===!0){var a=i.buffer.slice("").reverse(),l=a[r.prefix.length];if("0"===l)return{pos:n,remove:a.length-r.prefix.length-1}}else{var h=t.inArray(r.radixPoint,i.buffer),c=i.buffer.slice(0,-1!==h?h:void 0).join("").match(r.regex.integerNPart(r));
if(c&&(-1===h||h>=n)){var u=-1===h?0:parseInt(i.buffer.slice(h+1).join(""));if(0===c[0].indexOf(""!==r.placeholder?r.placeholder.charAt(0):"0")&&(c.index+1===n||o!==!0&&0===u))return i.buffer.splice(c.index,1),n=c.index,{pos:n,remove:c.index};if("0"===e&&n<=c.index&&c[0]!==r.groupSeparator)return!1}}return!0},definitions:{"~":{validator:function(i,n,s,r,o,a){var l=o.signHandler(i,n,s,r,o);if(!l&&(l=o.radixHandler(i,n,s,r,o),!l&&(l=r?new RegExp("[0-9"+e.escapeRegex(o.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i),l===!0&&(l=o.leadingZeroHandler(i,n,s,r,o,a),l===!0)))){var h=t.inArray(o.radixPoint,n.buffer);l=-1!==h&&(o.digitsOptional===!1||n.validPositions[s])&&o.numericInput!==!0&&s>h&&!r?{pos:s,remove:s}:{pos:s}}return l},cardinality:1},"+":{validator:function(t,e,i,n,s){var r=s.signHandler(t,e,i,n,s);return!r&&(n&&s.allowMinus&&t===s.negationSymbol.front||s.allowMinus&&"-"===t||s.allowPlus&&"+"===t)&&(r=!(!n&&"-"===t)||(""!==s.negationSymbol.back?{pos:i,c:"-"===t?s.negationSymbol.front:"+",caret:i+1,insert:{pos:e.buffer.length,c:s.negationSymbol.back}}:{pos:i,c:"-"===t?s.negationSymbol.front:"+",caret:i+1})),r},cardinality:1,placeholder:""},"-":{validator:function(t,e,i,n,s){var r=s.signHandler(t,e,i,n,s);return!r&&n&&s.allowMinus&&t===s.negationSymbol.back&&(r=!0),r},cardinality:1,placeholder:""},":":{validator:function(t,i,n,s,r){var o=r.signHandler(t,i,n,s,r);if(!o){var a="["+e.escapeRegex(r.radixPoint)+"]";o=new RegExp(a).test(t),o&&i.validPositions[n]&&i.validPositions[n].match.placeholder===r.radixPoint&&(o={caret:n+1})}return o?{c:r.radixPoint}:o},cardinality:1,placeholder:function(t){return t.radixPoint}}},onUnMask:function(t,i,n){var s=t.replace(n.prefix,"");return s=s.replace(n.suffix,""),s=s.replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==s.indexOf(n.radixPoint)&&(s=s.replace(e.escapeRegex.call(this,n.radixPoint),".")),Number(s)):s},isComplete:function(t,i){var n=t.join(""),s=t.slice();if(i.postFormat(s,0,i),s.join("")!==n)return!1;var r=n.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(r=r.replace(e.escapeRegex(i.radixPoint),".")),isFinite(r)},onBeforeMask:function(t,i){if(""!==i.radixPoint&&isFinite(t))t=t.toString().replace(".",i.radixPoint);else{var n=t.match(/,/g),s=t.match(/\./g);s&&n?s.length>n.length?(t=t.replace(/\./g,""),t=t.replace(",",i.radixPoint)):n.length>s.length?(t=t.replace(/,/g,""),t=t.replace(".",i.radixPoint)):t=t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t=t.replace(/,/g,""):t=t.replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),"")}if(0===i.digits&&(-1!==t.indexOf(".")?t=t.substring(0,t.indexOf(".")):-1!==t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==t.indexOf(i.radixPoint)){var r=t.split(i.radixPoint),o=r[1].match(new RegExp("\\d*"))[0];if(parseInt(i.digits)<o.toString().length){var a=Math.pow(10,parseInt(i.digits));t=t.replace(e.escapeRegex(i.radixPoint),"."),t=Math.round(parseFloat(t)*a)/a,t=t.toString().replace(".",i.radixPoint)}}return t.toString()},canClearPosition:function(t,e,i,n,s){var r=t.validPositions[e].input,o=r!==s.radixPoint||null!==t.validPositions[e].match.fn&&s.decimalProtect===!1||isFinite(r)||e===i||r===s.groupSeparator||r===s.negationSymbol.front||r===s.negationSymbol.back;return o},onKeyDown:function(i,n,s,r){var o=t(this);if(i.ctrlKey)switch(i.keyCode){case e.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),o.trigger("setvalue");break;case e.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),e}(jQuery,Inputmask),function(t,e){return e.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",phoneCodeCache:{},mask:function(e){if(void 0===e.phoneCodeCache[e.url]){var i=[];e.definitions["#"]=e.definitions[9],t.ajax({url:e.url,async:!1,type:"get",dataType:"json",success:function(t){i=t},error:function(t,i,n){alert(n+" - "+e.url)}}),e.phoneCodeCache[e.url]=i.sort(function(t,e){return(t.mask||t)<(e.mask||e)?-1:1})}return e.phoneCodeCache[e.url]},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(t,e){var i=t.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(i.indexOf(e.countrycode)>1||-1===i.indexOf(e.countrycode))&&(i="+"+e.countrycode+i),i}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),e}(jQuery,Inputmask),function(t,e){return e.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(t,e){return new RegExp(e.regex).test(t.join(""))},definitions:{r:{validator:function(e,i,n,s,r){function o(t,e){this.matches=[],this.isGroup=t||!1,this.isQuantifier=e||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function a(){var t,e,i=new o,n=[];for(r.regexTokens=[];t=r.tokenizer.exec(r.regex);)switch(e=t[0],e.charAt(0)){case"(":n.push(new o((!0)));break;case")":c=n.pop(),n.length>0?n[n.length-1].matches.push(c):i.matches.push(c);break;case"{":case"+":case"*":var s=new o((!1),(!0));e=e.replace(/[{}]/g,"");var a=e.split(","),l=isNaN(a[0])?a[0]:parseInt(a[0]),h=1===a.length?l:isNaN(a[1])?a[1]:parseInt(a[1]);if(s.quantifier={min:l,max:h},n.length>0){var u=n[n.length-1].matches;t=u.pop(),t.isGroup||(c=new o((!0)),c.matches.push(t),t=c),u.push(t),u.push(s)}else t=i.matches.pop(),t.isGroup||(c=new o((!0)),c.matches.push(t),t=c),i.matches.push(t),i.matches.push(s);break;default:n.length>0?n[n.length-1].matches.push(e):i.matches.push(e)}i.matches.length>0&&r.regexTokens.push(i)}function l(e,i){var n=!1;i&&(d+="(",f++);for(var s=0;s<e.matches.length;s++){var r=e.matches[s];if(r.isGroup===!0)n=l(r,!0);else if(r.isQuantifier===!0){var o=t.inArray(r,e.matches),a=e.matches[o-1],c=d;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!==d&&r.repeaterPart.length>d.length&&!(n=l(a,!0)););n=n||l(a,!0),n&&(r.repeaterPart=d),d=c+r.quantifier.max}else{for(var u=0,p=r.quantifier.max-1;p>u&&!(n=l(a,!0));u++);d=c+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!==r.matches)for(var g=0;g<r.length&&!(n=l(r[g],i));g++);else{var m;if("["==r.charAt(0)){m=d,m+=r;for(var v=0;f>v;v++)m+=")";var y=new RegExp("^("+m+")$");n=y.test(h)}else for(var b=0,w=r.length;w>b;b++)if("\\"!==r.charAt(b)){m=d,m+=r.substr(0,b+1),m=m.replace(/\|$/,"");for(var v=0;f>v;v++)m+=")";var y=new RegExp("^("+m+")$");if(n=y.test(h))break}d+=r}if(n)break}return i&&(d+=")",f--),n}var h,c,u=i.buffer.slice(),d="",p=!1,f=0;null===r.regexTokens&&a(),u.splice(n,0,e),h=u.join("");for(var g=0;g<r.regexTokens.length;g++){var m=r.regexTokens[g];if(p=l(m,m.isGroup))break}return p},cardinality:1}}}}),e}(jQuery,Inputmask),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){!function(t){"use strict";function e(e){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(i,function(){e=e.replace(this.re,this.ch)}),e}function i(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),s=new RegExp(i,"g"),r=null==t?"":""+t;return n.test(r)?r.replace(s,function(t){return e[t]}):r}function n(e,i){var n=arguments,r=e,o=i;[].shift.apply(n);var a,l=this.each(function(){var e=t(this);if(e.is("select")){var i=e.data("selectpicker"),l="object"==typeof r&&r;if(i){if(l)for(var h in l)l.hasOwnProperty(h)&&(i.options[h]=l[h])}else{var c=t.extend({},s.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),l);c.template=t.extend({},s.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,l.template),e.data("selectpicker",i=new s(this,c,o))}"string"==typeof r&&(a=i[r]instanceof Function?i[r].apply(i,n):i.options[r])}});return"undefined"!=typeof a?a:l}String.prototype.includes||!function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(n){}return i}(),i="".indexOf,n=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var s=n.length,r=String(e),o=r.length,a=arguments.length>1?arguments[1]:void 0,l=a?Number(a):0;l!=l&&(l=0);var h=Math.min(Math.max(l,0),s);return!(o+h>s)&&-1!=i.call(n,r,l)};e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),String.prototype.startsWith||!function(){var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(n){}return i}(),e={}.toString,i=function(t){if(null==this)throw new TypeError;var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var n=i.length,s=String(t),r=s.length,o=arguments.length>1?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var l=Math.min(Math.max(a,0),n);if(r+l>n)return!1;for(var h=-1;++h<r;)if(i.charCodeAt(l+h)!=s.charCodeAt(h))return!1;return!0};t?t(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(t,e,i){i=[];for(e in t)i.hasOwnProperty.call(t,e)&&i.push(e);return i}),t.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?("function"==typeof Event?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(t,!0,!1)),i.dispatchEvent(e)):(i.fireEvent&&(e=document.createEventObject(),e.eventType=t,i.fireEvent("on"+t,e)),this.trigger(t))},t.expr[":"].icontains=function(e,i,n){var s=t(e),r=(s.data("tokens")||s.text()).toUpperCase();return r.includes(n[3].toUpperCase())},t.expr[":"].ibegins=function(e,i,n){var s=t(e),r=(s.data("tokens")||s.text()).toUpperCase();return r.startsWith(n[3].toUpperCase())},t.expr[":"].aicontains=function(e,i,n){var s=t(e),r=(s.data("tokens")||s.data("normalizedText")||s.text()).toUpperCase();return r.includes(n[3].toUpperCase())},t.expr[":"].aibegins=function(e,i,n){var s=t(e),r=(s.data("tokens")||s.data("normalizedText")||s.text()).toUpperCase();return r.startsWith(n[3].toUpperCase())};var s=function(e,i,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=s.prototype.val,this.render=s.prototype.render,this.refresh=s.prototype.refresh,this.setStyle=s.prototype.setStyle,this.selectAll=s.prototype.selectAll,this.deselectAll=s.prototype.deselectAll,this.destroy=s.prototype.destroy,this.remove=s.prototype.remove,this.show=s.prototype.show,this.hide=s.prototype.hide,this.init()};s.VERSION="1.9.3",s.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},s.prototype={constructor:s,init:function(){var e=this,i=this.$element.attr("id");this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid").focus(),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",s=this.autofocus?" autofocus":"",r=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+i(this.options.liveSearchPlaceholder)+'"')+"></div>":"",a=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",h='<div class="btn-group bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+s+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+r+o+a+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return t(h)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menuInner[0].innerHTML=t},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var n=this,s=[],r=0,o=document.createElement("option"),a=-1,l=function(t,e,i,n){return"<li"+("undefined"!=typeof i&""!==i?' class="'+i+'"':"")+("undefined"!=typeof e&null!==e?' data-original-index="'+e+'"':"")+("undefined"!=typeof n&null!==n?'data-optgroup="'+n+'"':"")+">"+t+"</li>"},h=function(t,s,r,o){return'<a tabindex="0"'+("undefined"!=typeof s?' class="'+s+'"':"")+("undefined"!=typeof r?' style="'+r+'"':"")+(n.options.liveSearchNormalize?' data-normalized-text="'+e(i(t))+'"':"")+("undefined"!=typeof o||null!==o?' data-tokens="'+o+'"':"")+">"+t+'<span class="'+n.options.iconBase+" "+n.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(a--,!this.$element.find(".bs-title-option").length)){var c=this.$element[0];o.className="bs-title-option",o.appendChild(document.createTextNode(this.options.title)),o.value="",c.insertBefore(o,c.firstChild),void 0===t(c.options[c.selectedIndex]).attr("selected")&&(o.selected=!0)}return this.$element.find("option").each(function(e){var i=t(this);if(a++,!i.hasClass("bs-title-option")){var o=this.className||"",c=this.style.cssText,u=i.data("content")?i.data("content"):i.html(),d=i.data("tokens")?i.data("tokens"):null,p="undefined"!=typeof i.data("subtext")?'<small class="text-muted">'+i.data("subtext")+"</small>":"",f="undefined"!=typeof i.data("icon")?'<span class="'+n.options.iconBase+" "+i.data("icon")+'"></span> ':"",g=this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled;if(""!==f&&g&&(f="<span>"+f+"</span>"),n.options.hideDisabled&&g)return void a--;if(i.data("content")||(u=f+'<span class="text">'+u+p+"</span>"),"OPTGROUP"===this.parentNode.tagName&&i.data("divider")!==!0){var m=" "+this.parentNode.className||"";if(0===i.index()){r+=1;var v=this.parentNode.label,y="undefined"!=typeof i.parent().data("subtext")?'<small class="text-muted">'+i.parent().data("subtext")+"</small>":"",b=i.parent().data("icon")?'<span class="'+n.options.iconBase+" "+i.parent().data("icon")+'"></span> ':"";v=b+'<span class="text">'+v+y+"</span>",0!==e&&s.length>0&&(a++,s.push(l("",null,"divider",r+"div"))),a++,s.push(l(v,null,"dropdown-header"+m,r))}s.push(l(h(u,"opt "+o+m,c,d),e,"",r))}else i.data("divider")===!0?s.push(l("",e,"divider")):i.data("hidden")===!0?s.push(l(h(u,o,c,d),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(a++,s.push(l("",null,"divider",r+"div"))),s.push(l(h(u,o,c,d),e)));n.liObj[e]=a}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),s.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i,n=this;e!==!1&&this.$element.find("option").each(function(t){var e=n.findLis().eq(n.liObj[t]);n.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),n.setSelected(t,this.selected,e)}),this.tabIndex();var s=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,i=t(this),s=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return e=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"","undefined"!=typeof i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content"):s+i.html()+e}}).toArray(),r=this.multiple?s.join(this.options.multipleSeparator):s[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var o=this.options.selectedTextFormat.split(">");if(o.length>1&&s.length>o[1]||1==o.length&&s.length>=2){i=this.options.hideDisabled?", [disabled]":"";var a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s.length,a):this.options.countSelectedText;r=l.replace("{0}",s.length.toString()).replace("{1}",a.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r||(r="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",t.trim(r.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(r),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t?t:this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||this.options.size!==!1&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("ul"),r=document.createElement("li"),o=document.createElement("li"),a=document.createElement("a"),l=document.createElement("span"),h=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,d=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",s.className="dropdown-menu inner",r.className="divider",l.appendChild(document.createTextNode("Inner text")),a.appendChild(l),o.appendChild(a),s.appendChild(o),s.appendChild(r),h&&n.appendChild(h),c){var p=document.createElement("span");c.className="bs-searchbox",p.className="form-control",c.appendChild(p),n.appendChild(c)}u&&n.appendChild(u),n.appendChild(s),d&&n.appendChild(d),i.appendChild(n),document.body.appendChild(i);var f=a.offsetHeight,g=h?h.offsetHeight:0,m=c?c.offsetHeight:0,v=u?u.offsetHeight:0,y=d?d.offsetHeight:0,b=t(r).outerHeight(!0),w="function"==typeof getComputedStyle&&getComputedStyle(n),x=w?null:t(n),S=parseInt(w?w.paddingTop:x.css("paddingTop"))+parseInt(w?w.paddingBottom:x.css("paddingBottom"))+parseInt(w?w.borderTopWidth:x.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:x.css("borderBottomWidth")),k=S+parseInt(w?w.marginTop:x.css("marginTop"))+parseInt(w?w.marginBottom:x.css("marginBottom"))+2;document.body.removeChild(i),this.sizeInfo={liHeight:f,headerHeight:g,searchHeight:m,actionsHeight:v,doneButtonHeight:y,dividerHeight:b,menuPadding:S,menuExtras:k}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var e,i,n,s,r=this,o=this.$menu,a=this.$menuInner,l=t(window),h=this.$newElement[0].offsetHeight,c=this.sizeInfo.liHeight,u=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,f=this.sizeInfo.doneButtonHeight,g=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,v=this.sizeInfo.menuExtras,y=this.options.hideDisabled?".disabled":"",b=function(){n=r.$newElement.offset().top-l.scrollTop(),s=l.height()-n-h};if(b(),"auto"===this.options.size){var w=function(){var l,h=function(e,i){return function(n){return i?n.classList?n.classList.contains(e):t(n).hasClass(e):!(n.classList?n.classList.contains(e):t(n).hasClass(e))}},g=r.$menuInner[0].getElementsByTagName("li"),y=Array.prototype.filter?Array.prototype.filter.call(g,h("hidden",!1)):r.$lis.not(".hidden"),w=Array.prototype.filter?Array.prototype.filter.call(y,h("dropdown-header",!0)):y.filter(".dropdown-header");b(),e=s-v,r.options.container?(o.data("height")||o.data("height",o.height()),i=o.data("height")):i=o.height(),r.options.dropupAuto&&r.$newElement.toggleClass("dropup",n>s&&i>e-v),r.$newElement.hasClass("dropup")&&(e=n-v),l=y.length+w.length>3?3*c+v-2:0,o.css({"max-height":e+"px",overflow:"hidden","min-height":l+u+d+p+f+"px"}),a.css({"max-height":e-u-d-p-f-m+"px","overflow-y":"auto","min-height":Math.max(l-m,0)+"px"})};w(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",w),l.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",w)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(y).length>this.options.size){var x=this.$lis.not(".divider").not(y).children().slice(0,this.options.size).last().parent().index(),S=this.$lis.slice(0,x+1).filter(".divider").length;e=c*this.options.size+S*g+m,r.options.container?(o.data("height")||o.data("height",o.height()),i=o.data("height")):i=o.height(),r.options.dropupAuto&&this.$newElement.toggleClass("dropup",n>s&&i>e-v),o.css({"max-height":e+u+d+p+f+"px",overflow:"hidden","min-height":""}),a.css({"max-height":e-m+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),n=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,i,n=this,s=function(t){n.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,n.$bsContainer.css({top:e.top+i,left:e.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var e=t(this);n.isDisabled()||(s(n.$newElement),n.$bsContainer.appendTo(n.options.container).toggleClass("open",!e.hasClass("open")).append(n.$menu))}),t(window).on("resize scroll",function(){s(n.$newElement)}),this.$element.on("hide.bs.select",function(){n.$menu.data("height",n.$menu.height()),n.$bsContainer.detach()})},setSelected:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e)},setDisabled:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,i=t(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),i.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&i.data("spaceSelect")&&(t.preventDefault(),i.data("spaceSelect",!1))}),this.$button.on("click",function(){e.setSize(),e.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||e.options.size===!1)return;var i=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;i=i-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=i}}else e.$menuInner.find(".selected a").focus()})}),this.$menuInner.on("click","li a",function(i){var n=t(this),s=n.parent().data("originalIndex"),r=e.$element.val(),o=e.$element.prop("selectedIndex");if(e.multiple&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var a=e.$element.find("option"),l=a.eq(s),h=l.prop("selected"),c=l.parent("optgroup"),u=e.options.maxOptions,d=c.data("maxOptions")||!1;if(e.multiple){if(l.prop("selected",!h),e.setSelected(s,!h),n.blur(),u!==!1||d!==!1){var p=u<a.filter(":selected").length,f=d<c.find("option:selected").length;if(u&&p||d&&f)if(u&&1==u)a.prop("selected",!1),l.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(s,!0);else if(d&&1==d){c.find("option:selected").prop("selected",!1),l.prop("selected",!0);var g=n.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+g+'"]').removeClass("selected"),e.setSelected(s,!0)}else{var m="function"==typeof e.options.maxOptionsText?e.options.maxOptionsText(u,d):e.options.maxOptionsText,v=m[0].replace("{n}",u),y=m[1].replace("{n}",d),b=t('<div class="notify"></div>');m[2]&&(v=v.replace("{var}",m[2][u>1?0:1]),y=y.replace("{var}",m[2][d>1?0:1])),l.prop("selected",!1),e.$menu.append(b),u&&p&&(b.append(t("<div>"+v+"</div>")),e.$element.trigger("maxReached.bs.select")),d&&f&&(b.append(t("<div>"+y+"</div>")),e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(s,!1)},10),b.delay(750).fadeOut(300,function(){t(this).remove()})}}}else a.prop("selected",!1),l.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(s,!0);e.multiple?e.options.liveSearch&&e.$searchbox.focus():e.$button.focus(),(r!=e.$element.val()&&e.multiple||o!=e.$element.prop("selectedIndex")&&!e.multiple)&&(e.$element.triggerNative("change"),e.$element.trigger("changed.bs.select",[s,l.prop("selected"),h]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),e.options.liveSearch&&!t(i.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll(),e.$element.triggerNative("change")}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var n=this,s=t('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),s.parent().length&&s.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var r=n.$lis.not(".is-hidden").removeClass("hidden").children("a");r=n.options.liveSearchNormalize?r.not(":a"+n._searchStyle()+'("'+e(n.$searchbox.val())+'")'):r.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")'),
r.parent().addClass("hidden"),n.$lis.filter(".dropdown-header").each(function(){var e=t(this),i=e.data("optgroup");0===n.$lis.filter("[data-optgroup="+i+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),n.$lis.filter("[data-optgroup="+i+"div]").addClass("hidden"))});var o=n.$lis.not(".hidden");o.each(function(e){var i=t(this);i.hasClass("divider")&&(i.index()===o.first().index()||i.index()===o.last().index()||o.eq(e+1).hasClass("divider"))&&i.addClass("hidden")}),n.$lis.not(".hidden, .no-results").length?s.parent().length&&s.remove():(s.parent().length&&s.remove(),s.html(n.options.noneResultsText.replace("{0}",'"'+i(n.$searchbox.val())+'"')).show(),n.$menuInner.append(s))}else n.$lis.not(".is-hidden").removeClass("hidden"),s.parent().length&&s.remove();n.$lis.filter(".active").removeClass("active"),n.$searchbox.val()&&n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),t(this).focus()})},_searchStyle:function(){var t={begins:"ibegins",startsWith:"ibegins"};return t[this.options.liveSearchStyle]||"icontains"},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(e){"undefined"==typeof e&&(e=!0),this.findLis();for(var i=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",e),s=n.length,r=[],o=0;s>o;o++){var a=n[o].getAttribute("data-original-index");r[r.length]=i.eq(a)[0]}t(r).prop("selected",e),this.render(!1)},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},keydown:function(i){var n,s,r,o,a,l,h,c,u,d=t(this),p=d.is("input")?d.parent().parent():d.parent(),f=p.data("this"),g=":not(.disabled, .hidden, .dropdown-header, .divider)",m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=d.parent().parent()),f.options.container&&(p=f.$menu),n=t("[role=menu] li",p),u=f.$newElement.hasClass("open"),!u&&(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||i.keyCode>=65&&i.keyCode<=90)&&(f.options.container?f.$button.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),u=!0),f.$searchbox.focus()),f.options.liveSearch&&(/(^9$|27)/.test(i.keyCode.toString(10))&&u&&0===f.$menu.find(".active").length&&(i.preventDefault(),f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()),n=t("[role=menu] li"+g,p),d.val()||/(38|40)/.test(i.keyCode.toString(10))||0===n.filter(".active").length&&(n=f.$menuInner.find("li"),n=f.options.liveSearchNormalize?n.filter(":a"+f._searchStyle()+"("+e(m[i.keyCode])+")"):n.filter(":"+f._searchStyle()+"("+m[i.keyCode]+")"))),n.length){if(/(38|40)/.test(i.keyCode.toString(10)))s=n.index(n.find("a").filter(":focus").parent()),o=n.filter(g).first().index(),a=n.filter(g).last().index(),r=n.eq(s).nextAll(g).eq(0).index(),l=n.eq(s).prevAll(g).eq(0).index(),h=n.eq(r).prevAll(g).eq(0).index(),f.options.liveSearch&&(n.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),s=n.index(n.filter(".active")),o=n.first().data("index"),a=n.last().data("index"),r=n.eq(s).nextAll().eq(0).data("index"),l=n.eq(s).prevAll().eq(0).data("index"),h=n.eq(r).prevAll().eq(0).data("index")),c=d.data("prevIndex"),38==i.keyCode?(f.options.liveSearch&&s--,s!=h&&s>l&&(s=l),o>s&&(s=o),s==c&&(s=a)):40==i.keyCode&&(f.options.liveSearch&&s++,-1==s&&(s=0),s!=h&&r>s&&(s=r),s>a&&(s=a),s==c&&(s=o)),d.data("prevIndex",s),f.options.liveSearch?(i.preventDefault(),d.hasClass("dropdown-toggle")||(n.removeClass("active").eq(s).addClass("active").children("a").focus(),d.focus())):n.eq(s).children("a").focus();else if(!d.is("input")){var v,y,b=[];n.each(function(){t(this).hasClass("disabled")||t.trim(t(this).children("a").text().toLowerCase()).substring(0,1)==m[i.keyCode]&&b.push(t(this).index())}),v=t(document).data("keycount"),v++,t(document).data("keycount",v),y=t.trim(t(":focus").text().toLowerCase()).substring(0,1),y!=m[i.keyCode]?(v=1,t(document).data("keycount",v)):v>=b.length&&(t(document).data("keycount",0),v>b.length&&(v=1)),n.eq(b[v-1]).children("a").focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&f.options.selectOnTab)&&u){if(/(32)/.test(i.keyCode.toString(10))||i.preventDefault(),f.options.liveSearch)/(32)/.test(i.keyCode.toString(10))||(f.$menuInner.find(".active a").click(),d.focus());else{var w=t(":focus");w.click(),w.focus(),i.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(i.keyCode.toString(10))&&u&&(f.multiple||f.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!u)&&(f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var r=t.fn.selectpicker;t.fn.selectpicker=n,t.fn.selectpicker.Constructor=s,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=r,this},t(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',s.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);n.call(e,e.data())})})}(t)}),function(t){"use strict";function e(e,i){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=i&&i.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container);(this.inputSize<3?3:this.inputSize)+"em";this.build(i)}function i(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(t){return t[i]}}}function n(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(){return i}}}function s(t){return t?l.text(t).html():""}function r(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}function o(e,i){var n=!1;return t.each(i,function(t,i){if("number"==typeof i&&e.which===i)return n=!0,!1;if(e.which===i.which){var s=!i.hasOwnProperty("altKey")||e.altKey===i.altKey,r=!i.hasOwnProperty("shiftKey")||e.shiftKey===i.shiftKey,o=!i.hasOwnProperty("ctrlKey")||e.ctrlKey===i.ctrlKey;if(s&&r&&o)return n=!0,!1}}),n}var a={tagClass:function(t){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};e.prototype={constructor:e,add:function(e,i){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags)&&(e===!1||e)){if("string"==typeof e&&n.options.trimValue&&(e=t.trim(e)),"object"==typeof e&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&n.itemsArray.length>0&&n.remove(n.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var r=e.split(",");if(r.length>1){for(var o=0;o<r.length;o++)this.add(r[o],!0);return void(i||n.pushVal())}}var a=n.options.itemValue(e),l=n.options.itemText(e),h=n.options.tagClass(e),c=t.grep(n.itemsArray,function(t){return n.options.itemValue(t)===a})[0];if(!c||n.options.allowDuplicates){if(!(n.items().toString().length+e.length+1>n.options.maxInputLength)){var u=t.Event("beforeItemAdd",{item:e,cancel:!1});if(n.$element.trigger(u),!u.cancel){n.itemsArray.push(e);var d=t('<span class="tag '+s(h)+'">'+s(l)+'<span data-role="remove"></span></span>');if(d.data("item",e),n.findInputWrapper().before(d),d.after(" "),n.isSelect&&!t('option[value="'+encodeURIComponent(a)+'"]',n.$element)[0]){var p=t("<option selected>"+s(l)+"</option>");p.data("item",e),p.attr("value",a),n.$element.append(p)}i||n.pushVal(),n.options.maxTags!==n.itemsArray.length&&n.items().toString().length!==n.options.maxInputLength||n.$container.addClass("bootstrap-tagsinput-max"),n.$element.trigger(t.Event("itemAdded",{item:e}))}}}else if(n.options.onTagExists){var f=t(".tag",n.$container).filter(function(){return t(this).data("item")===c});n.options.onTagExists(e,f)}}}},remove:function(e,i){var n=this;if(n.objectItems&&(e="object"==typeof e?t.grep(n.itemsArray,function(t){return n.options.itemValue(t)==n.options.itemValue(e)}):t.grep(n.itemsArray,function(t){return n.options.itemValue(t)==e}),e=e[e.length-1]),e){var s=t.Event("beforeItemRemove",{item:e,cancel:!1});if(n.$element.trigger(s),s.cancel)return;t(".tag",n.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",n.$element).filter(function(){return t(this).data("item")===e}).remove(),t.inArray(e,n.itemsArray)!==-1&&n.itemsArray.splice(t.inArray(e,n.itemsArray),1)}i||n.pushVal(),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var i=t(this),n=i.data("item"),r=e.options.itemValue(n),o=e.options.itemText(n),a=e.options.tagClass(n);if(i.attr("class",null),i.addClass("tag "+s(a)),i.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=s(o),e.isSelect){var l=t("option",e.$element).filter(function(){return t(this).data("item")===n});l.attr("value",r)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,i=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(i,!0).trigger("change")},build:function(e){var s=this;if(s.options=t.extend({},a,e),s.objectItems&&(s.options.freeInput=!1),i(s.options,"itemValue"),i(s.options,"itemText"),n(s.options,"tagClass"),s.options.typeahead){var l=s.options.typeahead||{};n(l,"source"),s.$input.typeahead(t.extend({},l,{source:function(e,i){function n(t){for(var e=[],n=0;n<t.length;n++){var o=s.options.itemText(t[n]);r[o]=t[n],e.push(o)}i(e)}this.map={};var r=this.map,o=l.source(e);t.isFunction(o.success)?o.success(n):t.isFunction(o.then)?o.then(n):t.when(o).then(n)},updater:function(t){s.add(this.map[t])},matcher:function(t){return t.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(s.options.typeaheadjs){var h=s.options.typeaheadjs||{};s.$input.typeahead(null,h).on("typeahead:selected",t.proxy(function(t,e){h.valueKey?s.add(e[h.valueKey]):s.add(e),s.$input.typeahead("val","")},s))}s.$container.on("click",t.proxy(function(t){s.$element.attr("disabled")||s.$input.removeAttr("disabled"),s.$input.focus()},s)),s.options.addOnBlur&&s.options.freeInput&&s.$input.on("focusout",t.proxy(function(e){0===t(".typeahead, .twitter-typeahead",s.$container).length&&(s.add(s.$input.val()),s.$input.val(""))},s)),s.$container.on("keydown","input",t.proxy(function(e){var i=t(e.target),n=s.findInputWrapper();if(s.$element.attr("disabled"))return void s.$input.attr("disabled","disabled");switch(e.which){case 8:if(0===r(i[0])){var o=n.prev();o&&s.remove(o.data("item"))}break;case 46:if(0===r(i[0])){var a=n.next();a&&s.remove(a.data("item"))}break;case 37:var l=n.prev();0===i.val().length&&l[0]&&(l.before(n),i.focus());break;case 39:var h=n.next();0===i.val().length&&h[0]&&(h.after(n),i.focus())}var c=i.val().length;Math.ceil(c/5);i.attr("size",Math.max(this.inputSize,i.val().length+1))},s)),s.$container.on("keypress","input",t.proxy(function(e){var i=t(e.target);if(s.$element.attr("disabled"))return void s.$input.attr("disabled","disabled");var n=i.val(),r=s.options.maxChars&&n.length>=s.options.maxChars;s.options.freeInput&&(o(e,s.options.confirmKeys)||r)&&(s.add(r?n.substr(0,s.options.maxChars):n),i.val(""),e.preventDefault());var a=i.val().length;Math.ceil(a/5);i.attr("size",Math.max(this.inputSize,i.val().length+1))},s)),s.$container.on("click","[data-role=remove]",t.proxy(function(e){s.$element.attr("disabled")||s.remove(t(e.target).closest(".tag").data("item"))},s)),s.options.itemValue===a.itemValue&&("INPUT"===s.$element[0].tagName?s.add(s.$element.val()):t("option",s.$element).each(function(){s.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],i=this.$container[0];e&&e.parentNode!==i;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(i,n){var s=[];return this.each(function(){var r=t(this).data("tagsinput");if(r)if(i||n){if(void 0!==r[i]){var o=r[i](n);void 0!==o&&s.push(o)}}else s.push(r);else r=new e(this,i),t(this).data("tagsinput",r),s.push(r),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof i?s.length>1?s:s[0]:s},t.fn.tagsinput.Constructor=e;var l=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(){var t,e,i,n,s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b,w,x,S,k,C,D,T,_,E,M,A,I,P,R,H,$,L,O,F,B,N,j,z,W,Y,G,U,V,q,X=[].slice,K={}.hasOwnProperty,Q=function(t,e){function i(){this.constructor=t}for(var n in e)K.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},Z=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};for(w={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},E=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==A&&(A=function(t){return setTimeout(t,50)},b=function(t){return clearTimeout(t)}),P=function(t){var e,i;return e=E(),(i=function(){var n;return n=E()-e,n>=33?(e=E(),t(n,function(){return A(i)})):setTimeout(i,33-n)})()},I=function(){var t,e,i;return i=arguments[0],e=arguments[1],t=3<=arguments.length?X.call(arguments,2):[],"function"==typeof i[e]?i[e].apply(i,t):i[e]},x=function(){var t,e,i,n,s,r,o;for(e=arguments[0],n=2<=arguments.length?X.call(arguments,1):[],r=0,o=n.length;o>r;r++)if(i=n[r])for(t in i)K.call(i,t)&&(s=i[t],null!=e[t]&&"object"==typeof e[t]&&null!=s&&"object"==typeof s?x(e[t],s):e[t]=s);return e},m=function(t){var e,i,n,s,r;for(i=e=0,s=0,r=t.length;r>s;s++)n=t[s],i+=Math.abs(n),e++;return i/e},k=function(t,e){var i,n,s;if(null==t&&(t="options"),null==e&&(e=!0),s=document.querySelector("[data-pace-"+t+"]")){if(i=s.getAttribute("data-pace-"+t),!e)return i;try{return JSON.parse(i)}catch(r){return n=r,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},o=function(){function t(){}return t.prototype.on=function(t,e,i,n){var s;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(s=this.bindings)[t]&&(s[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:n})},t.prototype.once=function(t,e,i){return this.on(t,e,i,!0)},t.prototype.off=function(t,e){var i,n,s;if(null!=(null!=(n=this.bindings)?n[t]:void 0)){if(null==e)return delete this.bindings[t];for(i=0,s=[];i<this.bindings[t].length;)s.push(this.bindings[t][i].handler===e?this.bindings[t].splice(i,1):i++);return s}},t.prototype.trigger=function(){var t,e,i,n,s,r,o,a,l;if(i=arguments[0],t=2<=arguments.length?X.call(arguments,1):[],null!=(o=this.bindings)?o[i]:void 0){for(s=0,l=[];s<this.bindings[i].length;)a=this.bindings[i][s],n=a.handler,e=a.ctx,r=a.once,n.apply(null!=e?e:this,t),l.push(r?this.bindings[i].splice(s,1):s++);return l}},t}(),h=window.Pace||{},window.Pace=h,x(h,o.prototype),M=h.options=x({},w,window.paceOptions,k()),U=["ajax","document","eventLag","elements"],z=0,Y=U.length;Y>z;z++)L=U[z],M[L]===!0&&(M[L]=w[L]);l=function(t){function e(){return V=e.__super__.constructor.apply(this,arguments)}return Q(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(t=document.querySelector(M.target),!t)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,i,n,s,r,o;if(null==document.querySelector(M.target))return!1;for(t=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",o=["webkitTransform","msTransform","transform"],s=0,r=o.length;r>s;s++)e=o[s],t.children[0].style[e]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),t.children[0].setAttribute("data-progress",""+i)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),a=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var i,n,s,r,o;if(null!=this.bindings[t]){for(r=this.bindings[t],o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push(i.call(this,e));return o}},t.prototype.on=function(t,e){var i;return null==(i=this.bindings)[t]&&(i[t]=[]),this.bindings[t].push(e)},t}(),j=window.XMLHttpRequest,N=window.XDomainRequest,B=window.WebSocket,S=function(t,e){var i,n,s,r;r=[];for(n in e.prototype)try{s=e.prototype[n],r.push(null==t[n]&&"function"!=typeof s?t[n]=s:void 0)}catch(o){i=o}return r},T=[],h.ignore=function(){var t,e,i;return e=arguments[0],t=2<=arguments.length?X.call(arguments,1):[],T.unshift("ignore"),i=e.apply(null,t),T.shift(),i},h.track=function(){var t,e,i;return e=arguments[0],t=2<=arguments.length?X.call(arguments,1):[],T.unshift("track"),i=e.apply(null,t),T.shift(),i},$=function(t){var e;if(null==t&&(t="GET"),"track"===T[0])return"force";if(!T.length&&M.ajax){if("socket"===t&&M.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),Z.call(M.ajax.trackMethods,e)>=0)return!0}return!1},c=function(t){function e(){var t,i=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(n,s){return $(n)&&i.trigger("request",{type:n,url:s,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var i;return i=new j(e),t(i),i};try{S(window.XMLHttpRequest,j)}catch(n){}if(null!=N){window.XDomainRequest=function(){var e;return e=new N,t(e),e};try{S(window.XDomainRequest,N)}catch(n){}}if(null!=B&&M.ajax.trackWebSockets){window.WebSocket=function(t,e){var n;return n=null!=e?new B(t,e):new B(t),$("socket")&&i.trigger("request",{type:"socket",url:t,protocols:e,request:n}),n};try{S(window.WebSocket,B)}catch(n){}}}return Q(e,t),e}(a),W=null,C=function(){return null==W&&(W=new c),W},H=function(t){var e,i,n,s;for(s=M.ajax.ignoreURLs,i=0,n=s.length;n>i;i++)if(e=s[i],"string"==typeof e){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},C().on("request",function(e){var i,n,s,r,o;return r=e.type,s=e.request,o=e.url,H(o)?void 0:h.running||M.restartOnRequestAfter===!1&&"force"!==$(r)?void 0:(n=arguments,i=M.restartOnRequestAfter||0,"boolean"==typeof i&&(i=0),setTimeout(function(){var e,i,o,a,l,c;if(e="socket"===r?s.readyState<2:0<(a=s.readyState)&&4>a){for(h.restart(),l=h.sources,c=[],i=0,o=l.length;o>i;i++){if(L=l[i],L instanceof t){L.watch.apply(L,n);break}c.push(void 0)}return c}},i))}),t=function(){function t(){var t=this;this.elements=[],C().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,i,n,s;return n=t.type,e=t.request,s=t.url,H(s)?void 0:(i="socket"===n?new p(e):new f(e),this.elements.push(i))},t}(),f=function(){function t(t){var e,i,n,s,r,o,a=this;if(this.progress=0,null!=window.ProgressEvent)for(i=null,t.addEventListener("progress",function(t){return a.progress=t.lengthComputable?100*t.loaded/t.total:a.progress+(100-a.progress)/2},!1),o=["load","abort","timeout","error"],n=0,s=o.length;s>n;n++)e=o[n],t.addEventListener(e,function(){return a.progress=100},!1);else r=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?a.progress=100:3===t.readyState&&(a.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}return t}(),p=function(){function t(t){var e,i,n,s,r=this;for(this.progress=0,s=["error","open"],i=0,n=s.length;n>i;i++)e=s[i],t.addEventListener(e,function(){return r.progress=100},!1)}return t}(),n=function(){function t(t){var e,i,n,r;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),r=t.selectors,i=0,n=r.length;n>i;i++)e=r[i],this.elements.push(new s(e))}return t}(),s=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},M.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),i=function(){function t(){var t,e,i=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),r=function(){function t(){var t,e,i,n,s,r=this;this.progress=0,t=0,s=[],n=0,i=E(),e=setInterval(function(){var o;return o=E()-i-50,i=E(),s.push(o),s.length>M.eventLag.sampleCount&&s.shift(),t=m(s),++n>=M.eventLag.minSamples&&t<M.eventLag.lagThreshold?(r.progress=100,clearInterval(e)):r.progress=100*(3/(t+3))},50)}return t}(),d=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=M.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=I(this.source,"progress"))}return t.prototype.tick=function(t,e){var i;return null==e&&(e=I(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/M.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),i=1-Math.pow(this.progress/100,M.easeFactor),this.progress+=i*this.rate*t,this.progress=Math.min(this.lastProgress+M.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),O=null,R=null,v=null,F=null,g=null,y=null,h.running=!1,D=function(){return M.restartOnPushState?h.restart():void 0},null!=window.history.pushState&&(G=window.history.pushState,window.history.pushState=function(){return D(),G.apply(window.history,arguments)}),null!=window.history.replaceState&&(q=window.history.replaceState,window.history.replaceState=function(){return D(),q.apply(window.history,arguments)}),u={ajax:t,elements:n,document:i,eventLag:r},(_=function(){var t,i,n,s,r,o,a,l;for(h.sources=O=[],o=["ajax","elements","document","eventLag"],i=0,s=o.length;s>i;i++)t=o[i],M[t]!==!1&&O.push(new u[t](M[t]));for(l=null!=(a=M.extraSources)?a:[],n=0,r=l.length;r>n;n++)L=l[n],O.push(new L(M));return h.bar=v=new e,R=[],F=new d})(),h.stop=function(){return h.trigger("stop"),h.running=!1,v.destroy(),y=!0,null!=g&&("function"==typeof b&&b(g),g=null),_()},h.restart=function(){return h.trigger("restart"),h.stop(),h.start()},h.go=function(){var t;return h.running=!0,v.render(),t=E(),y=!1,g=P(function(e,i){var n,s,r,o,a,l,c,u,p,f,g,m,b,w,x,S;for(u=100-v.progress,s=g=0,r=!0,l=m=0,w=O.length;w>m;l=++m)for(L=O[l],f=null!=R[l]?R[l]:R[l]=[],a=null!=(S=L.elements)?S:[L],c=b=0,x=a.length;x>b;c=++b)o=a[c],p=null!=f[c]?f[c]:f[c]=new d(o),r&=p.done,p.done||(s++,g+=p.tick(e));return n=g/s,v.update(F.tick(e,n)),v.done()||r||y?(v.update(100),h.trigger("done"),setTimeout(function(){return v.finish(),h.running=!1,h.trigger("hide")},Math.max(M.ghostTime,Math.max(M.minTime-(E()-t),0)))):i()})},h.start=function(t){x(M,t),h.running=!0;try{v.render()}catch(e){l=e}return document.querySelector(".pace")?(h.trigger("start"),h.go()):setTimeout(h.start,50)},"function"==typeof define&&define.amd?define(function(){return h}):"object"==typeof exports?module.exports=h:M.startOnPageLoad&&h.start()}.call(this),!function(t){"use strict";function e(t){for(var e=window,i=t.split("."),n=i.pop(),s=0,r=i.length;r>s;s++)e=e[i[s]];return function(){e[n].call(this)}}if(!t.fn.popover)throw new Error("Confirmation requires popover.js");var i=function(e,i){i.trigger="click",this.init("confirmation",e,i),this.options._isDelegate=!1,i.selector?this.options._selector=this._options._selector=i._root_selector+" "+i.selector:i._selector?(this.options._selector=i._selector,this.options._isDelegate=!0):this.options._selector=i._root_selector;var n=this;this.options.selector||(this.options._attributes={},this.options.copyAttributes?"string"==typeof this.options.copyAttributes&&(this.options.copyAttributes=this.options.copyAttributes.split(" ")):this.options.copyAttributes=[],this.options.copyAttributes.forEach(function(t){this.options._attributes[t]=this.$element.attr(t)},this),this.$element.on(n.options.trigger,function(t,e){e||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),this.$element.on("show.bs.confirmation",function(e){n.options.singleton&&t(n.options._selector).not(t(this)).filter(function(){return void 0!==t(this).data("bs.confirmation")}).confirmation("hide")})),this.options._isDelegate||(this.eventBody=!1,this.uid=this.$element[0].id||this.getUID("group_"),this.$element.on("shown.bs.confirmation",function(e){n.options.popout&&!n.eventBody&&(t(this),n.eventBody=t("body").on("click.bs.confirmation."+n.uid,function(e){t(n.options._selector).is(e.target)||(t(n.options._selector).filter(function(){return void 0!==t(this).data("bs.confirmation")}).confirmation("hide"),t("body").off("click.bs."+n.uid),n.eventBody=!1)}))}))};i.DEFAULTS=t.extend({},t.fn.popover.Constructor.DEFAULTS,{placement:"top",title:"Are you sure?",html:!0,popout:!1,singleton:!1,copyAttributes:"href target",onConfirm:t.noop,onCancel:t.noop,btnOkClass:"btn-xs btn-primary",btnOkIcon:"glyphicon glyphicon-ok",btnOkLabel:"Yes",btnCancelClass:"btn-xs btn-default",btnCancelIcon:"glyphicon glyphicon-remove",btnCancelLabel:"No",template:'<div class="popover confirmation"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content text-center"><div class="btn-group"><a class="btn" data-apply="confirmation"></a><a class="btn" data-dismiss="confirmation"></a></div></div></div>'}),i.prototype=t.extend({},t.fn.popover.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this,i=this.tip(),n=this.options;i.find(".popover-title")[n.html?"html":"text"](this.getTitle()),i.find('[data-apply="confirmation"]').addClass(n.btnOkClass).html(n.btnOkLabel).attr(this.options._attributes).prepend(t("<i></i>").addClass(n.btnOkIcon)," ").off("click").one("click",function(t){e.getOnConfirm.call(e).call(e.$element),e.$element.trigger("confirmed.bs.confirmation"),e.$element.trigger(e.options.trigger,[!0]),e.$element.confirmation("hide")}),i.find('[data-dismiss="confirmation"]').addClass(n.btnCancelClass).html(n.btnCancelLabel).prepend(t("<i></i>").addClass(n.btnCancelIcon)," ").off("click").one("click",function(t){e.getOnCancel.call(e).call(e.$element),e.inState&&(e.inState.click=!1),e.$element.trigger("canceled.bs.confirmation"),e.$element.confirmation("hide")}),i.removeClass("fade top bottom left right in"),i.find(".popover-title").html()||i.find(".popover-title").hide()},i.prototype.getOnConfirm=function(){return this.$element.attr("data-on-confirm")?e(this.$element.attr("data-on-confirm")):this.options.onConfirm},i.prototype.getOnCancel=function(){return this.$element.attr("data-on-cancel")?e(this.$element.attr("data-on-cancel")):this.options.onCancel};var n=t.fn.confirmation;t.fn.confirmation=function(e){var n="object"==typeof e&&e||{};return n._root_selector=this.selector,this.each(function(){var s=t(this),r=s.data("bs.confirmation");(r||"destroy"!=e)&&(r||s.data("bs.confirmation",r=new i(this,n)),"string"==typeof e&&r[e]())})},t.fn.confirmation.Constructor=i,t.fn.confirmation.noConflict=function(){return t.fn.confirmation=n,this}}(jQuery),!function(t,e,i,n){"use strict";function s(e,i,n){var r,o=this,a="cbp";if(t.data(e,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");t.data(e,"cubeportfolio",o),o.options=t.extend({},t.fn.cubeportfolio.options,i),o.isAnimating=!0,o.defaultFilter=o.options.defaultFilter,o.registeredEvents=[],o.queue=[],o.addedWrapp=!1,t.isFunction(n)&&o.registerEvent("initFinish",n,!0),o.obj=e,o.$obj=t(e),r=o.$obj.children(),o.options.caption&&("expand"===o.options.caption||s["private"].modernBrowser||(o.options.caption="minimal"),a+=" cbp-caption-active cbp-caption-"+o.options.caption),o.$obj.addClass(a),(0===r.length||r.first().hasClass("cbp-item"))&&(o.wrapInner(o.obj,"cbp-wrapper"),o.addedWrapp=!0),o.$ul=o.$obj.children().addClass("cbp-wrapper"),o.wrapInner(o.obj,"cbp-wrapper-outer"),
o.wrapper=o.$obj.children(".cbp-wrapper-outer"),o.blocks=o.$ul.children(".cbp-item"),o.blocksOn=o.blocks,o.wrapInner(o.blocks,"cbp-item-wrapper"),o.plugins=t.map(s.plugins,function(t){return t(o)}),o.triggerEvent("afterPlugins"),o.loadImages(o.$obj,o.display)}t.extend(s.prototype,{storeData:function(e,i){var n=this;i=i||0,e.each(function(e,s){var r=t(s),o=r.width(),a=r.height();r.data("cbp",{index:i+e,wrapper:r.children(".cbp-item-wrapper"),widthInitial:o,heightInitial:a,width:o,height:a,widthAndGap:o+n.options.gapVertical,heightAndGap:a+n.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})})},wrapInner:function(t,e){var s,r,o;if(e=e||"",!(t.length&&t.length<1))for(t.length===n&&(t=[t]),r=t.length-1;r>=0;r--){for(s=t[r],o=i.createElement("div"),o.setAttribute("class",e);s.childNodes.length;)o.appendChild(s.childNodes[0]);s.appendChild(o)}},removeAttrImage:function(t){t.removeAttribute("width"),t.removeAttribute("height"),t.removeAttribute("style")},loadImages:function(e,i){var n=this;requestAnimationFrame(function(){var s=e.find("img").map(function(e,i){return i.hasAttribute("width")&&i.hasAttribute("height")?(i.style.width=i.getAttribute("width")+"px",i.style.height=i.getAttribute("height")+"px",i.hasAttribute("data-cbp-src")?null:(null===n.checkSrc(i.src)?n.removeAttrImage(i):t("<img>").on("load.cbp error.cbp",function(){n.removeAttrImage(i)}).attr("src",i.src),null)):n.checkSrc(i.src)}),r=s.length;return 0===r?void i.call(n):void t.each(s,function(e,s){t("<img>").on("load.cbp error.cbp",function(){r--,0===r&&i.call(n)}).attr("src",s)})})},checkSrc:function(t){if(""===t)return null;var e=new Image;return e.src=t,e.complete&&e.naturalWidth!==n&&0!==e.naturalWidth?null:t},display:function(){var t=this;t.width=t.$obj.outerWidth(),t.storeData(t.blocks),t.triggerEvent("initStartRead"),t.triggerEvent("initStartWrite"),t.layoutAndAdjustment(),t.triggerEvent("initEndRead"),t.triggerEvent("initEndWrite"),t.$obj.addClass("cbp-ready"),t.runQueue("delayFrame",t.delayFrame)},delayFrame:function(){var t=this;requestAnimationFrame(function(){t.resizeEvent(),t.triggerEvent("initFinish"),t.isAnimating=!1,t.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var t,e=this;s["private"].initResizeEvent({instance:e,fn:function(){var e=this;e.triggerEvent("beforeResizeGrid"),t=e.$obj.outerWidth(),e.width!==t&&("alignCenter"===e.options.gridAdjustment&&(e.wrapper[0].style.maxWidth=""),e.width=t,e.layoutAndAdjustment(),e.triggerEvent("resizeGrid")),e.triggerEvent("resizeWindow")}})},gridAdjust:function(){var e=this;"responsive"===e.options.gridAdjustment?e.responsiveLayout():(e.blocks.removeAttr("style"),e.blocks.each(function(i,n){var s=t(n).data("cbp"),r=n.getBoundingClientRect(),o=e.columnWidthTruncate(r.right-r.left),a=Math.round(r.bottom-r.top);s.height=a,s.heightAndGap=a+e.options.gapHorizontal,s.width=o,s.widthAndGap=o+e.options.gapVertical}),e.widthAvailable=e.width+e.options.gapVertical),e.triggerEvent("gridAdjust")},layoutAndAdjustment:function(){var t=this;t.gridAdjust(),t.layout()},layout:function(){var t=this;t.computeBlocks(t.filterConcat(t.defaultFilter)),"slider"===t.options.layoutMode?(t.sliderLayoutReset(),t.sliderLayout()):(t.mosaicLayoutReset(),t.mosaicLayout()),t.positionateItems(),t.resizeMainContainer()},computeFilter:function(t){var e=this;e.computeBlocks(t),e.mosaicLayoutReset(),e.mosaicLayout(),e.filterLayout()},filterLayout:function(){var e=this;e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px"}),e.resizeMainContainer(),e.filterFinish()},filterFinish:function(){var t=this;t.blocksAreSorted&&t.sortBlocks(t.blocks,"index"),t.isAnimating=!1,t.$obj.trigger("filterComplete.cbp"),t.triggerEvent("filterFinish")},computeBlocks:function(t){var e=this;e.blocksOnInitial=e.blocksOn,e.blocksOn=e.blocks.filter(t),e.blocksOff=e.blocks.not(t),e.triggerEvent("computeBlocksFinish",t)},responsiveLayout:function(){var e=this;e.cols=e[t.isArray(e.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),e.columnWidth=e.columnWidthTruncate((e.width+e.options.gapVertical)/e.cols),e.widthAvailable=e.columnWidth*e.cols,"mosaic"===e.options.layoutMode&&e.getMosaicWidthReference(),e.blocks.each(function(i,n){var s,r=t(n).data("cbp"),o=1;"mosaic"===e.options.layoutMode&&(o=e.getColsMosaic(r.widthInitial)),s=e.columnWidth*o-e.options.gapVertical,n.style.width=s+"px",r.width=s,r.widthAndGap=s+e.options.gapVertical,n.style.height=""});var i=[];e.blocks.each(function(e,n){var s=t(n),r=s.data("cbp").width;t.each(s.find("img").filter("[width][height]"),function(t,e){var n=r/parseInt(e.getAttribute("width"),10);i.push({el:e,width:r,height:Math.floor(parseInt(e.getAttribute("height"),10)*n)})})}),t.each(i,function(t,e){e.el.width=e.width,e.el.height=e.height,e.el.style.width=e.width+"px",e.el.style.height=e.height+"px"}),e.blocks.each(function(i,n){var s=t(n).data("cbp"),r=n.getBoundingClientRect(),o=Math.round(r.bottom-r.top);s.height=o,s.heightAndGap=o+e.options.gapHorizontal})},getMosaicWidthReference:function(){var e=this,i=[];e.blocks.each(function(e,n){var s=t(n).data("cbp");i.push(s.widthInitial)}),i.sort(function(t,e){return t-e}),i[0]?e.mosaicWidthReference=i[0]:e.mosaicWidthReference=e.columnWidth},getColsMosaic:function(t){var e=this;if(t===e.width)return e.cols;var i=t/e.mosaicWidthReference;return i=i%1>=.79?Math.ceil(i):Math.floor(i),Math.min(Math.max(i,1),e.cols)},getColumnsAuto:function(){var t=this;if(0===t.blocks.length)return 1;var e=t.blocks.first().data("cbp").widthInitial+t.options.gapVertical;return Math.max(Math.round(t.width/e),1)},getColumnsBreakpoints:function(){var e,i=this,s=i.width;return t.each(i.options.mediaQueries,function(t,i){return s>=i.width?(e=i.cols,!1):void 0}),e===n&&(e=i.options.mediaQueries[i.options.mediaQueries.length-1].cols),e},columnWidthTruncate:function(t){return Math.floor(t)},positionateItems:function(){var e,i=this;i.blocksOn.removeClass("cbp-item-off").each(function(i,n){e=t(n).data("cbp"),e.left=e.leftNew,e.top=e.topNew,n.style.left=e.left+"px",n.style.top=e.top+"px"}),i.blocksOff.addClass("cbp-item-off"),i.blocksAreSorted&&i.sortBlocks(i.blocks,"index")},resizeMainContainer:function(){var e,i=this,r=Math.max(i.freeSpaces.slice(-1)[0].topStart-i.options.gapHorizontal,0);return"alignCenter"===i.options.gridAdjustment&&(e=0,i.blocksOn.each(function(i,n){var s=t(n).data("cbp"),r=s.left+s.width;r>e&&(e=r)}),i.wrapper[0].style.maxWidth=e+"px"),r===i.height?void i.triggerEvent("resizeMainContainer"):(i.obj.style.height=r+"px",i.height!==n&&(s["private"].modernBrowser?i.$obj.one(s["private"].transitionend,function(){i.$obj.trigger("pluginResize.cbp")}):i.$obj.trigger("pluginResize.cbp")),i.height=r,void i.triggerEvent("resizeMainContainer"))},filterConcat:function(t){return t.replace(/\|/gi,"")},pushQueue:function(t,e){var i=this;i.queue[t]=i.queue[t]||[],i.queue[t].push(e)},runQueue:function(e,i){var n=this,s=n.queue[e]||[];t.when.apply(t,s).then(t.proxy(i,n))},clearQueue:function(t){var e=this;e.queue[t]=[]},registerEvent:function(t,e,i){var n=this;n.registeredEvents[t]||(n.registeredEvents[t]=[]),n.registeredEvents[t].push({func:e,oneTime:i||!1})},triggerEvent:function(t,e){var i,n,s=this;if(s.registeredEvents[t])for(i=0,n=s.registeredEvents[t].length;n>i;i++)s.registeredEvents[t][i].func.call(s,e),s.registeredEvents[t][i].oneTime&&(s.registeredEvents[t].splice(i,1),i--,n--)},addItems:function(e,i){var n=this;n.wrapInner(e,"cbp-item-wrapper"),e.addClass("cbp-item-loading").css({top:"100%",left:0}).appendTo(n.$ul),s["private"].modernBrowser?e.last().one(s["private"].animationend,function(){n.addItemsFinish(e,i)}):n.addItemsFinish(e,i),n.loadImages(e,function(){n.$obj.addClass("cbp-addItems"),n.storeData(e,n.blocks.length),t.merge(n.blocks,e),n.triggerEvent("addItemsToDOM",e),n.layoutAndAdjustment(),n.elems&&s["public"].showCounter.call(n.obj,n.elems),n.triggerEvent("appendItemsFinish")})},addItemsFinish:function(e,i){var n=this;n.isAnimating=!1,n.$obj.removeClass("cbp-addItems"),e.removeClass("cbp-item-loading"),t.isFunction(i)&&i.call(n,e)}}),t.fn.cubeportfolio=function(t,e,i){return this.each(function(){if("object"==typeof t||!t)return s["public"].init.call(this,t,e);if(s["public"][t])return s["public"][t].call(this,e,i);throw new Error("Method "+t+" does not exist on jquery.cubeportfolio.js")})},s.plugins={},t.fn.cubeportfolio.constructor=s}(jQuery,window,document),function(t,e,i,n){"use strict";var s=t.fn.cubeportfolio.constructor;t.extend(s.prototype,{mosaicLayoutReset:function(){var e=this;e.blocksAreSorted=!1,e.blocksOn.each(function(e,i){t(i).data("cbp").pack=!1})},mosaicLayout:function(){var t,e=this,i=e.blocksOn.length,n={};for(e.freeSpaces=[{leftStart:0,leftEnd:e.widthAvailable,topStart:0,topEnd:Math.pow(2,18)}],t=0;i>t;t++){if(n=e.getSpaceIndexAndBlock(),null===n)return e.sortBlocksToPreventGaps(),void e.mosaicLayout();e.generateF1F2(n.spaceIndex,n.dataBlock),e.generateG1G2G3G4(n.dataBlock),e.cleanFreeSpaces(),e.addHeightToBlocks()}e.blocksAreSorted&&e.sortBlocks(e.blocksOn,"topNew")},getSpaceIndexAndBlock:function(){var e=this,i=null;return t.each(e.freeSpaces,function(n,s){var r=s.leftEnd-s.leftStart,o=s.topEnd-s.topStart;return e.blocksOn.each(function(e,a){var l=t(a).data("cbp");if(l.pack!==!0)return l.widthAndGap<=r&&l.heightAndGap<=o?(l.pack=!0,i={spaceIndex:n,dataBlock:l},l.leftNew=s.leftStart,l.topNew=s.topStart,!1):void 0}),!e.blocksAreSorted&&e.options.sortToPreventGaps&&n>0?(i=null,!1):null===i&&void 0}),i},generateF1F2:function(t,e){var i=this,n=i.freeSpaces[t],s={leftStart:n.leftStart+e.widthAndGap,leftEnd:n.leftEnd,topStart:n.topStart,topEnd:n.topEnd},r={leftStart:n.leftStart,leftEnd:n.leftEnd,topStart:n.topStart+e.heightAndGap,topEnd:n.topEnd};i.freeSpaces.splice(t,1),s.leftEnd>s.leftStart&&s.topEnd>s.topStart&&(i.freeSpaces.splice(t,0,s),t++),r.leftEnd>r.leftStart&&r.topEnd>r.topStart&&i.freeSpaces.splice(t,0,r)},generateG1G2G3G4:function(e){var i=this,n=[];t.each(i.freeSpaces,function(t,s){var r=i.intersectSpaces(s,e);return null===r?void n.push(s):(i.generateG1(s,r,n),i.generateG2(s,r,n),i.generateG3(s,r,n),void i.generateG4(s,r,n))}),i.freeSpaces=n},intersectSpaces:function(t,e){var i={leftStart:e.leftNew,leftEnd:e.leftNew+e.widthAndGap,topStart:e.topNew,topEnd:e.topNew+e.heightAndGap};if(t.leftStart===i.leftStart&&t.leftEnd===i.leftEnd&&t.topStart===i.topStart&&t.topEnd===i.topEnd)return null;var n=Math.max(t.leftStart,i.leftStart),s=Math.min(t.leftEnd,i.leftEnd),r=Math.max(t.topStart,i.topStart),o=Math.min(t.topEnd,i.topEnd);return n>=s||r>=o?null:{leftStart:n,leftEnd:s,topStart:r,topEnd:o}},generateG1:function(t,e,i){t.topStart!==e.topStart&&i.push({leftStart:t.leftStart,leftEnd:t.leftEnd,topStart:t.topStart,topEnd:e.topStart})},generateG2:function(t,e,i){t.leftEnd!==e.leftEnd&&i.push({leftStart:e.leftEnd,leftEnd:t.leftEnd,topStart:t.topStart,topEnd:t.topEnd})},generateG3:function(t,e,i){t.topEnd!==e.topEnd&&i.push({leftStart:t.leftStart,leftEnd:t.leftEnd,topStart:e.topEnd,topEnd:t.topEnd})},generateG4:function(t,e,i){t.leftStart!==e.leftStart&&i.push({leftStart:t.leftStart,leftEnd:e.leftStart,topStart:t.topStart,topEnd:t.topEnd})},cleanFreeSpaces:function(){var t=this;t.freeSpaces.sort(function(t,e){return t.topStart>e.topStart?1:t.topStart<e.topStart?-1:t.leftStart>e.leftStart?1:t.leftStart<e.leftStart?-1:0}),t.correctSubPixelValues(),t.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var t,e,i,n,s=this;for(t=0,e=s.freeSpaces.length-1;e>t;t++)i=s.freeSpaces[t],n=s.freeSpaces[t+1],n.topStart-i.topStart<=1&&(n.topStart=i.topStart)},removeNonMaximalFreeSpaces:function(){var e=this;e.uniqueFreeSpaces(),e.freeSpaces=t.map(e.freeSpaces,function(i,n){return t.each(e.freeSpaces,function(t,e){return n!==t&&e.leftStart<=i.leftStart&&e.leftEnd>=i.leftEnd&&e.topStart<=i.topStart&&e.topEnd>=i.topEnd?(i=null,!1):void 0}),i})},uniqueFreeSpaces:function(){var e=this,i=[];t.each(e.freeSpaces,function(e,n){t.each(i,function(t,e){return e.leftStart===n.leftStart&&e.leftEnd===n.leftEnd&&e.topStart===n.topStart&&e.topEnd===n.topEnd?(n=null,!1):void 0}),null!==n&&i.push(n)}),e.freeSpaces=i},addHeightToBlocks:function(){var e=this;if(!(e.freeSpaces.length>1)){var i=e.freeSpaces[0].topStart;e.blocksOn.each(function(e,n){var s=t(n).data("cbp");if(s.pack===!0){var r=i-s.topNew-s.heightAndGap;0>r&&(n.style.height=s.height+r+"px")}})}},sortBlocksToPreventGaps:function(){var e=this;e.blocksAreSorted=!0,e.blocksOn.sort(function(e,i){var n=t(e).data("cbp"),s=t(i).data("cbp");return n.widthAndGap<s.widthAndGap?1:n.widthAndGap>s.widthAndGap?-1:n.heightAndGap<s.heightAndGap?1:n.heightAndGap>s.heightAndGap?-1:n.index>s.index?1:n.index<s.index?-1:void 0}),e.blocksOn.each(function(e,i){t(i).data("cbp").pack=!1,i.style.height=""})},sortBlocks:function(e,i){e.sort(function(e,n){var s=t(e).data("cbp"),r=t(n).data("cbp");return s[i]>r[i]?1:s[i]<r[i]?-1:s.leftNew>r.leftNew?1:s.leftNew<r.leftNew?-1:0})}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",loadMore:"",loadMoreAction:"click",search:"",layoutMode:"grid",sortToPreventGaps:!1,drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:function(t,e){},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:function(t,e){},plugins:{}},function(t,e,i,n){"use strict";var s=t.fn.cubeportfolio.constructor;s["private"]={resizeEventArray:[],initResizeEvent:function(t){var e=s["private"];0===e.resizeEventArray.length&&e.resizeEvent(),e.resizeEventArray.push(t)},destroyResizeEvent:function(i){var n=s["private"],r=t.map(n.resizeEventArray,function(t,e){return t.instance!==i?t:void 0});n.resizeEventArray=r,0===n.resizeEventArray.length&&t(e).off("resize.cbp")},resizeEvent:function(){var i,n=s["private"];t(e).on("resize.cbp",function(){clearTimeout(i),i=setTimeout(function(){e.innerHeight!=screen.height&&t.each(n.resizeEventArray,function(t,e){e.fn.call(e.instance)})},50)})},checkInstance:function(e){var i=t.data(this,"cubeportfolio");if(!i)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+e+" method!");return i.triggerEvent("publicMethod"),i},browserInfo:function(){var t,i,r,o=s["private"],a=navigator.appVersion;-1!==a.indexOf("MSIE 8.")?o.browser="ie8":-1!==a.indexOf("MSIE 9.")?o.browser="ie9":-1!==a.indexOf("MSIE 10.")?o.browser="ie10":e.ActiveXObject||"ActiveXObject"in e?o.browser="ie11":/android/gi.test(a)?o.browser="android":/iphone|ipad|ipod/gi.test(a)?o.browser="ios":/chrome/gi.test(a)?o.browser="chrome":o.browser="",r=o.styleSupport("perspective"),typeof r!==n&&(t=o.styleSupport("transition"),o.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[t],i=o.styleSupport("animation"),o.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[i],o.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[i],o.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[i],o.transform=o.styleSupport("transform"),t&&i&&o.transform&&(o.modernBrowser=!0))},styleSupport:function(t){var e,n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1),s=i.createElement("div");return t in s.style?e=t:n in s.style&&(e=n),s=null,e}},s["private"].browserInfo()}(jQuery,window,document),function(t,e,i,n){"use strict";var s=t.fn.cubeportfolio.constructor;s["public"]={init:function(t,e){new s(this,t,e)},destroy:function(e){var i=s["private"].checkInstance.call(this,"destroy");i.triggerEvent("beforeDestroy"),t.removeData(this,"cubeportfolio"),i.blocks.removeData("cbp"),i.$obj.removeClass("cbp-ready").removeAttr("style"),i.$ul.removeClass("cbp-wrapper"),s["private"].destroyResizeEvent(i),i.$obj.off(".cbp"),i.blocks.removeClass("cbp-item-off").removeAttr("style"),i.blocks.find(".cbp-item-wrapper").children().unwrap(),i.options.caption&&i.$obj.removeClass("cbp-caption-active cbp-caption-"+i.options.caption),i.destroySlider(),i.$ul.unwrap(),i.addedWrapp&&i.blocks.unwrap(),t.each(i.plugins,function(t,e){"function"==typeof e.destroy&&e.destroy()}),t.isFunction(e)&&e.call(i),i.triggerEvent("afterDestroy")},filter:function(e,i){var r,o=s["private"].checkInstance.call(this,"filter");if(!o.isAnimating){if(o.isAnimating=!0,t.isFunction(i)&&o.registerEvent("filterFinish",i,!0),t.isFunction(e)){if(r=e.call(o,o.blocks),r===n)throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}else{if(o.options.filterDeeplinking){var a=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=a+"#cbpf="+encodeURIComponent(e),o.singlePage&&o.singlePage.url&&(o.singlePage.url=location.href)}o.defaultFilter=e,r=o.filterConcat(o.defaultFilter)}o.singlePageInline&&o.singlePageInline.isOpen?o.singlePageInline.close("promise",{callback:function(){o.computeFilter(r)}}):o.computeFilter(r)}},showCounter:function(e,i){var n=s["private"].checkInstance.call(this,"showCounter");t.isFunction(i)&&n.registerEvent("showCounterFinish",i,!0),n.elems=e,e.each(function(){var e=t(this),i=n.blocks.filter(e.data("filter")).length;e.find(".cbp-filter-counter").text(i)}),n.triggerEvent("showCounterFinish",e)},appendItems:function(e,i){var n=s["private"].checkInstance.call(this,"appendItems"),r=t(e).filter(".cbp-item");return n.isAnimating||r.length<1?void(t.isFunction(i)&&i.call(n,r)):(n.isAnimating=!0,void(n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(r,i)}}):n.addItems(r,i)))}}}(jQuery,window,document),function(t,e,i,n){"use strict";var s=t.fn.cubeportfolio.constructor;t.extend(s.prototype,{updateSliderPagination:function(){var e,i,n=this;if(n.options.showPagination){for(e=Math.ceil(n.blocksOn.length/n.cols),n.navPagination.empty(),i=e-1;i>=0;i--)t("<div/>",{"class":"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(n.navPagination);n.navPaginationItems=n.navPagination.children()}n.enableDisableNavSlider()},destroySlider:function(){var e=this;"slider"===e.options.layoutMode&&(e.$obj.removeClass("cbp-mode-slider"),e.$ul.removeAttr("style"),e.$ul.off(".cbp"),t(i).off(".cbp"),e.options.auto&&e.stopSliderAuto())},nextSlider:function(t){var e=this;if(e.isEndSlider()){if(!e.isRewindNav())return;e.sliderActive=0}else e.options.scrollByPage?e.sliderActive=Math.min(e.sliderActive+e.cols,e.blocksOn.length-e.cols):e.sliderActive+=1;e.goToSlider()},prevSlider:function(t){var e=this;if(e.isStartSlider()){if(!e.isRewindNav())return;e.sliderActive=e.blocksOn.length-e.cols}else e.options.scrollByPage?e.sliderActive=Math.max(0,e.sliderActive-e.cols):e.sliderActive-=1;e.goToSlider()},jumpToSlider:function(t){var e=this,i=Math.min(t.index()*e.cols,e.blocksOn.length-e.cols);i!==e.sliderActive&&(e.sliderActive=i,e.goToSlider())},jumpDragToSlider:function(t){var e,i,n,s=this,r=t>0;s.options.scrollByPage?(e=s.cols*s.columnWidth,i=s.cols):(e=s.columnWidth,i=1),t=Math.abs(t),n=Math.floor(t/e)*i,t%e>20&&(n+=i),r?s.sliderActive=Math.min(s.sliderActive+n,s.blocksOn.length-s.cols):s.sliderActive=Math.max(0,s.sliderActive-n),s.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){var t=this;return t.sliderActive+t.cols>t.blocksOn.length-1},goToSlider:function(){var t=this;t.enableDisableNavSlider(),t.updateSliderPosition()},startSliderAuto:function(){var t=this;return t.isDrag?void t.stopSliderAuto():void(t.timeout=setTimeout(function(){t.nextSlider(),t.startSliderAuto()},t.options.autoTimeout))},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var t,e,i=this;i.isRewindNav()||(e=i.isStartSlider()?"addClass":"removeClass",i.navPrev[e]("cbp-nav-stop"),e=i.isEndSlider()?"addClass":"removeClass",i.navNext[e]("cbp-nav-stop")),i.options.showPagination&&(t=i.options.scrollByPage?Math.ceil(i.sliderActive/i.cols):i.isEndSlider()?i.navPaginationItems.length-1:Math.floor(i.sliderActive/i.cols),i.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(t).addClass("cbp-nav-pagination-active")),i.customPagination&&(t=i.options.scrollByPage?Math.ceil(i.sliderActive/i.cols):i.isEndSlider()?i.customPaginationItems.length-1:Math.floor(i.sliderActive/i.cols),i.customPaginationItems.removeClass(i.customPaginationClass).eq(t).addClass(i.customPaginationClass))},isRewindNav:function(){var t=this;return!t.options.showNavigation||!(t.blocksOn.length<=t.cols)&&!!t.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var e=this;e.blocksOn.each(function(i,n){var s=t(n).data("cbp");s.leftNew=e.columnWidth*i,s.topNew=0,e.sliderFreeSpaces.push({topStart:s.heightAndGap})}),e.getFreeSpacesForSlider(),e.$ul.width(e.columnWidth*e.blocksOn.length-e.options.gapVertical)},getFreeSpacesForSlider:function(){var t=this;t.freeSpaces=t.sliderFreeSpaces.slice(t.sliderActive,t.sliderActive+t.cols),t.freeSpaces.sort(function(t,e){return t.topStart>e.topStart?1:t.topStart<e.topStart?-1:void 0})},updateSliderPosition:function(){var t=this,e=-t.sliderActive*t.columnWidth;s["private"].modernBrowser?t.$ul[0].style[s["private"].transform]="translate3d("+e+"px, 0px, 0)":t.$ul[0].style.left=e+"px",t.getFreeSpacesForSlider(),t.resizeMainContainer()},dragSlider:function(){function r(e){if(!m.sliderItemsLength()){if(w?g=e:e.preventDefault(),m.options.auto&&m.stopSliderAuto(),y)return void t(d).one("click.cbp",function(){return!1});d=t(e.target),c=h(e).x,u=0,p=-m.sliderActive*m.columnWidth,f=m.columnWidth*(m.blocksOn.length-m.cols),v.on(b.move,a),v.on(b.end,o),m.$obj.addClass("cbp-mode-slider-dragStart")}}function o(t){m.$obj.removeClass("cbp-mode-slider-dragStart"),y=!0,0!==u?(d.one("click.cbp",function(t){return!1}),requestAnimationFrame(function(){m.jumpDragToSlider(u),m.$ul.one(s["private"].transitionend,l)})):l.call(m),v.off(b.move),v.off(b.end)}function a(t){u=c-h(t).x,(u>8||-8>u)&&t.preventDefault(),m.isDrag=!0;var e=p-u;0>u&&p>u?e=(p-u)/5:u>0&&-f>p-u&&(e=-f+(f+p-u)/5),s["private"].modernBrowser?m.$ul[0].style[s["private"].transform]="translate3d("+e+"px, 0px, 0)":m.$ul[0].style.left=e+"px"}function l(){if(y=!1,m.isDrag=!1,m.options.auto){if(m.mouseIsEntered)return;m.startSliderAuto()}}function h(t){return t.originalEvent!==n&&t.originalEvent.touches!==n&&(t=t.originalEvent.touches[0]),{x:t.pageX,y:t.pageY}}var c,u,d,p,f,g,m=this,v=t(i),y=!1,b={},w=!1;m.isDrag=!1,"ontouchstart"in e||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?(b={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},w=!0):b={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},m.$ul.on(b.start,r)},sliderLayoutReset:function(){var t=this;t.freeSpaces=[],t.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(){for(var t=0,e=["moz","webkit"],i=0;i<e.length&&!window.requestAnimationFrame;i++)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),s=Math.max(0,16-(n-t)),r=window.setTimeout(function(){e(n+s)},s);return t=n+s,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(t,e,i,n){"use strict";function s(t){var e=this;e.parent=t,t.filterLayout=e.filterLayout,t.registerEvent("computeBlocksFinish",function(e){t.blocksOn2On=t.blocksOnInitial.filter(e),t.blocksOn2Off=t.blocksOnInitial.not(e)})}var r=t.fn.cubeportfolio.constructor;s.prototype.filterLayout=function(){function e(){i.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px",i.style[r["private"].transform]=""}),i.blocksOff.addClass("cbp-item-off"),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this;i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOn2On.addClass("cbp-item-on2on").each(function(e,i){var n=t(i).data("cbp");i.style[r["private"].transform]="translate3d("+(n.leftNew-n.left)+"px, "+(n.topNew-n.top)+"px, 0)"}),i.blocksOn2Off.addClass("cbp-item-on2off"),i.blocksOff2On=i.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(e,i){var n=t(i).data("cbp");i.style.left=n.leftNew+"px",i.style.top=n.topNew+"px"}),i.blocksOn2Off.length?i.blocksOn2Off.last().data("cbp").wrapper.one(r["private"].animationend,e):i.blocksOff2On.length?i.blocksOff2On.last().data("cbp").wrapper.one(r["private"].animationend,e):e(),i.resizeMainContainer()},s.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},r.plugins.animationClassic=function(e){return!r["private"].modernBrowser||t.inArray(e.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new s(e)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(t){var e=this;e.parent=t,t.filterLayout=e.filterLayout}var r=t.fn.cubeportfolio.constructor;s.prototype.filterLayout=function(){function e(){i.wrapper[0].removeChild(n),"sequentially"===i.options.animationType&&i.blocksOn.each(function(e,i){t(i).data("cbp").wrapper[0].style[r["private"].animationDelay]=""}),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this,n=i.$ul[0].cloneNode(!0);n.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(n,i.$ul[0]),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(e,n){var s=t(n).data("cbp");s.left=s.leftNew,s.top=s.topNew,n.style.left=s.left+"px",n.style.top=s.top+"px","sequentially"===i.options.animationType&&(s.wrapper[0].style[r["private"].animationDelay]=60*e+"ms")}),i.blocksOn.length?i.blocksOn.last().data("cbp").wrapper.one(r["private"].animationend,e):i.blocksOnInitial.length?i.blocksOnInitial.last().data("cbp").wrapper.one(r["private"].animationend,e):e(),i.resizeMainContainer()})},s.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},r.plugins.animationClone=function(e){return!r["private"].modernBrowser||t.inArray(e.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new s(e)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(t){var e=this;e.parent=t,t.filterLayout=e.filterLayout}var r=t.fn.cubeportfolio.constructor;s.prototype.filterLayout=function(){function e(){i.wrapper[0].removeChild(n[0]),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.blocks.each(function(e,i){t(i).data("cbp").wrapper[0].style[r["private"].animationDelay]=""}),i.filterFinish()}var i=this,n=i.$ul.clone(!0,!0);n[0].setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(n[0],i.$ul[0]);var s=n.find(".cbp-item").not(".cbp-item-off");i.sortBlocks(s,"top"),s.children(".cbp-item-wrapper").each(function(t,e){e.style[r["private"].animationDelay]=50*t+"ms"}),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px",n.wrapper[0].style[r["private"].animationDelay]=50*e+"ms"});var n=i.blocksOn.length,o=s.length;0===n&&0===o?e():o>n?s.last().children(".cbp-item-wrapper").one(r["private"].animationend,e):i.blocksOn.last().data("cbp").wrapper.one(r["private"].animationend,e),i.resizeMainContainer()})},s.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},r.plugins.animationCloneDelay=function(e){return!r["private"].modernBrowser||t.inArray(e.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new s(e)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(t){var e=this;e.parent=t,t.filterLayout=e.filterLayout}var r=t.fn.cubeportfolio.constructor;s.prototype.filterLayout=function(){function e(){i.wrapper[0].removeChild(n),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this,n=i.$ul[0].cloneNode(!0);n.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(n,i.$ul[0]),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px"}),i.blocksOn.length?i.$ul.one(r["private"].animationend,e):i.blocksOnInitial.length?t(n).one(r["private"].animationend,e):e(),i.resizeMainContainer()})},s.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},r.plugins.animationWrapper=function(e){return!r["private"].modernBrowser||t.inArray(e.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new s(e)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=this;i.parent=e,e.registerEvent("initFinish",function(){e.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(i){if(i.preventDefault(),!e.isAnimating){e.isAnimating=!0;var n=t(this),s=n.next(),r=n.parent(),o={position:"relative",height:s.outerHeight(!0)},a={position:"relative",height:0};if(e.$obj.addClass("cbp-caption-expand-active"),r.hasClass("cbp-caption-expand-open")){var l=a;a=o,o=l,r.removeClass("cbp-caption-expand-open")}s.css(o),e.$obj.one("pluginResize.cbp",function(){e.isAnimating=!1,e.$obj.removeClass("cbp-caption-expand-active"),0===o.height&&(r.removeClass("cbp-caption-expand-open"),s.attr("style",""))}),e.layoutAndAdjustment(),s.css(a),requestAnimationFrame(function(){r.addClass("cbp-caption-expand-open"),s.css(o),e.triggerEvent("gridAdjust"),e.triggerEvent("resizeGrid")})}})},!0)}var r=t.fn.cubeportfolio.constructor;s.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},r.plugins.captionExpand=function(t){return"expand"!==t.options.caption?null:new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=t.Deferred();e.pushQueue("delayFrame",i),e.registerEvent("initEndWrite",function(){e.blocksOn.each(function(t,i){i.style[r["private"].animationDelay]=t*e.options.displayTypeSpeed+"ms"}),e.$obj.addClass("cbp-displayType-bottomToTop"),e.blocksOn.last().one(r["private"].animationend,function(){e.$obj.removeClass("cbp-displayType-bottomToTop"),e.blocksOn.each(function(t,e){e.style[r["private"].animationDelay]=""}),i.resolve()})},!0)}var r=t.fn.cubeportfolio.constructor;r.plugins.displayBottomToTop=function(t){return r["private"].modernBrowser&&"bottomToTop"===t.options.displayType&&0!==t.blocksOn.length?new s(t):null;
}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=t.Deferred();e.pushQueue("delayFrame",i),e.registerEvent("initEndWrite",function(){e.obj.style[r["private"].animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeIn"),e.$obj.one(r["private"].animationend,function(){e.$obj.removeClass("cbp-displayType-fadeIn"),e.obj.style[r["private"].animationDuration]="",i.resolve()})},!0)}var r=t.fn.cubeportfolio.constructor;r.plugins.displayFadeIn=function(t){return!r["private"].modernBrowser||"lazyLoading"!==t.options.displayType&&"fadeIn"!==t.options.displayType||0===t.blocksOn.length?null:new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=t.Deferred();e.pushQueue("delayFrame",i),e.registerEvent("initEndWrite",function(){e.obj.style[r["private"].animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeInToTop"),e.$obj.one(r["private"].animationend,function(){e.$obj.removeClass("cbp-displayType-fadeInToTop"),e.obj.style[r["private"].animationDuration]="",i.resolve()})},!0)}var r=t.fn.cubeportfolio.constructor;r.plugins.displayFadeInToTop=function(t){return r["private"].modernBrowser&&"fadeInToTop"===t.options.displayType&&0!==t.blocksOn.length?new s(t):null}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=t.Deferred();e.pushQueue("delayFrame",i),e.registerEvent("initEndWrite",function(){e.blocksOn.each(function(t,i){i.style[r["private"].animationDelay]=t*e.options.displayTypeSpeed+"ms"}),e.$obj.addClass("cbp-displayType-sequentially"),e.blocksOn.last().one(r["private"].animationend,function(){e.$obj.removeClass("cbp-displayType-sequentially"),e.blocksOn.each(function(t,e){e.style[r["private"].animationDelay]=""}),i.resolve()})},!0)}var r=t.fn.cubeportfolio.constructor;r.plugins.displaySequentially=function(t){return r["private"].modernBrowser&&"sequentially"===t.options.displayType&&0!==t.blocksOn.length?new s(t):null}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=this;i.parent=e,i.filters=t(e.options.filters),i.filterData=[],e.registerEvent("afterPlugins",function(t){i.filterFromUrl(),i.registerFilter()})}var r=t.fn.cubeportfolio.constructor;s.prototype.registerFilter=function(){var e=this,i=e.parent,n=i.defaultFilter.split("|");e.wrap=e.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){t(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){t(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),e.filters.each(function(s,r){var o=t(r),a="*",l=o.find(".cbp-filter-item"),h={};o.hasClass("cbp-l-filters-dropdown")&&(h.wrap=o.find(".cbp-l-filters-dropdownWrap"),h.header=o.find(".cbp-l-filters-dropdownHeader"),h.headerText=h.header.text()),i.$obj.cubeportfolio("showCounter",l),t.each(n,function(t,e){return l.filter('[data-filter="'+e+'"]').length?(a=e,n.splice(t,1),!1):void 0}),t.data(r,"filterName",a),e.filterData.push(r),e.filtersCallback(h,l.filter('[data-filter="'+a+'"]')),l.on("click.cbp",function(){var n=t(this);if(!n.hasClass("cbp-filter-item-active")&&!i.isAnimating){e.filtersCallback(h,n),t.data(r,"filterName",n.data("filter"));var s=t.map(e.filterData,function(e,i){var n=t.data(e,"filterName");return""!==n&&"*"!==n?n:null});s.length<1&&(s=["*"]);var o=s.join("|");i.defaultFilter!==o&&i.$obj.cubeportfolio("filter",o)}})})},s.prototype.filtersCallback=function(e,i){t.isEmptyObject(e)||(e.wrap.trigger("mouseleave.cbp"),e.headerText?e.headerText="":e.header.html(i.html())),i.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active")},s.prototype.filterFromUrl=function(){var t=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==t&&(this.parent.defaultFilter=decodeURIComponent(t[1]))},s.prototype.destroy=function(){var t=this;t.filters.find(".cbp-filter-item").off(".cbp"),t.wrap.off(".cbp")},r.plugins.filters=function(t){return""===t.options.filters?null:new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=this;i.parent=e,i.options=t.extend({},o,i.parent.options.plugins.inlineSlider),i.runInit(),e.registerEvent("addItemsToDOM",function(){i.runInit()})}function r(t){var e=this;t.hasClass("cbp-slider-inline-ready")||(t.addClass("cbp-slider-inline-ready"),e.items=t.find(".cbp-slider-wrapper").children(".cbp-slider-item"),e.active=e.items.filter(".cbp-slider-item--active").index(),e.total=e.items.length-1,e.updateLeft(),t.find(".cbp-slider-next").on("click.cbp",function(t){t.preventDefault(),e.active<e.total?(e.active++,e.updateLeft()):e.active===e.total&&(e.active=0,e.updateLeft())}),t.find(".cbp-slider-prev").on("click.cbp",function(t){t.preventDefault(),e.active>0?(e.active--,e.updateLeft()):0===e.active&&(e.active=e.total,e.updateLeft())}))}var o={},a=t.fn.cubeportfolio.constructor;r.prototype.updateLeft=function(){var t=this;t.items.removeClass("cbp-slider-item--active"),t.items.eq(t.active).addClass("cbp-slider-item--active"),t.items.each(function(e,i){i.style.left=e-t.active+"00%"})},s.prototype.runInit=function(){var e=this;e.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(i,n){var s=t(n),o=s.find(".cbp-slider-item--active").find("img")[0];o.hasAttribute("data-cbp-src")?e.parent.$obj.on("lazyLoad.cbp",function(t,e){e.src===o.src&&new r(s)}):new r(s)})},s.prototype.destroy=function(){var e=this;e.parent.$obj.find(".cbp-slider-next").off("click.cbp"),e.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),e.parent.$obj.off("lazyLoad.cbp"),e.parent.$obj.find(".cbp-slider-inline").each(function(e,i){var n=t(i);n.removeClass("cbp-slider-inline-ready");var s=n.find(".cbp-slider-item");s.removeClass("cbp-slider-item--active"),s.removeAttr("style"),s.eq(0).addClass("cbp-slider-item--active")})},a.plugins.inlineSlider=function(t){return new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(i){var n=this;n.window=t(e),n.parent=i,n.options=t.extend({},r,n.parent.options.plugins.lazyLoad),i.registerEvent("initEndWrite",function(){var t;n.triggerImg(),i.registerEvent("resizeMainContainer",function(){n.triggerImg()}),n.window.on("scroll.cbp",function(){clearTimeout(t),t=setTimeout(function(){n.triggerImg()},300)})},!0)}var r={loadingClass:"cbp-lazyload",threshold:0},o=t.fn.cubeportfolio.constructor;s.prototype.triggerImg=function(){var e=this,i=e.parent.$obj.find("img").filter("[data-cbp-src]");0!==i.length&&(e.screenHeight=e.window.height(),i.each(function(i,n){var s=t(n.parentNode);if(!e.isElementInScreen(n))return void s.addClass(e.options.loadingClass);var r=n.getAttribute("data-cbp-src");null===e.parent.checkSrc(r)?(e.removeLazy(n,r),s.removeClass(e.options.loadingClass)):(s.addClass(e.options.loadingClass),t("<img>").on("load.cbp error.cbp",function(){e.removeLazy(n,r,s)}).attr("src",r))}))},s.prototype.removeLazy=function(e,i,n){var s=this;e.src=i,e.removeAttribute("data-cbp-src"),s.parent.removeAttrImage(e),s.parent.$obj.trigger("lazyLoad.cbp",e),n&&(o["private"].modernBrowser?t(e).one(o["private"].transitionend,function(){n.removeClass(s.options.loadingClass)}):n.removeClass(s.options.loadingClass))},s.prototype.isElementInScreen=function(t){var e=this,i=t.getBoundingClientRect(),n=i.bottom+e.options.threshold,s=e.screenHeight+n-(i.top-e.options.threshold);return n>=0&&s>=n},s.prototype.destroy=function(){var t=this;t.window.off("scroll.cbp")},o.plugins.lazyLoad=function(t){return new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=this;i.parent=e,i.loadMore=t(e.options.loadMore).find(".cbp-l-loadMore-link"),i.loadMore.length&&i[e.options.loadMoreAction]()}var r=t.fn.cubeportfolio.constructor;s.prototype.click=function(){var e=this,i=0;e.loadMore.on("click.cbp",function(n){var s=t(this);n.preventDefault(),e.parent.isAnimating||s.hasClass("cbp-l-loadMore-stop")||(s.addClass("cbp-l-loadMore-loading"),i++,t.ajax({url:e.loadMore.attr("href")+"?block="+i,type:"GET",dataType:"HTML"}).done(function(t){var n=t.replace(/(\r\n|\n|\r)/gm,""),r=n.indexOf("cbp-loadMore-block"+i);if(-1===r)return void s.addClass("cbp-l-loadMore-stop");var o,a=n.indexOf(">",r)+1,l=n.indexOf("cbp-loadMore-block"+(i+1));o=-1===l?n.lastIndexOf("</"):n.lastIndexOf("</",l),e.parent.$obj.cubeportfolio("appendItems",n.substring(a,o),function(){s.removeClass("cbp-l-loadMore-loading"),-1===l&&s.addClass("cbp-l-loadMore-stop")})}).fail(function(){}))})},s.prototype.auto=function(){var i=this;i.parent.$obj.on("initComplete.cbp",function(){Object.create({init:function(){var n=this;n.isActive=!1,n.numberOfClicks=0,i.loadMore.addClass("cbp-l-loadMore-loading"),n.window=t(e),n.addEvents(),n.getNewItems()},addEvents:function(){var t,e=this;i.loadMore.on("click.cbp",function(t){t.preventDefault()}),e.window.on("scroll.loadMoreObject",function(){clearTimeout(t),t=setTimeout(function(){i.parent.isAnimating||e.getNewItems()},80)}),i.parent.$obj.on("filterComplete.cbp",function(){e.getNewItems()})},getNewItems:function(){var e,n,s=this;s.isActive||i.loadMore.hasClass("cbp-l-loadMore-stop")||(e=i.loadMore.offset().top-200,n=s.window.scrollTop()+s.window.height(),e>n||(s.isActive=!0,s.numberOfClicks++,t.ajax({url:i.loadMore.attr("href")+"?block="+s.numberOfClicks,type:"GET",dataType:"HTML",cache:!0}).done(function(t){var e=t.replace(/(\r\n|\n|\r)/gm,""),n=e.indexOf("cbp-loadMore-block"+s.numberOfClicks);if(-1===n)return void i.loadMore.addClass("cbp-l-loadMore-stop");var r,o=e.indexOf(">",n)+1,a=e.indexOf("cbp-loadMore-block"+(s.numberOfClicks+1));r=-1===a?e.lastIndexOf("</"):e.lastIndexOf("</",a),i.parent.$obj.cubeportfolio("appendItems",e.substring(o,r),function(){-1===a?(i.loadMore.addClass("cbp-l-loadMore-stop"),s.window.off("scroll.loadMoreObject"),i.parent.$obj.off("filterComplete.cbp")):(s.isActive=!1,s.window.trigger("scroll.loadMoreObject"))})}).fail(function(){s.isActive=!1})))}}).init()})},s.prototype.destroy=function(){var i=this;i.loadMore.off(".cbp"),t(e).off("scroll.loadMoreObject")},r.plugins.loadMore=function(t){return""===t.options.loadMore?null:new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(t){var e=this;e.parent=t,t.options.lightboxShowCounter===!1&&(t.options.lightboxCounter=""),t.options.singlePageShowCounter===!1&&(t.options.singlePageCounter=""),t.registerEvent("initStartRead",function(){e.run()},!0)}var r=t.fn.cubeportfolio.constructor,o={init:function(e,n){var s,r=this;if(r.cubeportfolio=e,r.type=n,r.isOpen=!1,r.options=r.cubeportfolio.options,"lightbox"===n&&r.cubeportfolio.registerEvent("resizeWindow",function(){r.resizeImage()}),"singlePageInline"!==n){if(r.createMarkup(),"singlePage"===n&&(r.cubeportfolio.registerEvent("resizeWindow",function(){if(r.options.singlePageStickyNavigation){var t=r.wrap[0].clientWidth;t>0&&(r.navigationWrap.width(t),r.navigation.width(t))}}),r.options.singlePageDeeplinking)){r.url=location.href,"#"===r.url.slice(-1)&&(r.url=r.url.slice(0,-1));var o=r.url.split("#cbp="),a=o.shift();if(t.each(o,function(e,i){return r.cubeportfolio.blocksOn.each(function(e,n){var o=t(n).find(r.options.singlePageDelegate+'[href="'+i+'"]');return o.length?(s=o,!1):void 0}),!s&&void 0}),s){r.url=a;var l=s,h=l.attr("data-cbp-singlePage"),c=[];h?c=l.closest(t(".cbp-item")).find('[data-cbp-singlePage="'+h+'"]'):r.cubeportfolio.blocksOn.each(function(e,i){var n=t(i);n.not(".cbp-item-off")&&n.find(r.options.singlePageDelegate).each(function(e,i){t(i).attr("data-cbp-singlePage")||c.push(i)})}),r.openSinglePage(c,s[0])}else if(o.length){var u=i.createElement("a");u.setAttribute("href",o[0]),r.openSinglePage([u],u)}}}else if(r.height=0,r.createMarkupSinglePageInline(),r.cubeportfolio.registerEvent("resizeGrid",function(){r.isOpen&&r.close()}),r.options.singlePageInlineDeeplinking){r.url=location.href,"#"===r.url.slice(-1)&&(r.url=r.url.slice(0,-1));var o=r.url.split("#cbpi="),a=o.shift();t.each(o,function(e,i){return r.cubeportfolio.blocksOn.each(function(e,n){var o=t(n).find(r.options.singlePageInlineDelegate+'[href="'+i+'"]');return o.length?(s=o,!1):void 0}),!s&&void 0}),s&&r.cubeportfolio.registerEvent("initFinish",function(){r.openSinglePageInline(r.cubeportfolio.blocksOn,s[0])},!0)}},createMarkup:function(){var e=this,n="";"singlePage"===e.type&&"left"!==e.options.singlePageAnimation&&(n=" cbp-popup-singlePage-"+e.options.singlePageAnimation),e.wrap=t("<div/>",{"class":"cbp-popup-wrap cbp-popup-"+e.type+n,"data-action":"lightbox"===e.type?"close":""}).on("click.cbp",function(i){if(!e.stopEvents){var n=t(i.target).attr("data-action");e[n]&&(e[n](),i.preventDefault())}}),e.content=t("<div/>",{"class":"cbp-popup-content"}).appendTo(e.wrap),t("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(e.wrap),"ie8"===r["private"].browser&&(e.bg=t("<div/>",{"class":"cbp-popup-ie8bg","data-action":"lightbox"===e.type?"close":""}).appendTo(e.wrap)),e.navigationWrap=t("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(e.wrap),e.navigation=t("<div/>",{"class":"cbp-popup-navigation"}).appendTo(e.navigationWrap),e.closeButton=t("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(e.navigation),e.nextButton=t("<div/>",{"class":"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(e.navigation),e.prevButton=t("<div/>",{"class":"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(e.navigation),"singlePage"===e.type&&(e.options.singlePageCounter&&(e.counter=t(e.options.singlePageCounter).appendTo(e.navigation),e.counter.text("")),e.content.on("click.cbp",e.options.singlePageDelegate,function(t){t.preventDefault();var i,n=e.dataArray.length,s=this.getAttribute("href");for(i=0;n>i&&e.dataArray[i].url!==s;i++);e.singlePageJumpTo(i-e.current)}),e.wrap.on("mousewheel.cbp DOMMouseScroll.cbp",function(t){t.stopImmediatePropagation()})),t(i).on("keydown.cbp",function(t){e.isOpen&&(e.stopEvents||(37===t.keyCode?e.prev():39===t.keyCode?e.next():27===t.keyCode&&e.close()))})},createMarkupSinglePageInline:function(){var e=this;e.wrap=t("<div/>",{"class":"cbp-popup-singlePageInline"}).on("click.cbp",function(i){if(!e.stopEvents){var n=t(i.target).attr("data-action");n&&e[n]&&(e[n](),i.preventDefault())}}),e.content=t("<div/>",{"class":"cbp-popup-content"}).appendTo(e.wrap),e.navigation=t("<div/>",{"class":"cbp-popup-navigation"}).appendTo(e.wrap),e.closeButton=t("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(e.navigation)},destroy:function(){var e=this,n=t("body");t(i).off("keydown.cbp"),n.off("click.cbp",e.options.lightboxDelegate),n.off("click.cbp",e.options.singlePageDelegate),e.content.off("click.cbp",e.options.singlePageDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.singlePageInlineDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.lightboxDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.singlePageDelegate),e.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),e.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),e.wrap.remove()},openLightbox:function(n,s){var r,o,a=this,l=0,h=[];if(!a.isOpen){if(a.isOpen=!0,a.stopEvents=!1,a.dataArray=[],a.current=null,r=s.getAttribute("href"),null===r)throw new Error("HEI! Your clicked element doesn't have a href attribute.");t.each(n,function(e,i){var n,s=i.getAttribute("href"),o=s,c="isImage";if(-1===t.inArray(s,h)){if(r===s)a.current=l;else if(!a.options.lightboxGallery)return;/youtube/i.test(s)?(n=s.substring(s.lastIndexOf("v=")+2),/autoplay=/i.test(n)||(n+="&autoplay=1"),n=n.replace(/\?|&/,"?"),o="//www.youtube.com/embed/"+n,c="isYoutube"):/vimeo\.com/i.test(s)?(n=s.substring(s.lastIndexOf("/")+1),/autoplay=/i.test(n)||(n+="&autoplay=1"),n=n.replace(/\?|&/,"?"),o="//player.vimeo.com/video/"+n,c="isVimeo"):/www\.ted\.com/i.test(s)?(o="http://embed.ted.com/talks/"+s.substring(s.lastIndexOf("/")+1)+".html",c="isTed"):/soundcloud\.com/i.test(s)?(o=s,c="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(s)?(o=-1!==s.indexOf("|")?s.split("|"):s.split("%7C"),c="isSelfHostedVideo"):/\.mp3$/i.test(s)&&(o=s,c="isSelfHostedAudio"),a.dataArray.push({src:o,title:i.getAttribute(a.options.lightboxTitleSrc),type:c}),l++}h.push(s)}),a.counterTotal=a.dataArray.length,1===a.counterTotal?(a.nextButton.hide(),a.prevButton.hide(),a.dataActionImg=""):(a.nextButton.show(),a.prevButton.show(),a.dataActionImg='data-action="next"'),a.wrap.appendTo(i.body),a.scrollTop=t(e).scrollTop(),a.originalStyle=t("html").attr("style"),t("html").css({overflow:"hidden",marginRight:e.innerWidth-t(i).width()}),a.wrap.addClass("cbp-popup-transitionend"),a.wrap.show(),o=a.dataArray[a.current],a[o.type](o)}},openSinglePage:function(n,s){var o,a=this,l=0,h=[];if(!a.isOpen){if(a.cubeportfolio.singlePageInline&&a.cubeportfolio.singlePageInline.isOpen&&a.cubeportfolio.singlePageInline.close(),a.isOpen=!0,a.stopEvents=!1,a.dataArray=[],a.current=null,o=s.getAttribute("href"),null===o)throw new Error("HEI! Your clicked element doesn't have a href attribute.");t.each(n,function(e,i){var n=i.getAttribute("href");-1===t.inArray(n,h)&&(o===n&&(a.current=l),a.dataArray.push({url:n,element:i}),l++),h.push(n)}),a.counterTotal=a.dataArray.length,1===a.counterTotal?(a.nextButton.hide(),a.prevButton.hide()):(a.nextButton.show(),a.prevButton.show()),a.wrap.appendTo(i.body),a.scrollTop=t(e).scrollTop(),a.wrap.scrollTop(0),a.wrap.show(),a.finishOpen=2,a.navigationMobile=t(),a.wrap.one(r["private"].transitionend,function(){t("html").css({overflow:"hidden",marginRight:e.innerWidth-t(i).width()}),a.wrap.addClass("cbp-popup-transitionend"),a.options.singlePageStickyNavigation&&(a.wrap.addClass("cbp-popup-singlePage-sticky"),a.navigationWrap.width(a.wrap[0].clientWidth),("android"===r["private"].browser||"ios"===r["private"].browser)&&(a.navigationMobile=t("<div/>",{"class":"cbp-popup-singlePage cbp-popup-singlePage-sticky",id:a.wrap.attr("id")}).on("click.cbp",function(e){if(!a.stopEvents){var i=t(e.target).attr("data-action");a[i]&&(a[i](),e.preventDefault())}}),a.navigationMobile.appendTo(i.body).append(a.navigationWrap))),a.finishOpen--,a.finishOpen<=0&&a.updateSinglePageIsOpen.call(a)}),("ie8"===r["private"].browser||"ie9"===r["private"].browser)&&(a.options.singlePageStickyNavigation&&(a.navigationWrap.width(a.wrap[0].clientWidth),setTimeout(function(){a.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)),a.finishOpen--),a.wrap.addClass("cbp-popup-loading"),a.wrap.offset(),a.wrap.addClass("cbp-popup-singlePage-open"),a.options.singlePageDeeplinking&&(a.url=a.url.split("#cbp=")[0],location.href=a.url+"#cbp="+a.dataArray[a.current].url),t.isFunction(a.options.singlePageCallback)&&a.options.singlePageCallback.call(a,a.dataArray[a.current].url,a.dataArray[a.current].element)}},openSinglePageInline:function(i,n,s){var r,o,a,l,h=this;if(s=s||!1,h.fromOpen=s,h.storeBlocks=i,h.storeCurrentBlock=n,h.isOpen)return o=t(n).closest(".cbp-item").index(),void(h.dataArray[h.current].url!==n.getAttribute("href")||h.current!==o?h.cubeportfolio.singlePageInline.close("open",{blocks:i,currentBlock:n,fromOpen:!0}):h.close());if(h.isOpen=!0,h.stopEvents=!1,h.dataArray=[],h.current=null,r=n.getAttribute("href"),null===r)throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(a=t(n).closest(".cbp-item")[0],i.each(function(t,e){a===e&&(h.current=t)}),h.dataArray[h.current]={url:r,element:n},l=t(h.dataArray[h.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),h.counterTotal=i.length,h.wrap.insertBefore(h.cubeportfolio.wrapper),"top"===h.options.singlePageInlinePosition)h.blocksToMove=i,h.top=0;else if("bottom"===h.options.singlePageInlinePosition)h.blocksToMove=t(),h.top=h.cubeportfolio.height;else if("above"===h.options.singlePageInlinePosition)h.top=t(i[h.current]).data("cbp").top,h.blocksToMove=t(),i.each(function(e,i){var n=t(i).data("cbp");n.top+n.height>=h.top&&(h.blocksToMove=h.blocksToMove.add(i))}),h.top=Math.max(h.top-h.options.gapHorizontal,0);else{var c=t(i[h.current]).data("cbp");h.top=c.top+c.height,h.blocksToMove=t(),i.each(function(e,i){var n=t(i).data("cbp");n.top+n.height>h.top&&(h.blocksToMove=h.blocksToMove.add(i))})}if(h.wrap[0].style.height=h.wrap.outerHeight(!0)+"px",h.deferredInline=t.Deferred(),h.options.singlePageInlineInFocus){h.scrollTop=t(e).scrollTop();var u=h.cubeportfolio.$obj.offset().top+h.top-100;h.scrollTop!==u?t("html,body").animate({scrollTop:u},350).promise().then(function(){h.resizeSinglePageInline(),h.deferredInline.resolve()}):(h.resizeSinglePageInline(),h.deferredInline.resolve())}else h.resizeSinglePageInline(),h.deferredInline.resolve();h.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),h.wrap.css({top:h.top}),h.options.singlePageInlineDeeplinking&&(h.url=h.url.split("#cbpi=")[0],location.href=h.url+"#cbpi="+h.dataArray[h.current].url),t.isFunction(h.options.singlePageInlineCallback)&&h.options.singlePageInlineCallback.call(h,h.dataArray[h.current].url,h.dataArray[h.current].element)},resizeSinglePageInline:function(){var t=this;t.height=0===t.top||t.top===t.cubeportfolio.height?t.wrap.outerHeight(!0):t.wrap.outerHeight(!0)-t.options.gapHorizontal,t.storeBlocks.each(function(t,e){r["private"].modernBrowser?e.style[r["private"].transform]="":e.style.marginTop=""}),t.blocksToMove.each(function(e,i){r["private"].modernBrowser?i.style[r["private"].transform]="translate3d(0px, "+t.height+"px, 0)":i.style.marginTop=t.height+"px"}),t.cubeportfolio.obj.style.height=t.cubeportfolio.height+t.height+"px"},revertResizeSinglePageInline:function(){var e=this;e.deferredInline=t.Deferred(),e.storeBlocks.each(function(t,e){r["private"].modernBrowser?e.style[r["private"].transform]="":e.style.marginTop=""}),e.cubeportfolio.obj.style.height=e.cubeportfolio.height+"px"},appendScriptsToWrap:function(t){var e=this,n=0,s=function(r){var o=i.createElement("script"),a=r.src;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){("loaded"==o.readyState||"complete"==o.readyState)&&(o.onreadystatechange=null,n++,t[n]&&s(t[n]))}:o.onload=function(){n++,t[n]&&s(t[n])},a?o.src=a:o.text=r.text,e.content[0].appendChild(o)};s(t[0])},updateSinglePage:function(e,i,n){var s,r=this;r.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),n===!1&&r.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),r.counter&&(s=t(r.getCounterMarkup(r.options.singlePageCounter,r.current+1,r.counterTotal)),r.counter.text(s.text())),r.fromAJAX={html:e,scripts:i},r.finishOpen--,r.finishOpen<=0&&r.updateSinglePageIsOpen.call(r)},updateSinglePageIsOpen:function(){var e,i=this;i.wrap.addClass("cbp-popup-ready"),i.wrap.removeClass("cbp-popup-loading"),i.content.html(i.fromAJAX.html),i.fromAJAX.scripts&&i.appendScriptsToWrap(i.fromAJAX.scripts),i.fromAJAX={},i.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),e=i.content.find(".cbp-slider"),e?(e.find(".cbp-slider-item").addClass("cbp-item"),i.slider=e.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):i.slider=null,i.checkForSocialLinks(i.content),("android"===r["private"].browser||"ios"===r["private"].browser)&&t("html").css({position:"fixed"}),i.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(t){var e=this;e.createFacebookShare(t.find(".cbp-social-fb")),e.createTwitterShare(t.find(".cbp-social-twitter")),e.createGooglePlusShare(t.find(".cbp-social-googleplus")),e.createPinterestShare(t.find(".cbp-social-pinterest"))},createFacebookShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(e.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(e.location.href)+"&text="+encodeURIComponent(i.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(e.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(t){if(t.length&&!t.attr("onclick")){var i="",n=this.content.find("img")[0];n&&(i=n.src),t.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(e.location.href)+"&media="+i+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(t,e){var i=this;i.content.html(t),e&&i.appendScriptsToWrap(e),i.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),i.singlePageInlineIsOpen.call(i)},singlePageInlineIsOpen:function(){function t(){e.wrap.addClass("cbp-popup-singlePageInline-ready"),e.wrap[0].style.height="",e.resizeSinglePageInline(),e.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}var e=this;e.cubeportfolio.loadImages(e.wrap,function(){var i=e.content.find(".cbp-slider");i.length?(i.find(".cbp-slider-item").addClass("cbp-item"),i.one("initComplete.cbp",function(){e.deferredInline.done(t)}),i.on("pluginResize.cbp",function(){e.deferredInline.done(t)}),e.slider=i.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(e.slider=null,e.deferredInline.done(t)),e.checkForSocialLinks(e.content)})},isImage:function(e){var i=this;new Image,i.tooggleLoading(!0),i.cubeportfolio.loadImages(t('<div><img src="'+e.src+'"></div>'),function(){i.updateImagesMarkup(e.src,e.title,i.getCounterMarkup(i.options.lightboxCounter,i.current+1,i.counterTotal)),i.tooggleLoading(!1)})},isVimeo:function(t){var e=this;e.updateVideoMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isYoutube:function(t){var e=this;e.updateVideoMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isTed:function(t){var e=this;e.updateVideoMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isSoundCloud:function(t){var e=this;e.updateVideoMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isSelfHostedVideo:function(t){var e=this;e.updateSelfHostedVideo(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isSelfHostedAudio:function(t){var e=this;e.updateSelfHostedAudio(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},getCounterMarkup:function(t,e,i){if(!t.length)return"";var n={current:e,total:i};return t.replace(/\{\{current}}|\{\{total}}/gi,function(t){return n[t.slice(2,-2)]})},updateSelfHostedVideo:function(t,e,i){var n,s=this;s.wrap.addClass("cbp-popup-lightbox-isIframe");var r='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(n=0;n<t.length;n++)/(\.mp4)/i.test(t[n])?r+='<source src="'+t[n]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(t[n])?r+='<source src="'+t[n]+'" type="video/ogg">':/(\.webm)/i.test(t[n])&&(r+='<source src="'+t[n]+'" type="video/webm">');r+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+i+"</div></div>",s.content.html(r),s.wrap.addClass("cbp-popup-ready"),s.preloadNearbyImages()},updateSelfHostedAudio:function(t,e,i){var n=this;n.wrap.addClass("cbp-popup-lightbox-isIframe");var s='<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+t+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+i+"</div></div>";n.content.html(s),n.wrap.addClass("cbp-popup-ready"),n.preloadNearbyImages()},updateVideoMarkup:function(t,e,i){var n=this;n.wrap.addClass("cbp-popup-lightbox-isIframe");var s='<div class="cbp-popup-lightbox-iframe"><iframe src="'+t+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+i+"</div></div>";n.content.html(s),n.wrap.addClass("cbp-popup-ready"),n.preloadNearbyImages()},updateImagesMarkup:function(t,e,i){var n=this;n.wrap.removeClass("cbp-popup-lightbox-isIframe");var s='<div class="cbp-popup-lightbox-figure"><img src="'+t+'" class="cbp-popup-lightbox-img" '+n.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+i+"</div></div>";n.content.html(s),n.wrap.addClass("cbp-popup-ready"),n.resizeImage(),n.preloadNearbyImages()},next:function(){var t=this;t[t.type+"JumpTo"](1)},prev:function(){var t=this;t[t.type+"JumpTo"](-1)},lightboxJumpTo:function(t){var e,i=this;i.current=i.getIndex(i.current+t),e=i.dataArray[i.current],i[e.type](e)},singlePageJumpTo:function(e){var i=this;i.current=i.getIndex(i.current+e),t.isFunction(i.options.singlePageCallback)&&(i.resetWrap(),i.wrap.scrollTop(0),i.wrap.addClass("cbp-popup-loading"),i.options.singlePageCallback.call(i,i.dataArray[i.current].url,i.dataArray[i.current].element),i.options.singlePageDeeplinking&&(location.href=i.url+"#cbp="+i.dataArray[i.current].url))},resetWrap:function(){var t=this;"singlePage"===t.type&&t.options.singlePageDeeplinking&&(location.href=t.url+"#"),"singlePageInline"===t.type&&t.options.singlePageInlineDeeplinking&&(location.href=t.url+"#")},getIndex:function(t){var e=this;return t%=e.counterTotal,0>t&&(t=e.counterTotal+t),t},close:function(i,n){function s(){a.content.html(""),a.wrap.detach(),a.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),"promise"===i&&t.isFunction(n.callback)&&n.callback.call(a.cubeportfolio),a.resetWrap()}function o(){a.options.singlePageInlineInFocus&&"promise"!==i?t("html,body").animate({scrollTop:a.scrollTop},350).promise().then(function(){s()}):s()}var a=this;a.isOpen=!1,"singlePageInline"===a.type?"open"===i?(a.wrap.removeClass("cbp-popup-singlePageInline-ready"),t(a.dataArray[a.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),a.openSinglePageInline(n.blocks,n.currentBlock,n.fromOpen)):(a.height=0,a.revertResizeSinglePageInline(),a.wrap.removeClass("cbp-popup-singlePageInline-ready"),a.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),a.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),r["private"].modernBrowser?a.wrap.one(r["private"].transitionend,function(){o()}):o()):"singlePage"===a.type?(a.resetWrap(),a.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend"),("android"===r["private"].browser||"ios"===r["private"].browser)&&(t("html").css({position:""}),a.navigationWrap.appendTo(a.wrap),a.navigationMobile.remove()),t(e).scrollTop(a.scrollTop),setTimeout(function(){a.stopScroll=!0,a.navigationWrap.css({top:a.wrap.scrollTop()}),a.wrap.removeClass("cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),("ie8"===r["private"].browser||"ie9"===r["private"].browser)&&(a.content.html(""),a.wrap.detach(),t("html").css({overflow:"",marginRight:"",position:""}),a.navigationWrap.removeAttr("style"))},0),t("html").css({overflow:"",marginRight:"",position:""}),a.wrap.one(r["private"].transitionend,function(){a.content.html(""),a.wrap.detach(),a.navigationWrap.removeAttr("style")})):(a.originalStyle?t("html").attr("style",a.originalStyle):t("html").css({overflow:"",marginRight:""}),t(e).scrollTop(a.scrollTop),a.content.html(""),a.wrap.detach())},tooggleLoading:function(t){var e=this;e.stopEvents=t,e.wrap[t?"addClass":"removeClass"]("cbp-popup-loading");
},resizeImage:function(){if(this.isOpen){var i=t(e).height(),n=this.content.find("img"),s=parseInt(n.css("margin-top"),10)+parseInt(n.css("margin-bottom"),10);n.css("max-height",i-s+"px")}},preloadNearbyImages:function(){var t=[],e=this;t.push(e.getIndex(e.current+1)),t.push(e.getIndex(e.current+2)),t.push(e.getIndex(e.current+3)),t.push(e.getIndex(e.current-1)),t.push(e.getIndex(e.current-2)),t.push(e.getIndex(e.current-3));for(var i=t.length-1;i>=0;i--)"isImage"===e.dataArray[t[i]].type&&e.cubeportfolio.checkSrc(e.dataArray[t[i]].src)}},a=!1,l=!1;s.prototype.run=function(){var e=this,n=e.parent,s=t(i.body);n.lightbox=null,n.options.lightboxDelegate&&!a&&(a=!0,n.lightbox=Object.create(o),n.lightbox.init(n,"lightbox"),s.on("click.cbp",n.options.lightboxDelegate,function(i){i.preventDefault();var s=t(this),r=s.attr("data-cbp-lightbox"),o=e.detectScope(s),a=o.data("cubeportfolio"),l=[];a?a.blocksOn.each(function(e,i){var s=t(i);s.not(".cbp-item-off")&&s.find(n.options.lightboxDelegate).each(function(e,i){r?t(i).attr("data-cbp-lightbox")===r&&l.push(i):l.push(i)})}):l=r?o.find(n.options.lightboxDelegate+"[data-cbp-lightbox="+r+"]"):o.find(n.options.lightboxDelegate),n.lightbox.openLightbox(l,s[0])})),n.singlePage=null,n.options.singlePageDelegate&&!l&&(l=!0,n.singlePage=Object.create(o),n.singlePage.init(n,"singlePage"),s.on("click.cbp",n.options.singlePageDelegate,function(i){i.preventDefault();var s=t(this),r=s.attr("data-cbp-singlePage"),o=e.detectScope(s),a=o.data("cubeportfolio"),l=[];a?a.blocksOn.each(function(e,i){var s=t(i);s.not(".cbp-item-off")&&s.find(n.options.singlePageDelegate).each(function(e,i){r?t(i).attr("data-cbp-singlePage")===r&&l.push(i):l.push(i)})}):l=r?o.find(n.options.singlePageDelegate+"[data-cbp-singlePage="+r+"]"):o.find(n.options.singlePageDelegate),n.singlePage.openSinglePage(l,s[0])})),n.singlePageInline=null,n.options.singlePageInlineDelegate&&(n.singlePageInline=Object.create(o),n.singlePageInline.init(n,"singlePageInline"),n.$obj.on("click.cbp",n.options.singlePageInlineDelegate,function(e){e.preventDefault();var i=t.data(this,"cbp-locked"),s=t.data(this,"cbp-locked",+new Date);(!i||s-i>300)&&n.singlePageInline.openSinglePageInline(n.blocksOn,this)}))},s.prototype.detectScope=function(e){var n,s,r;return n=e.closest(".cbp-popup-singlePageInline"),n.length?(r=e.closest(".cbp",n[0]),r.length?r:n):(s=e.closest(".cbp-popup-singlePage"),s.length?(r=e.closest(".cbp",s[0]),r.length?r:s):(r=e.closest(".cbp"),r.length?r:t(i.body)))},s.prototype.destroy=function(){var e=this.parent;t(i.body).off("click.cbp"),a=!1,l=!1,e.lightbox&&e.lightbox.destroy(),e.singlePage&&e.singlePage.destroy(),e.singlePageInline&&e.singlePageInline.destroy()},r.plugins.popUp=function(t){return new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=this;i.parent=e,i.searchInput=t(e.options.search),i.searchInput.each(function(e,i){var n=i.getAttribute("data-search");n||(n="*"),t.data(i,"searchData",{value:i.value,el:n})});var n=null;i.searchInput.on("keyup.cbp paste.cbp",function(e){e.preventDefault();var s=t(this);clearTimeout(n),n=setTimeout(function(){i.runEvent.call(i,s)},300)}),i.searchNothing=i.searchInput.siblings(".cbp-search-nothing").detach(),i.searchNothingHeight=null,i.searchNothingHTML=i.searchNothing.html(),i.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(e){e.preventDefault(),i.runEvent.call(i,t(this).prev().val(""))})}var r=t.fn.cubeportfolio.constructor;s.prototype.runEvent=function(e){var i=this,n=e.val(),s=e.data("searchData"),r=new RegExp(n,"i");s.value===n||i.parent.isAnimating||(s.value=n,n.length>0?e.attr("value",n):e.removeAttr("value"),i.parent.$obj.cubeportfolio("filter",function(e){var o=e.filter(function(e,i){var n=t(i).find(s.el).text();return n.search(r)>-1||void 0});if(0===o.length&&i.searchNothing.length){var a=i.searchNothingHTML.replace("{{query}}",n);i.searchNothing.html(a),i.searchNothing.appendTo(i.parent.$obj),null===i.searchNothingHeight&&(i.searchNothingHeight=i.searchNothing.outerHeight(!0)),i.parent.registerEvent("resizeMainContainer",function(){i.parent.height=i.parent.height+i.searchNothingHeight,i.parent.obj.style.height=i.parent.height+"px"},!0)}else i.searchNothing.detach();return o},function(){e.trigger("keyup.cbp")}))},s.prototype.destroy=function(){var e=this;e.searchInput.off(".cbp"),e.searchInput.next(".cbp-search-icon").off(".cbp"),e.searchInput.each(function(e,i){t.removeData(i)})},r.plugins.search=function(t){return""===t.options.search?null:new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function s(e){var i=this;i.parent=e,i.options=t.extend({},r,i.parent.options.plugins.slider);var n=t(i.options.pagination);n.length>0&&(i.parent.customPagination=n,i.parent.customPaginationItems=n.children(),i.parent.customPaginationClass=i.options.paginationClass,i.parent.customPaginationItems.on("click.cbp",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),i.parent.sliderStopEvents||i.parent.jumpToSlider(t(this))})),i.parent.registerEvent("gridAdjust",function(){i.sliderMarkup.call(i.parent),i.parent.registerEvent("gridAdjust",function(){i.updateSlider.call(i.parent)})},!0)}var r={pagination:"",paginationClass:"cbp-pagination-active"},o=t.fn.cubeportfolio.constructor;s.prototype.sliderMarkup=function(){var e=this;e.sliderStopEvents=!1,e.sliderActive=0,e.$obj.one("initComplete.cbp",function(){e.$obj.addClass("cbp-mode-slider")}),e.nav=t("<div/>",{"class":"cbp-nav"}),e.nav.on("click.cbp","[data-slider-action]",function(i){if(i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation(),!e.sliderStopEvents){var n=t(this),s=n.attr("data-slider-action");e[s+"Slider"]&&e[s+"Slider"](n)}}),e.options.showNavigation&&(e.controls=t("<div/>",{"class":"cbp-nav-controls"}),e.navPrev=t("<div/>",{"class":"cbp-nav-prev","data-slider-action":"prev"}).appendTo(e.controls),e.navNext=t("<div/>",{"class":"cbp-nav-next","data-slider-action":"next"}).appendTo(e.controls),e.controls.appendTo(e.nav)),e.options.showPagination&&(e.navPagination=t("<div/>",{"class":"cbp-nav-pagination"}).appendTo(e.nav)),(e.controls||e.navPagination)&&e.nav.appendTo(e.$obj),e.updateSliderPagination(),e.options.auto&&(e.options.autoPauseOnHover&&(e.mouseIsEntered=!1,e.$obj.on("mouseenter.cbp",function(t){e.mouseIsEntered=!0,e.stopSliderAuto()}).on("mouseleave.cbp",function(t){e.mouseIsEntered=!1,e.startSliderAuto()})),e.startSliderAuto()),e.options.drag&&o["private"].modernBrowser&&e.dragSlider()},s.prototype.updateSlider=function(){var t=this;t.updateSliderPosition(),t.updateSliderPagination()},s.prototype.destroy=function(){var t=this;t.parent.customPaginationItems&&t.parent.customPaginationItems.off(".cbp"),(t.parent.controls||t.parent.navPagination)&&(t.parent.nav.off(".cbp"),t.parent.nav.remove())},o.plugins.slider=function(t){return"slider"!==t.options.layoutMode?null:new s(t)}}(jQuery,window,document),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,n;!function(e){function s(t,e){return w.call(t,e)}function r(t,e){var i,n,s,r,o,a,l,h,c,u,d,p=e&&e.split("/"),f=y.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),t=t.split("/"),o=t.length-1,y.nodeIdCompat&&S.test(t[o])&&(t[o]=t[o].replace(S,"")),t=p.concat(t),c=0;c<t.length;c+=1)if(d=t[c],"."===d)t.splice(c,1),c-=1;else if(".."===d){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&f){for(i=t.split("/"),c=i.length;c>0;c-=1){if(n=i.slice(0,c).join("/"),p)for(u=p.length;u>0;u-=1)if(s=f[p.slice(0,u).join("/")],s&&(s=s[n])){r=s,a=c;break}if(r)break;!l&&g&&g[n]&&(l=g[n],h=c)}!r&&l&&(r=l,a=h),r&&(i.splice(0,a,r),t=i.join("/"))}return t}function o(t,i){return function(){return p.apply(e,x.call(arguments,0).concat([t,i]))}}function a(t){return function(e){return r(e,t)}}function l(t){return function(e){m[t]=e}}function h(t){if(s(v,t)){var i=v[t];delete v[t],b[t]=!0,d.apply(e,i)}if(!s(m,t)&&!s(b,t))throw new Error("No "+t);return m[t]}function c(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function u(t){return function(){return y&&y.config&&y.config[t]||{}}}var d,p,f,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice,S=/\.js$/;f=function(t,e){var i,n=c(t),s=n[0];return t=n[1],s&&(s=r(s,e),i=h(s)),s?t=i&&i.normalize?i.normalize(t,a(e)):r(t,e):(t=r(t,e),n=c(t),s=n[0],t=n[1],s&&(i=h(s))),{f:s?s+"!"+t:t,n:t,pr:s,p:i}},g={require:function(t){return o(t)},exports:function(t){var e=m[t];return"undefined"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:u(t)}}},d=function(t,i,n,r){var a,c,u,d,p,y,w=[],x=typeof n;if(r=r||t,"undefined"===x||"function"===x){for(i=!i.length&&n.length?["require","exports","module"]:i,p=0;p<i.length;p+=1)if(d=f(i[p],r),c=d.f,"require"===c)w[p]=g.require(t);else if("exports"===c)w[p]=g.exports(t),y=!0;else if("module"===c)a=w[p]=g.module(t);else if(s(m,c)||s(v,c)||s(b,c))w[p]=h(c);else{if(!d.p)throw new Error(t+" missing "+c);d.p.load(d.n,o(r,!0),l(c),{}),w[p]=m[c]}u=n?n.apply(m[t],w):void 0,t&&(a&&a.exports!==e&&a.exports!==m[t]?m[t]=a.exports:u===e&&y||(m[t]=u))}else t&&(m[t]=n)},t=i=p=function(t,i,n,s,r){if("string"==typeof t)return g[t]?g[t](i):h(f(t,i).f);if(!t.splice){if(y=t,y.deps&&p(y.deps,y.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=s,s=r),s?d(e,t,i,n):setTimeout(function(){d(e,t,i,n)},4),p},p.config=function(t){return p(t)},t._defined=m,n=function(t,e,i){e.splice||(i=e,e=[]),s(m,t)||s(v,t)||(v[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){var s=e[n];"function"==typeof s&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var s in e)n.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,s=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),s=i.prototype.constructor),s.apply(this,arguments)}function s(){this.constructor=n}var r=e(i),o=e(t);i.displayName=t.displayName,n.prototype=new s;for(var a=0;a<o.length;a++){var l=o[a];n.prototype[l]=t.prototype[l]}for(var h=(function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var s=i.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),s.apply(this,arguments)}}),c=0;c<r.length;c++){var u=r[c];n.prototype[u]=h(u)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;n>i;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;t>i;i++){var n=Math.floor(36*Math.random());e+=n.toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var s=0;s<i.length;s++){var r=i[s];r=r.substring(0,1).toLowerCase()+r.substring(1),r in n||(n[r]={}),s==i.length-1&&(n[r]=t[e]),n=n[r]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),s=i.style.overflowX,r=i.style.overflowY;return(s!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===s||"scroll"===r||(n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth))},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" class="select2-results__option"></li>'),s=this.options.get("translations").get(e.message);n.append(i(s(e.args))),this.$results.append(n)},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],s=this.option(n);e.push(s)}this.$results.append(e)},i.prototype.position=function(t,e){var i=e.find(".select2-results");i.append(t)},i.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var n=t.map(i,function(t){return t.id.toString()}),s=e.$results.find(".select2-results__option[aria-selected]");s.each(function(){var e=t(this),i=t.data(this,"data"),s=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(s,n)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var r=s.filter("[aria-selected=true]");r.length>0?r.first().trigger("mouseenter"):s.first().trigger("mouseenter")})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]);for(var s in n){var r=n[s];i.setAttribute(s,r)}if(e.children){var o=t(i),a=document.createElement("strong");a.className="select2-results__group",t(a),this.template(e,a);for(var l=[],h=0;h<e.children.length;h++){var c=e.children[h],u=this.option(c);l.push(u)}var d=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});d.append(l),o.append(a),o.append(d)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e){var i=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.showLoading(t)}),e.on("select",function(){e.isOpen()&&i.setClasses()}),e.on("unselect",function(){e.isOpen()&&i.setClasses()}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close"):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var s=n-1;0===t.length&&(s=0);var r=e.eq(s);r.trigger("mouseenter");var o=i.$results.offset().top,a=r.offset().top,l=i.$results.scrollTop()+(a-o);0===s?i.$results.scrollTop(0):0>a-o&&i.$results.scrollTop(l)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t),s=n+1;if(!(s>=e.length)){var r=e.eq(s);r.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),l=i.$results.scrollTop()+a-o;0===s?i.$results.scrollTop(0):a>o&&i.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-i.$results.scrollTop()+t.deltaY,s=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&n<=i.$results.height();s?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),s=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:s}):i.trigger("close")):void i.trigger("select",{originalEvent:e,data:s})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:e,element:t(this)})})},i.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,s=t.offset().top,r=this.$results.scrollTop()+(s-n),o=s-n;r-=2*t.outerHeight(!1),2>=i?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(r)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),s=this.options.get("escapeMarkup"),r=n(e);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=s(r):t(i).append(r)},i}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},n.prototype.bind=function(t){var e=this,n=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e.trigger("blur",t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",n),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},n.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),n=i.closest(".select2"),s=t(".select2.select2-container--open");s.each(function(){var e=t(this);if(this!=n[0]){var i=e.data("element");i.select2("close")}})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){var i=e.find(".selection");i.append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},n.prototype.bind=function(t){var e=this;n.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},n.prototype.selectionContainer=function(){return t("<span></span>")},n.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.display(e),n=this.$selection.find(".select2-selection__rendered");n.empty().append(i),n.prop("title",e.title||e.text)},n}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(){var e=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(i){var n=t(this),s=n.parent(),r=s.data("data");e.trigger("unselect",{originalEvent:i,data:r})})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},n.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var s=t[n],r=this.display(s),o=this.selectionContainer();o.append(r),o.prop("title",s.title||s.text),o.data("data",s),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id,n=e.length>1;if(n||i)return t.call(this,e);this.clear();var s=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(s)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function i(){}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),s=0;s<n.length;s++){var r={data:n[s]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},i.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||(i.which==e.DELETE||i.which==e.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=t('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return n},n.prototype.bind=function(t,e,n){var s=this;t.call(this,e,n),e.on("open",function(){s.$search.attr("tabindex",0),s.$search.focus()}),e.on("close",function(){s.$search.attr("tabindex",-1),s.$search.val(""),s.$search.focus()}),e.on("enable",function(){s.$search.prop("disabled",!1)}),e.on("disable",function(){s.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(t){s.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){s.trigger("blur",t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),s.trigger("keypress",t),s._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===i.BACKSPACE&&""===s.$search.val()){var n=s.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var r=n.data("data");s.searchRemoveChoice(r),t.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){s.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(t){s.handleSearch(t)})},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.trigger("open"),this.$search.val(e.text+" ")},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var s=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,r)){i=i||{};var n=t.Event("select2:"+e,{params:i});s.$element.trigger(n),-1!==t.inArray(e,o)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){var t={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S",
"Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),n+=null!=i.id?"-"+i.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),s=n.item(t);e.push(s)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var s=[];t=[t],t.push.apply(t,n);for(var r=0;r<t.length;r++){var o=t[r].id;-1===i.inArray(o,s)&&s.push(o)}e.$element.val(s),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,i(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var s=[],r=0;r<n.length;r++){var o=n[r].id;o!==t.id&&-1===i.inArray(o,s)&&s.push(o)}e.$element.val(s),e.$element.trigger("change")})},n.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(t,e){var n=[],s=this,r=this.$element.children();r.each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var r=s.item(e),o=s.matches(t,r);null!==o&&n.push(o)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=i(e),s=this._normalizeItem(t);return s.element=e,i.data(e,"data",s),n},n.prototype.item=function(t){var e={};if(e=i.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),s=[],r=0;r<n.length;r++){var o=i(n[r]),a=this.item(o);s.push(a)}e.children=s}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){var i=this.options.get("matcher");return i(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){function n(t){return function(){return i(this).val()==t.id}}for(var s=this,r=this.$element.find("option"),o=r.map(function(){return s.item(i(this)).id}).get(),a=[],l=0;l<t.length;l++){var h=this._normalizeItem(t[l]);if(i.inArray(h.id,o)>=0){var c=r.filter(n(h)),u=this.item(c),d=(i.extend(!0,{},u,h),this.option(u));c.replaceWith(d)}else{var p=this.option(h);if(h.children){var f=this.convertToOptions(h.children);e.appendMany(p,f)}a.push(p)}}return a},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(e,i){this.ajaxOptions=this._applyDefaults(i.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),t.__super__.constructor.call(this,e,i)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return{q:t.term}},transport:function(t,e,n){var s=i.ajax(t);return s.then(e),s.fail(n),s}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=r.transport(r,function(n){var r=s.processResults(n,t);s.options.get("debug")&&window.console&&console.error&&(r&&r.results&&i.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){});s._request=n}var s=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url(t)),"function"==typeof r.data&&(r.data=r.data(t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var s=n.get("tags"),r=n.get("createTag");if(void 0!==r&&(this.createTag=r),e.call(this,i,n),t.isArray(s))for(var o=0;o<s.length;o++){var a=s[o],l=this._normalizeItem(a),h=this.option(l);this.$element.append(h)}}return e.prototype.query=function(t,e,i){function n(t,r){for(var o=t.results,a=0;a<o.length;a++){var l=o[a],h=null!=l.children&&!n({results:l.children},!0),c=l.text===e.term;if(c||h)return!r&&(t.data=o,void i(t))}if(r)return!0;var u=s.createTag(e);if(null!=u){var d=s.option(u);d.attr("data-select2-tag",!0),s.addOptions([d]),s.insertTag(o,u)}t.results=o,i(t)}var s=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,i):void t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(){var e=(this._lastTag,this.$element.find("option[data-select2-tag]"));e.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(t,e,i){function n(t){s.select(t)}var s=this;e.term=e.term||"";var r=this.tokenizer(e,this.options,n);r.term!==e.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),e.term=r.term),t.call(this,e,i)},e.prototype.tokenizer=function(e,i,n,s){for(var r=n.get("tokenSeparators")||[],o=i.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<o.length;){var h=o[a];if(-1!==t.inArray(h,r)){var c=o.substr(0,a),u=t.extend({},i,{term:c}),d=l(u);s(d),o=o.substr(a+1)||"",a=0}else a++}return{term:o}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(s){var r=null!=s?s.length:0;return n.maximumSelectionLength>0&&r>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},e.prototype.bind=function(e,i,n){var s=this;e.call(this,i,n),this.$search.on("keydown",function(t){s.trigger("keypress",t),s._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){s.handleSearch(t)}),i.on("open",function(){s.$search.attr("tabindex",0),s.$search.focus(),window.setTimeout(function(){s.$search.focus()},0)}),i.on("close",function(){s.$search.attr("tabindex",-1),s.$search.val("")}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=s.showSearch(t);e?s.$searchContainer.removeClass("select2-search--hide"):s.$searchContainer.addClass("select2-search--hide")}})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var s=e[n];this.placeholder.id===s.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var s=this;e.call(this,i,n),i.on("query",function(t){s.lastParams=t,s.loading=!0}),i.on("query:append",function(t){s.lastParams=t,s.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,s.$loadingMore[0]);if(!s.loading&&e){var i=s.$results.offset().top+s.$results.outerHeight(!1),n=s.$loadingMore.offset().top+s.$loadingMore.outerHeight(!1);i+50>=n&&s.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="option load-more" role="treeitem"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(t,e,i){this.$dropdownParent=i.get("dropdownParent")||document.body,t.call(this,e,i)}return i.prototype.bind=function(t,e,i){var n=this,s=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),s||(s=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i){var n=this,s="scroll.select2."+i.id,r="resize.select2."+i.id,o="orientationchange.select2."+i.id,a=this.$container.parents().filter(e.hasScroll);a.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),a.on(s,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(s+" "+r+" "+o,function(){n._positionDropdown(),n._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i){var n="scroll.select2."+i.id,s="resize.select2."+i.id,r="orientationchange.select2."+i.id,o=this.$container.parents().filter(e.hasScroll);o.off(n),t(window).off(n+" "+s+" "+r)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),s=null,r=(this.$container.position(),this.$container.offset());r.bottom=r.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=r.top,o.bottom=r.top+o.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},h=l.top<r.top-a.height,c=l.bottom>r.bottom+a.height,u={left:r.left,top:o.bottom};i||n||(s="below"),c||!h||i?!h&&c&&i&&(s="below"):s="above",("above"==s||i&&"below"!==s)&&(u.top=o.top-a.height),null!=s&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+s),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+s)),this.$dropdownContainer.css(u)},i.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var s=e[n];s.children?i+=t(s.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return!(t(i.data.results)<this.minimumResultsForSearch)&&e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(){n._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();t.length<1||this.trigger("select",{data:t.data("data")})},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close")},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){var e=t.minimum-t.input.length,i="Please enter "+e+" or more characters";return i},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,s,r,o,a,l,h,c,u,d,p,f,g,m,v,y,b,w,x,S,k,C,D,T,_,E){function M(){this.reset()}M.prototype.apply=function(u){if(u=t.extend({},this.defaults,u),null==u.dataAdapter){if(u.dataAdapter=null!=u.ajax?f:null!=u.data?p:d,u.minimumInputLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,y)),u.maximumSelectionLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,b)),u.tags&&(u.dataAdapter=h.Decorate(u.dataAdapter,g)),(null!=u.tokenSeparators||null!=u.tokenizer)&&(u.dataAdapter=h.Decorate(u.dataAdapter,m)),null!=u.query){var E=e(u.amdBase+"compat/query");u.dataAdapter=h.Decorate(u.dataAdapter,E)}if(null!=u.initSelection){var M=e(u.amdBase+"compat/initSelection");u.dataAdapter=h.Decorate(u.dataAdapter,M)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,k)),null!=u.placeholder&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,S)),u.selectOnClose&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,T))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=w;else{var A=h.Decorate(w,x);u.dropdownAdapter=A}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=h.Decorate(u.dropdownAdapter,D)),u.closeOnSelect&&(u.dropdownAdapter=h.Decorate(u.dropdownAdapter,_)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var I=e(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=h.Decorate(u.dropdownAdapter,I)}u.dropdownAdapter=h.Decorate(u.dropdownAdapter,C)}if(null==u.selectionAdapter){if(u.selectionAdapter=u.multiple?s:n,null!=u.placeholder&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,r)),u.allowClear&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,o)),u.multiple&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,a)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var P=e(u.amdBase+"compat/containerCss");u.selectionAdapter=h.Decorate(u.selectionAdapter,P)}u.selectionAdapter=h.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var R=u.language.split("-"),H=R[0];u.language=[u.language,H]}else u.language=[u.language];if(t.isArray(u.language)){var $=new c;u.language.push("en");for(var L=u.language,O=0;O<L.length;O++){var F=L[O],B={};try{B=c.loadPath(F)}catch(N){try{F=this.defaults.amdLanguageBase+F,B=c.loadPath(F)}catch(j){u.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+F+'" could not be automatically loaded. A fallback will be used instead.');continue}}$.extend(B)}u.translations=$}else{var z=c.loadPath(this.defaults.amdLanguageBase+"en"),W=new c(u.language);W.extend(z),u.translations=W}return u},M.prototype.reset=function(){function e(t){function e(t){return u[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,s){if(""===t.trim(n.term))return s;if(s.children&&s.children.length>0){for(var r=t.extend(!0,{},s),o=s.children.length-1;o>=0;o--){var a=s.children[o],l=i(n,a);null==l&&r.children.splice(o,1)}return r.children.length>0?r:i(n,r)}var h=e(s.text).toUpperCase(),c=e(n.term).toUpperCase();return h.indexOf(c)>-1?s:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:E,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},M.prototype.set=function(e,i){var n=t.camelCase(e),s={};s[n]=i;var r=h._convertData(s);t.extend(this.defaults,r)};var A=new M;return A}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function s(e,s){if(this.options=e,null!=s&&this.fromElement(s),this.options=i.apply(this.options),s&&s.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,r)}}return s.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=t.prop("dir")?t.prop("dir"):t.closest("[dir]").prop("dir")?t.closest("[dir]").prop("dir"):"ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var s={};s=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var r=e.extend(!0,{},s);r=n._convertData(r);for(var o in r)e.inArray(o,i)>-1||(e.isPlainObject(this.options[o])?e.extend(this.options[o],r[o]):this.options[o]=r[o]);return this},s.prototype.get=function(t){return this.options[t]},s.prototype.set=function(t,e){this.options[t]=e},s}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var s=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),s.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var o=this.render();this._placeContainer(o);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var h=this.options.get("resultsAdapter");this.results=new h(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){c.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(s,i.Observable),s.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e="select2-"+e},s.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},s.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var s=t.outerWidth(!1);return 0>=s?"auto":s+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var o=r.split(";"),a=0,l=o.length;l>a;a+=1){var h=o[a].replace(/\s/g,""),c=h.match(i);if(null!==c&&c.length>=1)return c[1]}return null}return e},s.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},s.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},s.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},s.prototype._registerSelectionEvents=function(){var e=this,i=["toggle"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("*",function(n,s){-1===t.inArray(n,i)&&e.trigger(n,s)})},s.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},s.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},s.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("focus",function(){t.$container.addClass("select2-container--focus")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open"),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){
t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ENTER?(t.trigger("results:select"),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle"),e.preventDefault()):i===n.UP?(t.trigger("results:previous"),e.preventDefault()):i===n.DOWN?(t.trigger("results:next"),e.preventDefault()):(i===n.ESC||i===n.TAB)&&(t.close(),e.preventDefault()):(i===n.ENTER||i===n.SPACE||(i===n.DOWN||i===n.UP)&&e.altKey)&&(t.open(),e.preventDefault())})},s.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},s.prototype.trigger=function(t,e){var i=s.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t in n){var r=n[t],o={prevented:!1,name:t,args:e};if(i.call(this,r,o),o.prevented)return void(e.prevented=!0)}i.call(this,t,e)},s.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},s.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},s.prototype.close=function(){this.isOpen()&&this.trigger("close")},s.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},s.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},s.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},s.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},s.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},s.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},s}),e.define("select2/compat/utils",["jquery"],function(t){function e(e,i,n){var s,r,o=[];s=t.trim(e.attr("class")),s&&(s=""+s,t(s.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)})),s=t.trim(i.attr("class")),s&&(s=""+s,t(s.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(r=n(this),null!=r&&o.push(r))})),e.attr("class",o.join(" "))}return{syncCssClasses:e}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function i(){return null}function n(){}return n.prototype.render=function(n){var s=n.call(this),r=this.options.get("containerCssClass")||"";t.isFunction(r)&&(r=r(this.$element));var o=this.options.get("adaptContainerCssClass");if(o=o||i,-1!==r.indexOf(":all:")){r=r.replace(":all","");var a=o;o=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(s,this.$element,o),s.css(l),s.addClass(r),s},n}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function i(){return null}function n(){}return n.prototype.render=function(n){var s=n.call(this),r=this.options.get("dropdownCssClass")||"";t.isFunction(r)&&(r=r(this.$element));var o=this.options.get("adaptDropdownCssClass");if(o=o||i,-1!==r.indexOf(":all:")){r=r.replace(":all","");var a=o;o=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(s,this.$element,o),s.css(l),s.addClass(r),s},n}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,t.call(this,e,i)}return e.prototype.current=function(e,i){var n=this;return this._isInitialized?void e.call(this,i):void this.initSelection.call(null,this.$element,function(e){n._isInitialized=!0,t.isArray(e)||(e=[e]),i(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===e.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,i)}return e.prototype.current=function(e,i){function n(e,i){var s=[];return e.selected||-1!==t.inArray(e.id,i)?(e.selected=!0,s.push(e)):e.selected=!1,e.children&&s.push.apply(s,n(e.children,i)),s}for(var s=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r];s.push.apply(s,n(o,this.$element.val().split(this._valueSeparator)))}i(s)},e.prototype.select=function(e,i){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+i.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var i=this;e.selected=!1,this.current(function(t){for(var n=[],s=0;s<t.length;s++){var r=t[s];e.id!=r.id&&n.push(r.id)}i.$element.val(n.join(i._valueSeparator)),i.$element.trigger("change")})},e.prototype.query=function(t,e,i){for(var n=[],s=0;s<this._currentData.length;s++){var r=this._currentData[s],o=this.matches(e,r);null!==o&&n.push(o)}i({results:n})},e.prototype.addOptions=function(e,i){var n=t.map(i,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,n)},e}),e.define("select2/compat/matcher",["jquery"],function(t){function e(e){function i(i,n){var s=t.extend(!0,{},n);if(null==i.term||""===t.trim(i.term))return s;if(n.children){for(var r=n.children.length-1;r>=0;r--){var o=n.children[r],a=e(i.term,o.text,o);a||s.children.splice(r,1)}if(s.children.length>0)return s}return e(i.term,n.text,n)?s:null}return i}return e}),e.define("select2/compat/query",[],function(){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.callback=i;var n=this.options.get("query");n.call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,i){t.call(this,e,i)}return t.prototype.position=function(t,e,i){var n=i.find(".dropdown-wrapper");n.append(e),e.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(n.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(n.join(" "),function(t){t.stopPropagation()})},t}),e.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(t,e,i,n){if(e("jquery.mousewheel"),null==t.fn.select2){var s=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var n=t.extend({},e,!0);new i(t(this),n)}),this;if("string"==typeof e){var n=this.data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var r=Array.prototype.slice.call(arguments,1),o=n[e](r);return t.inArray(e,s)>-1?this:o}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),function(i){"function"==typeof e.define&&e.define.amd?e.define("jquery.mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(t)}(function(t){function e(e){var o=e||window.event,a=l.call(arguments,1),h=0,u=0,d=0,p=0,f=0,g=0;if(e=t.event.fix(o),e.type="mousewheel","detail"in o&&(d=-1*o.detail),"wheelDelta"in o&&(d=o.wheelDelta),"wheelDeltaY"in o&&(d=o.wheelDeltaY),"wheelDeltaX"in o&&(u=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=-1*d,d=0),h=0===d?u:d,"deltaY"in o&&(d=-1*o.deltaY,h=d),"deltaX"in o&&(u=o.deltaX,0===d&&(h=-1*u)),0!==d||0!==u){if(1===o.deltaMode){var m=t.data(this,"mousewheel-line-height");h*=m,d*=m,u*=m}else if(2===o.deltaMode){var v=t.data(this,"mousewheel-page-height");h*=v,d*=v,u*=v}if(p=Math.max(Math.abs(d),Math.abs(u)),(!r||r>p)&&(r=p,n(o,p)&&(r/=40)),n(o,p)&&(h/=40,u/=40,d/=40),h=Math[h>=1?"floor":"ceil"](h/r),u=Math[u>=1?"floor":"ceil"](u/r),d=Math[d>=1?"floor":"ceil"](d/r),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,g=e.clientY-y.top}return e.deltaX=u,e.deltaY=d,e.deltaFactor=r,e.offsetX=f,e.offsetY=g,e.deltaMode=0,a.unshift(e,h,u,d),s&&clearTimeout(s),s=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function i(){r=null}function n(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var s,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var h=o.length;h;)t.event.fixHooks[o[--h]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),function(){function t(){var t,e,i=arguments,n={},s=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?s(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=s(n,i[t]);return n}function e(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function n(t){return t&&"object"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t}function o(t){return ot.log(t)/ot.LN10}function a(t){return ot.pow(10,t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function h(t){return t!==P&&null!==t}function c(t,e,s){var r,o;if(i(e))h(s)?t.setAttribute(e,s):t&&t.getAttribute&&(o=t.getAttribute(e));else if(h(e)&&n(e))for(r in e)t.setAttribute(r,e[r]);return o}function u(t){return s(t)?t:[t]}function d(t,e){bt&&!Dt&&e&&e.opacity!==P&&(e.filter="alpha(opacity="+100*e.opacity+")"),Bt(t.style,e)}function p(t,e,i,n,s){return t=st.createElement(t),e&&Bt(t,e),s&&d(t,{padding:0,border:Ht,margin:0}),i&&d(t,i),n&&n.appendChild(t),t}function f(t,e){var i=function(){return P};return i.prototype=new t,Bt(i.prototype,e),i}function g(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function m(t){return 6e4*(W&&W(t)||z||0)}function v(t,e){for(var i,n,s,r,o,a="{",l=!1,h=[];(a=t.indexOf(a))!==-1;){if(i=t.slice(0,a),l){for(n=i.split(":"),s=n.shift().split("."),o=s.length,i=e,r=0;r<o;r++)i=i[s[r]];n.length&&(n=n.join(":"),s=/\.([0-9])/,r=L.lang,o=void 0,/f$/.test(n)?(o=(o=n.match(s))?o[1]:-1,null!==i&&(i=nt.numberFormat(i,o,r.decimalPoint,n.indexOf(",")>-1?r.thousandsSep:""))):i=O(n,i))}h.push(i),t=t.slice(a+1),a=(l=!l)?"}":"{"}return h.push(t),h.join("")}function y(t){return ot.pow(10,lt(ot.log(t)/ot.LN10))}function b(t,e,i,n,s){var r,o=t,i=Nt(i,1);for(r=t/i,e||(e=[1,2,2.5,5,10],n===!1&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),n=0;n<e.length&&(o=e[n],!(s&&o*i>=t||!s&&r<=(e[n]+(e[n+1]||e[n]))/2));n++);return o*=i}function w(t,e){var i,n,s=t.length;for(n=0;n<s;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;n<s;n++)delete t[n].ss_i}function x(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function S(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function k(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function C(t){$||($=p(Rt)),t&&$.appendChild(t),$.innerHTML=""}function D(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;rt.console&&console.log(i)}function T(t,e){return parseFloat(t.toPrecision(e||14))}function _(t,e){e.renderer.globalAnimation=Nt(t,e.animation)}function E(){var t=L.global,e=t.useUTC,i=e?"getUTC":"get",n=e?"setUTC":"set";N=t.Date||window.Date,z=e&&t.timezoneOffset,W=e&&t.getTimezoneOffset,j=function(t,i,n,s,r,o){var a;return e?(a=N.UTC.apply(0,arguments),a+=m(a)):a=new N(t,i,Nt(n,1),Nt(s,0),Nt(r,0),Nt(o,0)).getTime(),a},Y=i+"Minutes",G=i+"Hours",U=i+"Day",V=i+"Date",q=i+"Month",X=i+"FullYear",K=n+"Milliseconds",Q=n+"Seconds",Z=n+"Minutes",J=n+"Hours",tt=n+"Date",et=n+"Month",it=n+"FullYear"}function M(){}function A(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function I(t,e,i,n,s){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=s,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:Nt(e.y,r?4:i?14:-6),x:Nt(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}var P,R,H,$,L,O,F,B,N,j,z,W,Y,G,U,V,q,X,K,Q,Z,J,tt,et,it,nt,st=document,rt=window,ot=Math,at=ot.round,lt=ot.floor,ht=ot.ceil,ct=ot.max,ut=ot.min,dt=ot.abs,pt=ot.cos,ft=ot.sin,gt=ot.PI,mt=2*gt/360,vt=navigator.userAgent,yt=rt.opera,bt=/(msie|trident|edge)/i.test(vt)&&!yt,wt=8===st.documentMode,xt=!bt&&/AppleWebKit/.test(vt),St=/Firefox/.test(vt),kt=/(Mobile|Android|Windows Phone)/.test(vt),Ct="http://www.w3.org/2000/svg",Dt=!!st.createElementNS&&!!st.createElementNS(Ct,"svg").createSVGRect,Tt=St&&parseInt(vt.split("Firefox/")[1],10)<4,_t=!Dt&&!bt&&!!st.createElement("canvas").getContext,Et={},Mt=0,At=function(){return P},It=[],Pt=0,Rt="div",Ht="none",$t=/^[0-9]+$/,Lt=["plotTop","marginRight","marginBottom","plotLeft"],Ot="stroke-width",Ft={};nt=rt.Highcharts=rt.Highcharts?D(16,!0):{},nt.seriesTypes=Ft;var Bt=nt.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},Nt=nt.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(e=i[t],e!==P&&null!==e)return e},jt=nt.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};O=function(t,e,i){if(!h(e)||isNaN(e))return L.lang.invalidDate||"";var n,t=Nt(t,"%Y-%m-%d %H:%M:%S"),s=new N(e-m(e)),r=s[G](),o=s[U](),a=s[V](),l=s[q](),c=s[X](),u=L.lang,d=u.weekdays,s=Bt({a:d[o].substr(0,3),A:d[o],d:g(a),e:a,w:o,b:u.shortMonths[l],B:u.months[l],m:g(l+1),y:c.toString().substr(2,2),Y:c,H:g(r),k:r,I:g(r%12||12),l:r%12||12,M:g(s[Y]()),p:r<12?"AM":"PM",P:r<12?"am":"pm",S:g(s.getSeconds()),L:g(at(e%1e3),3)},nt.dateFormats);for(n in s)for(;t.indexOf("%"+n)!==-1;)t=t.replace("%"+n,"function"==typeof s[n]?s[n](e):s[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},B={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},nt.numberFormat=function(t,i,n,s){var r=L.lang,t=+t||0,o=i===-1?ut((t.toString().split(".")[1]||"").length,20):isNaN(i=dt(i))?2:i,i=void 0===n?r.decimalPoint:n,s=void 0===s?r.thousandsSep:s,r=t<0?"-":"",n=String(e(t=dt(t).toFixed(o))),a=n.length>3?n.length%3:0;return r+(a?n.substr(0,a)+s:"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?i+dt(t-n).toFixed(o).slice(2):"")},F={init:function(t,e,i){var n,s,r,e=e||"",o=t.shift,a=e.indexOf("C")>-1,l=a?7:3,e=e.split(" "),i=[].concat(i),h=function(t){for(n=t.length;n--;)"M"===t[n]&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])};if(a&&(h(e),h(i)),t.isArea&&(s=e.splice(e.length-6,6),r=i.splice(i.length-6,6)),o<=i.length/l&&e.length===i.length)for(;o--;)i=[].concat(i).splice(0,l).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)o=[].concat(e).splice(e.length-l,l),a&&(o[l-6]=o[l-2],o[l-5]=o[l-1]),e=e.concat(o);return s&&(e=e.concat(s),i=i.concat(r)),[e,i]},step:function(t,e,i,n){var s=[],r=t.length;if(1===i)s=n;else if(r===e.length&&i<1)for(;r--;)n=parseFloat(t[r]),s[r]=isNaN(n)?t[r]:i*parseFloat(e[r]-n)+n;else s=e;return s}},function(t){rt.HighchartsAdapter=rt.HighchartsAdapter||t&&{init:function(e){var n=t.fx;t.extend(t.easing,{easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i}}),t.each(["cur","_default","width","height","opacity"],function(e,i){var s,r=n.step;"cur"===i?r=n.prototype:"_default"===i&&t.Tween&&(r=t.Tween.propHooks[i],i="set"),(s=r[i])&&(r[i]=function(t){var n,t=e?t:this;if("align"!==t.prop)return n=t.elem,n.attr?n.attr(t.prop,"cur"===i?P:t.now):s.apply(this,arguments)})}),jt(t.cssHooks.opacity,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),this.addAnimSetter("d",function(t){var i,n=t.elem;t.started||(i=e.init(n,n.d,n.toD),t.start=i[0],t.end=i[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))}),this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(e.call(t[i],t[i],i,t)===!1)return i},t.fn.highcharts=function(){var t,e,n="Chart",s=arguments;return this[0]&&(i(s[0])&&(n=s[0],s=Array.prototype.slice.call(s,1)),t=s[0],t!==P&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new nt[n](t,s[1]),e=this),t===P&&(e=It[c(this[0],"data-highcharts-chart")])),e}},addAnimSetter:function(e,i){t.Tween?t.Tween.propHooks[e]={set:i}:t.fx.step[e]=i},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,i){return t(e)[i]()},grep:t.grep,map:function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(e){return t(e).offset()},addEvent:function(e,i,n){t(e).bind(i,n)},removeEvent:function(e,i,n){var s=st.removeEventListener?"removeEventListener":"detachEvent";st[s]&&e&&!e[s]&&(e[s]=function(){}),t(e).unbind(i,n)},fireEvent:function(e,i,n,s){var r,o=t.Event(i),a="detached"+i;!bt&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),Bt(o,n),e[i]&&(e[a]=e[i],e[i]=null),t.each(["preventDefault","stopPropagation"],function(t,e){var i=o[e];o[e]=function(){try{i.call(o)}catch(t){"preventDefault"===e&&(r=!0)}}}),t(e).trigger(o),e[a]&&(e[i]=e[a],e[a]=null),s&&!o.isDefaultPrevented()&&!r&&s(o)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===P&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(e,i,n){var s=t(e);e.style||(e.style={}),i.d&&(e.toD=i.d,i.d=1),s.stop(),i.opacity!==P&&e.attr&&(i.opacity+="px"),e.hasAnim=1,s.animate(i,n)},stop:function(e){e.hasAnim&&t(e).stop()}}}(rt.jQuery);var zt=rt.HighchartsAdapter,Wt=zt||{};zt&&zt.init.call(zt,F);var Yt=Wt.adapterRun,Gt=Wt.getScript,Ut=Wt.inArray,Vt=nt.each=Wt.each,qt=Wt.grep,Xt=Wt.offset,Kt=Wt.map,Qt=Wt.addEvent,Zt=Wt.removeEvent,Jt=Wt.fireEvent,te=Wt.washMouseEvent,ee=Wt.animate,ie=Wt.stop;L={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.9/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.9/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":nt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Dt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:kt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ne=L.plotOptions,zt=ne.line;E();var se=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,re=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,oe=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ae=function(i){var n,s,o=[];return function(t){t&&t.stops?s=Kt(t.stops,function(t){return ae(t[1])}):(n=se.exec(t))?o=[e(n[1]),e(n[2]),e(n[3]),parseFloat(n[4],10)]:(n=re.exec(t))?o=[e(n[1],16),e(n[2],16),e(n[3],16),1]:(n=oe.exec(t))&&(o=[e(n[1]),e(n[2]),e(n[3]),1])}(i),{get:function(e){var n;return s?(n=t(i),n.stops=[].concat(n.stops),Vt(s,function(t,i){n.stops[i]=[n.stops[i][0],t.get(e)]})):n=o&&!isNaN(o[0])?"rgb"===e?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===e?o[3]:"rgba("+o.join(",")+")":i,n},brighten:function(t){if(s)Vt(s,function(e){e.brighten(t)});else if(r(t)&&0!==t){var i;for(i=0;i<3;i++)o[i]+=e(255*t),o[i]<0&&(o[i]=0),o[i]>255&&(o[i]=255)}return this},rgba:o,setOpacity:function(t){return o[3]=t,this},raw:i}};M.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(t,e){this.element="span"===e?p(e):st.createElementNS(Ct,e),this.renderer=t},animate:function(e,i,n){return i=Nt(i,this.renderer.globalAnimation,!0),ie(this),i?(i=t(i,{}),n&&(i.complete=n),ee(this,e,i)):this.attr(e,null,n),this},colorGradient:function(e,i,n){var r,o,a,l,c,u,d,p,f,g,m,v=this.renderer,y=[];if(e.linearGradient?o="linearGradient":e.radialGradient&&(o="radialGradient"),o){a=e[o],c=v.gradients,d=e.stops,g=n.radialReference,s(a)&&(e[o]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!h(a.gradientUnits)&&(l=a,a=t(a,v.getRadialAttr(g,l),{gradientUnits:"userSpaceOnUse"}));for(m in a)"id"!==m&&y.push(m,a[m]);for(m in d)y.push(d[m]);y=y.join(","),c[y]?e=c[y].attr("id"):(a.id=e="highcharts-"+Mt++,c[y]=u=v.createElement(o).attr(a).add(v.defs),u.radAttr=l,u.stops=[],Vt(d,function(t){0===t[1].indexOf("rgba")?(r=ae(t[1]),p=r.get("rgb"),f=r.get("a")):(p=t[1],f=1),t=v.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(u),u.stops.push(t)})),n.setAttribute(i,"url("+v.url+"#"+e+")"),n.gradient=y}},applyTextShadow:function(t){var i,n=this.element,s=t.indexOf("contrast")!==-1,r={},o=this.renderer.forExport,a=o||n.style.textShadow!==P&&!bt;s&&(r.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),(xt||o)&&(r.textRendering="geometricPrecision"),a?this.css(r):(this.fakeTS=!0,this.ySetter=this.xSetter,i=[].slice.call(n.getElementsByTagName("tspan")),Vt(t.split(/\s?,\s?/g),function(t){var s,r,o=n.firstChild,t=t.split(" ");s=t[t.length-1],(r=t[t.length-2])&&Vt(i,function(t,i){var a;0===i&&(t.setAttribute("x",n.getAttribute("x")),i=n.getAttribute("y"),t.setAttribute("y",i||0),null===i&&n.setAttribute("y",0)),a=t.cloneNode(1),c(a,{"class":"highcharts-text-shadow",fill:s,stroke:s,"stroke-opacity":1/ct(e(r),3),"stroke-width":r,"stroke-linejoin":"round"}),n.insertBefore(a,o)})}))},attr:function(t,e,i){var n,s,r,o=this.element,a=this;if("string"==typeof t&&e!==P&&(n=t,t={},t[n]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,o);else{for(n in t)e=t[n],r=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(s||(this.symbolAttr(t),s=!0),r=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),r||(this[n+"Setter"]||this._defaultSetter).call(this,e,n,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),a},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,"height"===t?ct(e-(i[n].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,i=c(e,"class")||"";return i.indexOf(t)===-1&&c(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Vt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=Nt(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ht)},crisp:function(t){var e,i,n={},s=t.strokeWidth||this.strokeWidth||0;i=at(s)%2/2,t.x=lt(t.x||this.x||0)+i,t.y=lt(t.y||this.y||0)+i,t.width=lt((t.width||this.width||0)-2*i),t.height=lt((t.height||this.height||0)-2*i),t.strokeWidth=s;for(e in t)this[e]!==t[e]&&(this[e]=n[e]=t[e]);return n},css:function(t){var i,n,s=this.styles,r={},o=this.element,a="";if(i=!s,t&&t.color&&(t.fill=t.color),s)for(n in t)t[n]!==s[n]&&(r[n]=t[n],i=!0);if(i){if(i=this.textWidth=t&&t.width&&"text"===o.nodeName.toLowerCase()&&e(t.width)||this.textWidth,s&&(t=Bt(s,r)),this.styles=t,i&&(_t||!Dt&&this.renderer.forExport)&&delete t.width,bt&&!Dt)d(this.element,t);else{s=function(t,e){return"-"+e.toLowerCase()};for(n in t)a+=n.replace(/([A-Z])/g,s)+":"+t[n]+";";c(o,"style",a)}i&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;return H&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=N.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(vt.indexOf("Android")===-1||N.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,r=this.rotation,o=this.element;s&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],s?t.push("rotate(90) scale(-1,1)"):r&&t.push("rotate("+r+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(h(i)||h(n))&&t.push("scale("+Nt(i,1)+" "+Nt(n,1)+")"),t.length&&o.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var s,r,o,a,h={};return r=this.renderer,o=r.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||i(n))&&(this.alignTo=s=n||"renderer",l(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),n=Nt(n,r[s],r),s=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),"right"!==s&&"center"!==s||(o+=(n.width-(t.width||0))/{right:1,center:2}[s]),h[e?"translateX":"x"]=at(o),"bottom"!==r&&"middle"!==r||(a+=(n.height-(t.height||0))/({
bottom:1,middle:2}[r]||1)),h[e?"translateY":"y"]=at(a),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(t){var e,i,n=this.renderer,s=this.rotation,r=this.element,o=this.styles,a=s*mt;i=this.textStr;var l,h,c,u=r.style;if(i!==P&&(c=["",s||0,o&&o.fontSize,r.style.width].join(","),c=""===i||$t.test(i)?"num:"+i.toString().length+c:i+c),c&&!t&&(e=n.cache[c]),!e){if(r.namespaceURI===Ct||n.forExport){try{h=this.fakeTS&&function(t){Vt(r.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},St&&u.textShadow?(l=u.textShadow,u.textShadow=""):h&&h(Ht),e=r.getBBox?Bt({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight},l?u.textShadow=l:h&&h("")}catch(d){}(!e||e.width<0)&&(e={width:0,height:0})}else e=this.htmlGetBBox();n.isSVG&&(t=e.width,i=e.height,bt&&o&&"11px"===o.fontSize&&"16.9"===i.toPrecision(3)&&(e.height=i=14),s&&(e.width=dt(i*ft(a))+dt(t*pt(a)),e.height=dt(i*pt(a))+dt(t*ft(a)))),c&&(n.cache[c]=e)}return e},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},s=i.shadows,r=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,ie(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),s&&Vt(s,function(t){i.safeRemoveChild(t)});r&&r.div&&0===r.div.childNodes.length;)n=r.parentGroup,i.safeRemoveChild(r.div),delete r.div,r=n;i.alignTo&&l(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,s,r,o,a,l,h=[],u=this.element;if(t){for(o=Nt(t.width,3),a=(t.opacity||.15)/o,l=this.parentInverted?"(-1,-1)":"("+Nt(t.offsetX,1)+", "+Nt(t.offsetY,1)+")",n=1;n<=o;n++)s=u.cloneNode(0),r=2*o+1-2*n,c(s,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":r,transform:"translate"+l,fill:Ht}),i&&(c(s,"height",ct(c(s,"height")-r,0)),s.cutHeight=r),e?e.element.appendChild(s):u.parentNode.insertBefore(s,u),h.push(s);this.shadows=h}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Nt(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var i;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),i=t.length;i--;)t[i]=e(t[i])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=st.createElementNS(Ct,"title"),this.element.appendChild(e)),e.appendChild(st.createTextNode(String(Nt(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,i){var n,s,r,o=this.renderer,a=this.parentGroup,o=(a||o).element||o.box,l=this.element;n=this.added;var u;if(h(t)&&(l.setAttribute(i,t),t=+t,this[i]===t&&(n=!1),this[i]=t),n){for((t=this.zIndex)&&a&&(a.handleZ=!0),a=o.childNodes,u=0;u<a.length&&!r;u++)n=a[u],s=c(n,"zIndex"),n!==l&&(e(s)>t||!h(t)&&h(s))&&(o.insertBefore(l,n),r=!0);r||o.appendChild(l)}return r},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},M.prototype.yGetter=M.prototype.xGetter,M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.rotationSetter=M.prototype.verticalAlignSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},M.prototype["stroke-widthSetter"]=M.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],M.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var le=function(){this.init.apply(this,arguments)};if(le.prototype={Element:M,init:function(t,e,i,n,s,r){var o,a=location,n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n));o=n.element,t.appendChild(o),t.innerHTML.indexOf("xmlns")===-1&&c(o,"xmlns",Ct),this.isSVG=!0,this.box=o,this.boxWrapper=n,this.alignedObjects=[],this.url=(St||xt)&&st.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(st.createTextNode("Created with Highcharts 4.1.9")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=s,this.gradients={},this.cache={},this.setSize(e,i,!1);var l;St&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){d(t,{left:0,top:0}),l=t.getBoundingClientRect(),d(t,{left:ht(l.left)-l.left+"px",top:ht(l.top)-l.top+"px"})},e(),Qt(rt,"resize",e))},getStyle:function(t){return this.style=Bt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&Zt(rt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var i,n,s=t.element,r=this,o=r.forExport,a=Nt(t.textStr,"").toString(),l=a.indexOf("<")!==-1,h=s.childNodes,u=c(s,"x"),p=t.styles,f=t.textWidth,g=p&&p.lineHeight,m=p&&p.textShadow,v=p&&"ellipsis"===p.textOverflow,y=h.length,b=f&&!t.added&&this.box,w=function(t){return g?e(g):r.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:p&&p.fontSize||r.style.fontSize||12,t).h},x=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)s.removeChild(h[y]);l||m||v||a.indexOf(" ")!==-1?(i=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(s),a=l?a.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[a],""===a[a.length-1]&&a.pop(),Vt(a,function(e,a){var l,h=0,e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=e.split("|||"),Vt(l,function(e){if(""!==e||1===l.length){var g,m={},y=st.createElementNS(Ct,"tspan");if(i.test(e)&&(g=e.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(y,"style",g)),n.test(e)&&!o&&(c(y,"onclick",'location.href="'+e.match(n)[1]+'"'),d(y,{cursor:"pointer"})),e=x(e.replace(/<(.|\n)*?>/g,"")||" ")," "!==e){if(y.appendChild(st.createTextNode(e)),h?m.dx=0:a&&null!==u&&(m.x=u),c(y,m),s.appendChild(y),!h&&a&&(!Dt&&o&&d(y,{display:"block"}),c(y,"dy",w(y))),f){for(var b,S,k,m=e.replace(/([^\^])-/g,"$1- ").split(" "),C=l.length>1||a||m.length>1&&"nowrap"!==p.whiteSpace,D=[],T=w(y),_=1,E=t.rotation,M=e,A=M.length;(C||v)&&(m.length||D.length);)t.rotation=0,b=t.getBBox(!0),k=b.width,!Dt&&r.forExport&&(k=r.measureSpanWidth(y.firstChild.data,t.styles)),b=k>f,void 0===S&&(S=b),v&&S?(A/=2,""===M||!b&&A<.5?m=[]:(b&&(S=!0),M=e.substring(0,M.length+(b?-1:1)*ht(A)),m=[M+(f>3?"…":"")],y.removeChild(y.firstChild))):b&&1!==m.length?(y.removeChild(y.firstChild),D.unshift(m.pop())):(m=D,D=[],m.length&&(_++,y=st.createElementNS(Ct,"tspan"),c(y,{dy:T,x:u}),g&&c(y,"style",g),s.appendChild(y)),k>f&&(f=k)),m.length&&y.appendChild(st.createTextNode(m.join(" ").replace(/- /g,"-")));S&&t.attr("title",t.textStr),t.rotation=E}h++}}})}),b&&b.removeChild(s),m&&t.applyTextShadow&&t.applyTextShadow(m)):s.appendChild(st.createTextNode(x(a)))},getContrast:function(t){return t=ae(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(e,i,n,s,r,o,a,l,h){var c,u,d,p,f,g,m=this.label(e,i,n,h,null,null,null,null,"button"),v=0,e={x1:0,y1:0,x2:0,y2:1},r=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);return d=r.style,delete r.style,o=t(r,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),p=o.style,delete o.style,a=t(r,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=t(r,{style:{color:"#CCC"}},l),g=l.style,delete l.style,Qt(m.element,bt?"mouseover":"mouseenter",function(){3!==v&&m.attr(o).css(p)}),Qt(m.element,bt?"mouseout":"mouseleave",function(){3!==v&&(c=[r,o,a][v],u=[d,p,f][v],m.attr(c).css(u))}),m.setState=function(t){(m.state=v=t)?2===t?m.attr(a).css(f):3===t&&m.attr(l).css(g):m.attr(r).css(d)},m.on("click",function(t){3!==v&&s.call(m,t)}).attr(r).css(Bt({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=at(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=at(t[2])+e%2/2),t},path:function(t){var e={fill:Ht};return s(t)?e.d=t:n(t)&&Bt(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=n(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=function(t){this.element.setAttribute("cx",t)},e.ySetter=function(t){this.element.setAttribute("cy",t)},e.attr(t)},arc:function(t,e,i,s,r,o){return n(t)&&(e=t.y,i=t.r,s=t.innerR,r=t.start,o=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:s||0,start:r||0,end:o||0}),t.r=i,t},rect:function(t,e,i,s,r,o){var r=n(t)?t.r:r,a=this.createElement("rect"),t=n(t)?t:t===P?{}:{x:t,y:e,width:ct(i,0),height:ct(s,0)};return o!==P&&(t.strokeWidth=o,t=a.crisp(t)),r&&(t.r=r),a.rSetter=function(t){c(this.element,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,s=n.length;for(this.width=t,this.height=e,this.boxWrapper[Nt(i,!0)?"animate":"attr"]({width:t,height:e});s--;)n[s].align()},g:function(t){var e=this.createElement("g");return h(t)?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,i,n,s){var r={preserveAspectRatio:Ht};return arguments.length>1&&Bt(r,{x:e,y:i,width:n,height:s}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("hc-svg-href",t),r},symbol:function(t,e,i,n,s,r){var o,a,l,h=this.symbols[t],h=h&&h(at(e),at(i),n,s,r),c=/^url\((.*?)\)$/;return h?(o=this.path(h),Bt(o,{symbolName:t,x:e,y:i,width:n,height:s}),r&&Bt(o,r)):c.test(t)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(at((n-e[0])/2),at((s-e[1])/2)))},a=t.match(c)[1],t=Et[a]||r&&r.width&&r.height&&[r.width,r.height],o=this.image(a).attr({x:e,y:i}),o.isImg=!0,t?l(o,t):(o.attr({width:0,height:0}),p("img",{onload:function(){0===this.width&&(d(this,{position:"absolute",top:"-999em"}),document.body.appendChild(this)),l(o,Et[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this)},src:a}))),o},symbols:{circle:function(t,e,i,n){var s=.166*i;return["M",t+i/2,e,"C",t+i+s,e,t+i+s,e+n,t+i/2,e+n,"C",t-s,e+n,t-s,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,s){var r=s.start,i=s.r||i||n,o=s.end-.001,n=s.innerR,a=s.open,l=pt(r),h=ft(r),c=pt(o),o=ft(o),s=s.end-r<gt?0:1;return["M",t+i*l,e+i*h,"A",i,i,0,s,1,t+i*c,e+i*o,a?"M":"L",t+n*c,e+n*o,"A",n,n,0,s,0,t+n*l,e+n*h,a?"":"Z"]},callout:function(t,e,i,n,s){var r,o=ut(s&&s.r||0,i,n),a=o+6,l=s&&s.anchorX,s=s&&s.anchorY;return r=["M",t+o,e,"L",t+i-o,e,"C",t+i,e,t+i,e,t+i,e+o,"L",t+i,e+n-o,"C",t+i,e+n,t+i,e+n,t+i-o,e+n,"L",t+o,e+n,"C",t,e+n,t,e+n,t,e+n-o,"L",t,e+o,"C",t,e,t,e,t+o,e],l&&l>i&&s>e+a&&s<e+n-a?r.splice(13,3,"L",t+i,s-6,t+i+6,s,t+i,s+6,t+i,e+n-o):l&&l<0&&s>e+a&&s<e+n-a?r.splice(33,3,"L",t,s+6,t-6,s,t,s-6,t,e+o):s&&s>n&&l>t+a&&l<t+i-a?r.splice(23,3,"L",l+6,e+n,l,e+n+6,l-6,e+n,t+o,e+n):s&&s<0&&l>t+a&&l<t+i-a&&r.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-o,e),r}},clipRect:function(t,e,i,n){var s="highcharts-"+Mt++,r=this.createElement("clipPath").attr({id:s}).add(this.defs),t=this.rect(t,e,i,n,0).add(r);return t.id=s,t.clipPath=r,t.count=0,t},text:function(t,e,i,n){var s=_t||!Dt&&this.forExport,r={};return!n||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),i&&(r.y=Math.round(i)),(t||0===t)&&(r.text=t),t=this.createElement("text").attr(r),s&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,s,r=i.getElementsByTagName("tspan"),o=i.getAttribute(e);for(s=0;s<r.length;s++)n=r[s],n.getAttribute(e)===o&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,i){var n,s,t=t||this.style.fontSize;return!t&&i&&rt.getComputedStyle&&(i=i.element||i,t=(n=rt.getComputedStyle(i,""))&&n.fontSize),t=/px/.test(t)?e(t):/em/.test(t)?12*parseFloat(t):12,n=t<24?t+3:at(1.2*t),s=at(.8*n),{h:n,b:s,f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=ct(n*pt(e*mt),4)),{x:-t/3*ft(e*mt),y:n}},label:function(e,i,n,s,r,o,a,l,c){function u(){var t,e;t=C.element.style,g=(void 0===m||void 0===v||k.styles.textAlign)&&h(C.textStr)&&C.getBBox(),k.width=(m||g.width||0)+2*T+_,k.height=(v||g.height||0)+2*T,w=T+S.fontMetrics(t&&t.fontSize,C).b,x&&(f||(t=at(-D*T)+E,e=(l?-w:0)+E,k.box=f=s?S.symbol(s,t,e,k.width,k.height,A):S.rect(t,e,k.width,k.height,0,A[Ot]),f.isImg||f.attr("fill",Ht),f.add(k)),f.isImg||f.attr(Bt({width:at(k.width),height:at(k.height)},A)),A=null)}function d(){var t,e=k.styles,e=e&&e.textAlign,i=_+T*(1-D);t=l?0:w,h(m)&&g&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(m-g.width)),i===C.x&&t===C.y||(C.attr("x",i),t!==P&&C.attr("y",t)),C.x=i,C.y=t}function p(t,e){f?f.attr(t,e):A[t]=e}var f,g,m,v,y,b,w,x,S=this,k=S.g(c),C=S.text("",0,0,a).attr({zIndex:1}),D=0,T=3,_=0,E=0,A={};k.onAdd=function(){C.add(k),k.attr({text:e||0===e?e:"",x:i,y:n}),f&&h(r)&&k.attr({anchorX:r,anchorY:o})},k.widthSetter=function(t){m=t},k.heightSetter=function(t){v=t},k.paddingSetter=function(t){h(t)&&t!==T&&(T=k.padding=t,d())},k.paddingLeftSetter=function(t){h(t)&&t!==_&&(_=t,d())},k.alignSetter=function(t){D={left:0,center:.5,right:1}[t]},k.textSetter=function(t){t!==P&&C.textSetter(t),u(),d()},k["stroke-widthSetter"]=function(t,e){t&&(x=!0),E=t%2/2,p(e,t)},k.strokeSetter=k.fillSetter=k.rSetter=function(t,e){"fill"===e&&t&&(x=!0),p(e,t)},k.anchorXSetter=function(t,e){r=t,p(e,at(t)-E-y)},k.anchorYSetter=function(t,e){o=t,p(e,t-b)},k.xSetter=function(t){k.x=t,D&&(t-=D*((m||g.width)+T)),y=at(t),k.attr("translateX",y)},k.ySetter=function(t){b=k.y=at(t),k.attr("translateY",b)};var I=k.css;return Bt(k,{css:function(e){if(e){var i={},e=t(e);Vt(k.textProps,function(t){e[t]!==P&&(i[t]=e[t],delete e[t])}),C.css(i)}return I.call(k,e)},getBBox:function(){return{width:g.width+2*T,height:g.height+2*T,x:g.x-T,y:g.y-T}},shadow:function(t){return f&&f.shadow(t),k},destroy:function(){Zt(k.element,"mouseenter"),Zt(k.element,"mouseleave"),C&&(C=C.destroy()),f&&(f=f.destroy()),M.prototype.destroy.call(k),k=S=u=d=p=null}})}},R=le,Bt(M.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=Bt(this.styles,t),d(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,i=this.element,n=this.translateX||0,s=this.translateY||0,r=this.x||0,o=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=this.shadows,u=this.styles;if(d(i,{marginLeft:n,marginTop:s}),c&&Vt(c,function(t){d(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&Vt(i.childNodes,function(e){t.invertChild(e,i)}),"SPAN"===i.tagName){var p,f=this.rotation,g=e(this.textWidth),m=[f,a,i.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(p=t.fontMetrics(i.style.fontSize).b,h(f)&&this.setSpanRotation(f,l,p),c=Nt(this.elemWidth,i.offsetWidth),c>g&&/[ \-]/.test(i.textContent||i.innerText)&&(d(i,{width:g+"px",display:"block",whiteSpace:u&&u.whiteSpace||"normal"}),c=g),this.getSpanCorrection(c,p,l,f,a)),d(i,{left:r+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),xt&&(p=i.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},s=bt?"-ms-transform":xt?"-webkit-transform":St?"MozTransform":yt?"-o-transform":"";n[s]=n.transform="rotate("+t+"deg)",n[s+(St?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",d(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),Bt(le.prototype,{html:function(t,e,i){var n=this.createElement("span"),s=n.element,r=n.renderer;return n.textSetter=function(t){t!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=t,n.htmlUpdateTransform()},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:at(e),y:at(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.style.whiteSpace="nowrap",n.css=n.htmlCss,r.isSVG&&(n.add=function(t){var e,i=r.box.parentNode,o=[];if(this.parentGroup=t){if(e=t.div,!e){for(;t;)o.push(t),t=t.parentGroup;Vt(o.reverse(),function(t){var n,s=c(t.element,"class");s&&(s={className:s}),e=t.div=t.div||p(Rt,s,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},e||i),n=e.style,Bt(t,{translateXSetter:function(e,i){n.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+"px",t[i]=e,t.doTransform=!0}}),Vt(["opacity","visibility"],function(e){jt(t,e+"Setter",function(t,e,i,s){t.call(this,e,i,s),n[i]=e})})})}}else e=i;return e.appendChild(s),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}}),!Dt&&!_t){Wt={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],s=e===Rt;("shape"===e||s)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",s?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=s||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=p(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,n=t?t.element||t:n;return t&&t.inverted&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:M.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=pt(t*mt),i=ft(t*mt);d(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Ht})},getSpanCorrection:function(t,e,i,n,s){var r,o=n?pt(n*mt):1,a=n?ft(n*mt):0,l=Nt(this.elemHeight,this.element.offsetHeight);this.xCorr=o<0&&-t,this.yCorr=a<0&&-l,r=o*a<0,this.xCorr+=a*e*(r?1-i:i),this.yCorr-=o*e*(n?r?i:1-i:1),s&&"left"!==s&&(this.xCorr-=t*i*(o<0?-1:1),n&&(this.yCorr-=l*i*(a<0?-1:1)),d(this.element,{textAlign:s}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)r(t[e])?i[e]=at(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,l(e,i),e.push(i),i.destroyClip=function(){l(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:wt?"inherit":"rect(auto)"}),i.css(t)},css:M.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&C(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),M.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=rt.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,i){var n,t=t.split(/[ ,]/);return n=t.length,9!==n&&11!==n||(t[n-4]=t[n-2]=e(t[n-2])-10*i),t.join(" ")},shadow:function(t,i,n){var s,r,o,a,l,h,c,u=[],d=this.element,f=this.renderer,g=d.style,m=d.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(h=Nt(t.width,3),c=(t.opacity||.15)/h,s=1;s<=3;s++)a=2*h+1-2*s,n&&(l=this.cutOffPath(m.value,a+.5)),o=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],r=p(f.prepVML(o),null,{left:e(g.left)+Nt(t.offsetX,1),top:e(g.top)+Nt(t.offsetY,1)}),n&&(r.cutOff=a+1),o=['<stroke color="',t.color||"black",'" opacity="',c*s,'"/>'],p(f.prepVML(o),null,null,r),i?i.element.appendChild(r):d.parentNode.insertBefore(r,d),u.push(r);this.shadows=u}return this},updateShadows:At,setAttr:function(t,e){wt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows,t=t||[];if(this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled=t!==Ht,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},opacitySetter:At,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-at(ft(t*mt)+1)+"px",i.top=at(pt(t*mt))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,r(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&Vt(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,wt||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},nt.VMLElement=Wt=f(M,Wt),Wt.prototype.ySetter=Wt.prototype.widthSetter=Wt.prototype.heightSetter=Wt.prototype.xSetter;var he={Element:Wt,isIE8:vt.indexOf("MSIE 8.0")>-1,init:function(t,e,i,n){var s;if(this.alignedObjects=[],n=this.createElement(Rt).css(Bt(this.getStyle(n),{position:"relative"})),s=n.element,t.appendChild(n.element),this.isVML=!0,this.box=s,this.boxWrapper=n,this.cache={},this.setSize(e,i,!1),!st.namespaces.hcv){st.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{st.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(r){st.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,s){var r=this.createElement(),o=n(t);return Bt(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:i)-1,height:(o?t.height:s)-1,getCSS:function(t){var e=t.element,i=e.nodeName,t=t.inverted,n=this.top-("shape"===i?e.offsetTop:0),s=this.left,e=s+this.width,r=n+this.height,n={clip:"rect("+at(t?s:n)+"px,"+at(t?r:e)+"px,"+at(t?e:r)+"px,"+at(t?n:s)+"px)"};return!t&&wt&&"DIV"===i&&Bt(n,{width:e+"px",height:r+"px"}),n},updateClipping:function(){Vt(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(t,e,i,n){var s,r,o,a=this,l=/^rgba/,h=Ht;if(t&&t.linearGradient?o="gradient":t&&t.radialGradient&&(o="pattern"),o){var c,u,d,f,g,m,v,y,b=t.linearGradient||t.radialGradient,w="",t=t.stops,x=[],S=function(){r=['<fill colors="'+x.join(",")+'" opacity="',g,'" o:opacity2="',f,'" type="',o,'" ',w,'focus="100%" method="any" />'],p(a.prepVML(r),null,null,e)};if(d=t[0],y=t[t.length-1],d[0]>0&&t.unshift([0,d[1]]),y[0]<1&&t.push([1,y[1]]),Vt(t,function(t,e){l.test(t[1])?(s=ae(t[1]),c=s.get("rgb"),u=s.get("a")):(c=t[1],u=1),x.push(100*t[0]+"% "+c),e?(g=u,m=c):(f=u,v=c)}),"fill"===i)if("gradient"===o)i=b.x1||b[0]||0,t=b.y1||b[1]||0,d=b.x2||b[2]||0,b=b.y2||b[3]||0,w='angle="'+(90-180*ot.atan((b-t)/(d-i))/gt)+'"',S();else{var k,h=b.r,C=2*h,D=2*h,T=b.cx,_=b.cy,E=e.radialReference,h=function(){E&&(k=n.getBBox(),T+=(E[0]-k.x)/k.width-.5,_+=(E[1]-k.y)/k.height-.5,C*=E[2]/k.width,D*=E[2]/k.height),w='src="'+L.global.VMLRadialGradientURL+'" size="'+C+","+D+'" origin="0.5,0.5" position="'+T+","+_+'" color2="'+v+'" ',S()};n.added?h():n.onAdd=h,h=m}else h=c}else l.test(t)&&"IMG"!==e.tagName?(s=ae(t),r=["<",i,' opacity="',s.get("a"),'"/>'],p(this.prepVML(r),null,null,e),h=s.get("rgb")):(h=e.getElementsByTagName(i),h.length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:le.prototype.html,path:function(t){var e={coordsize:"10 10"};return s(t)?e.d=t:n(t)&&Bt(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var s=this.symbol("circle");return n(t)&&(i=t.r,e=t.y,t=t.x),s.isCircle=!0,s.r=i,s.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Rt).attr(e)},image:function(t,e,i,n,s){var r=this.createElement("img").attr({src:t});return arguments.length>1&&r.attr({x:e,y:i,width:n,height:s}),r},createElement:function(t){return"rect"===t?this.symbol(t):le.prototype.createElement.call(this,t)},invertChild:function(t,i){var n=this,s=i.style,r="IMG"===t.tagName&&t.style;d(t,{flip:"x",left:e(s.width)-(r?e(r.top):1),top:e(s.height)-(r?e(r.left):1),rotation:-90}),Vt(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,s){var r=s.start,o=s.end,a=s.r||i||n,i=s.innerR,n=pt(r),l=ft(r),h=pt(o),c=ft(o);return o-r===0?["x"]:(r=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*h,e+a*c],s.open&&!i&&r.push("e","M",t,e),r.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*c,t+i*n,e+i*l,"x","e"),r.isArc=!0,r)},circle:function(t,e,i,n,s){return s&&(i=n=2*s.r),s&&s.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,s){return le.prototype.symbols[h(s)&&s.r?"callout":"square"].call(0,t,e,i,n,s)}}};nt.VMLRenderer=Wt=function(){this.init.apply(this,arguments)},Wt.prototype=t(le.prototype,he),R=Wt}le.prototype.measureSpanWidth=function(t,e){var i,n=st.createElement("span");return i=st.createTextNode(t),n.appendChild(i),d(n,e),this.box.appendChild(n),i=n.offsetWidth,C(n),i};var ce;_t&&(nt.CanVGRenderer=Wt=function(){Ct="http://www.w3.org/1999/xhtml"},Wt.prototype.symbols={},ce=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&Gt(n,t),e.push(i)}}}(),R=Wt),A.prototype={addLabel:function(){var e,i=this.axis,n=i.options,s=i.chart,r=i.categories,o=i.names,l=this.pos,c=n.labels,u=i.tickPositions,d=l===u[0],p=l===u[u.length-1],o=r?Nt(r[l],o[l],l):l,r=this.label,u=u.info;i.isDatetimeAxis&&u&&(e=n.dateTimeLabelFormats[u.higherRanks[l]||u.unitName]),this.isFirst=d,this.isLast=p,n=i.labelFormatter.call({axis:i,chart:s,isFirst:d,isLast:p,dateTimeLabelFormat:e,value:i.isLog?T(a(o)):o}),h(r)?r&&r.attr({text:n}):(this.labelLength=(this.label=r=h(n)&&c.enabled?s.renderer.text(n,0,0,c.useHTML).css(t(c.style)).add(i.labelGroup):null)&&r.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,s=i.chart.chartWidth,r=i.chart.spacing,o=Nt(i.labelLeft,ut(i.pos,r[3])),r=Nt(i.labelRight,ct(i.pos+i.len,s-r[1])),a=this.label,l=this.rotation,h={left:0,center:.5,right:1}[i.labelAlign],c=a.getBBox().width,u=i.slotWidth,d=1,p={};l?l<0&&n-h*c<o?e=at(n/pt(l*mt)-o):l>0&&n+h*c>r&&(e=at((s-n)/pt(l*mt))):(s=n+(1-h)*c,n-h*c<o?u=t.x+u*(1-h)-o:s>r&&(u=r-t.x+u*h,d=-1),u=ut(i.slotWidth,u),u<i.slotWidth&&"center"===i.labelAlign&&(t.x+=d*(i.slotWidth-u-h*(i.slotWidth-ut(c,u)))),(c>u||i.autoRotation&&a.styles.width)&&(e=u)),e&&(p.width=e,i.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),a.css(p))},getPosition:function(t,e,i,n){var s=this.axis,r=s.chart,o=n&&r.oldChartHeight||r.chartHeight;return{x:t?s.translate(e+i,null,null,n)+s.transB:s.left+s.offset+(s.opposite?(n&&r.oldChartWidth||r.chartWidth)-s.right-s.left:0),y:t?o-s.bottom+s.offset-(s.opposite?s.height:0):o-s.translate(e+i,null,null,n)-s.transB}},getLabelPosition:function(t,e,i,n,s,r,o,a){var l=this.axis,h=l.transA,c=l.reversed,u=l.staggerLines,d=l.tickRotCorr||{x:0,y:0},i=Nt(s.y,d.y+(2===l.side?8:-(i.getBBox().height/2))),t=t+s.x+d.x-(r&&n?r*h*(c?-1:1):0),e=e+i-(r&&!n?r*h*(c?1:-1):0);return u&&(e+=o/(a||1)%u*(l.labelOffset/u)),{x:t,y:at(e)}},getMarkPath:function(t,e,i,n,s,r){return r.crispLine(["M",t,e,"L",t+(s?0:-i),e+(s?i:0)],n)},render:function(t,e,i){var n=this.axis,s=n.options,r=n.chart.renderer,o=n.horiz,a=this.type,l=this.label,h=this.pos,c=s.labels,u=this.gridLine,d=a?a+"Grid":"grid",p=a?a+"Tick":"tick",f=s[d+"LineWidth"],g=s[d+"LineColor"],m=s[d+"LineDashStyle"],v=s[p+"Length"],d=Nt(s[p+"Width"],!a&&n.isXAxis?1:0),y=s[p+"Color"],b=s[p+"Position"],p=this.mark,w=c.step,x=!0,S=n.tickmarkOffset,k=this.getPosition(o,h,S,e),C=k.x,k=k.y,D=o&&C===n.pos+n.len||!o&&k===n.pos?-1:1,i=Nt(i,1);this.isActive=!0,f&&(h=n.getPlotLinePath(h+S,f*D,e,!0),u===P&&(u={stroke:g,"stroke-width":f},m&&(u.dashstyle=m),a||(u.zIndex=1),e&&(u.opacity=0),this.gridLine=u=f?r.path(h).attr(u).add(n.gridGroup):null),!e&&u&&h&&u[this.isNew?"attr":"animate"]({d:h,opacity:i})),d&&v&&("inside"===b&&(v=-v),n.opposite&&(v=-v),a=this.getMarkPath(C,k,v,d*D,o,r),p?p.animate({d:a,opacity:i}):this.mark=r.path(a).attr({stroke:y,"stroke-width":d,opacity:i}).add(n.axisGroup)),l&&!isNaN(C)&&(l.xy=k=this.getLabelPosition(C,k,l,o,c,S,t,w),this.isFirst&&!this.isLast&&!Nt(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Nt(s.showLastLabel,1)?x=!1:o&&!n.isRadial&&!c.step&&!c.rotation&&!e&&0!==i&&this.handleOverflow(k),w&&t%w&&(x=!1),x&&!isNaN(k.y)?(k.opacity=i,l[this.isNew?"attr":"animate"](k),this.isNew=!1):l.attr("y",-9999))},destroy:function(){k(this,this.axis)}},nt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},nt.PlotLineOrBand.prototype={render:function(){var e,i=this,n=i.axis,s=n.horiz,r=i.options,a=r.label,l=i.label,c=r.width,u=r.to,d=r.from,p=h(d)&&h(u),f=r.value,g=r.dashStyle,m=i.svgElem,v=[],y=r.color,b=r.zIndex,w=r.events,k={},C=n.chart.renderer;if(n.isLog&&(d=o(d),
u=o(u),f=o(f)),c)v=n.getPlotLinePath(f,c),k={stroke:y,"stroke-width":c},g&&(k.dashstyle=g);else{if(!p)return;v=n.getPlotBandPath(d,u,r),y&&(k.fill=y),r.borderWidth&&(k.stroke=r.borderColor,k["stroke-width"]=r.borderWidth)}if(h(b)&&(k.zIndex=b),m)v?m.animate({d:v},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()},l&&(i.label=l=l.destroy()));else if(v&&v.length&&(i.svgElem=m=C.path(v).attr(k).add(),w))for(e in r=function(t){m.on(t,function(e){w[t].apply(i,[e])})},w)r(e);return a&&h(a.text)&&v&&v.length&&n.width>0&&n.height>0?(a=t({align:s&&p&&"center",x:s?!p&&4:10,verticalAlign:!s&&p&&"middle",y:s?p?16:10:p?6:-4,rotation:s&&!p&&90},a),l||(k={align:a.textAlign||a.align,rotation:a.rotation},h(b)&&(k.zIndex=b),i.label=l=C.text(a.text,0,0,a.useHTML).attr(k).css(a.style).add()),n=[v[1],v[4],p?v[6]:v[1]],p=[v[2],v[5],p?v[7]:v[2]],v=x(n),s=x(p),l.align(a,!1,{x:v,y:s,width:S(n)-v,height:S(p)-s}),l.show()):l&&l.hide(),i},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,k(this)}};var ue=nt.Axis=function(){this.init.apply(this,arguments)};ue.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return nt.numberFormat(this.total,-1)},style:t(ne.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX;this.chart=t,this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=this.options,s=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=n.reversed,this.visible=n.visible!==!1,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===s,this.names=this.names||[],this.isLog="logarithmic"===s,this.isDatetimeAxis="datetime"===s,this.isLinked=h(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Nt(n.crosshair,u(t.options.tooltip.crosshairs)[i?0:1],!1);var r,n=this.options.events;Ut(this,t.axes)===-1&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===P&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(r in n)Qt(this,r,n[r]);this.isLog&&(this.val2lin=o,this.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(L[this.coll],e))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,s=this.dateTimeLabelFormat,r=L.lang.numericSymbols,o=r&&r.length,a=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(a)t=v(a,this);else if(n)t=i;else if(s)t=O(s,i);else if(o&&e>=1e3)for(;o--&&t===P;)n=Math.pow(1e3,o+1),e>=n&&10*i%n===0&&null!==r[o]&&(t=nt.numberFormat(i/n,-1)+r[o]);return t===P&&(t=dt(i)>=1e4?nt.numberFormat(i,-1):nt.numberFormat(i,-1,P,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),Vt(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,s=i.options,r=s.threshold;t.hasVisibleSeries=!0,t.isLog&&r<=0&&(r=null),t.isXAxis?(s=i.xData,s.length&&(t.dataMin=ut(Nt(t.dataMin,s[0]),x(s)),t.dataMax=ct(Nt(t.dataMax,s[0]),S(s)))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,h(i)&&h(n)&&(t.dataMin=ut(Nt(t.dataMin,i),i),t.dataMax=ct(Nt(t.dataMax,n),n)),h(r)&&(t.threshold=r),s.softThreshold&&!t.isLog||(t.softThreshold=!1))}})},translate:function(t,e,i,n,s,o){var a=this.linkedParent||this,l=1,h=0,c=n?a.oldTransA:a.transA,n=n?a.oldMin:a.min,u=a.minPixelPadding,s=(a.doPostTranslate||a.isLog&&s)&&a.lin2val;return c||(c=a.transA),i&&(l*=-1,h=a.len),a.reversed&&(l*=-1,h-=l*(a.sector||a.len)),e?(t=t*l+h,t-=u,t=t/c+n,s&&(t=a.lin2val(t))):(s&&(t=a.val2lin(t)),"between"===o&&(o=.5),t=l*(t-n)*c+h+l*u+(r(o)?c*o*a.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,s){var r,o,a,l=this.chart,h=this.left,c=this.top,u=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;r=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(n?t=ut(ct(e,t),i):a=!0),t},s=Nt(s,this.translate(t,null,null,i)),t=i=at(s+r);return r=o=at(u-s-r),isNaN(s)?a=!0:this.horiz?(r=c,o=u-this.bottom,t=i=p(t,h,h+this.width)):(t=h,i=d-this.right,r=o=p(r,c,c+this.height)),a&&!n?null:l.renderer.crispLine(["M",t,r,"L",i,o],e||1)},getLinearTickPositions:function(t,e,i){var n,s=T(lt(e/t)*t),o=T(ht(i/t)*t),a=[];if(e===i&&r(e))return[e];for(e=s;e<=o&&(a.push(e),e=T(e+t),e!==n);)n=e;return a},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,s=[],r=this.pointRangePadding||0;t=this.min-r;var r=this.max+r,o=r-t;if(o&&o/n<this.len/3)if(this.isLog)for(r=i.length,t=1;t<r;t++)s=s.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)s=s.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),t,r,e.startOfWeek));else for(i=t+(i[0]-t)%n;i<=r;i+=n)s.push(i);return 0!==s.length&&this.trimTicks(s,e.startOnTick,e.endOnTick),s},adjustForMinRange:function(){var t,e,i,n,s,r,o,a=this.options,l=this.min,c=this.max,u=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===P&&!this.isLog&&(h(a.min)||h(a.max)?this.minRange=null:(Vt(this.series,function(t){for(s=t.xData,i=r=t.xIncrement?1:s.length-1;i>0;i--)n=s[i]-s[i-1],(e===P||n<e)&&(e=n)}),this.minRange=ut(5*e,this.dataMax-this.dataMin))),c-l<this.minRange&&(o=this.minRange,t=(o-c+l)/2,t=[l-t,Nt(a.min,l-t)],u&&(t[2]=this.dataMin),l=S(t),c=[l+o,Nt(a.max,l+o)],u&&(c[2]=this.dataMax),c=x(c),c-l<o&&(t[0]=c-o,t[1]=Nt(a.min,c-o),l=S(t))),this.min=l,this.max=c},setAxisTranslation:function(t){var e,n=this,s=n.max-n.min,r=n.axisPointRange||0,o=0,a=0,l=n.linkedParent,c=!!n.categories,u=n.transA,d=n.isXAxis;(d||c||r)&&(l?(o=l.minPointOffset,a=l.pointRangePadding):Vt(n.series,function(t){var s=c?1:d?t.pointRange:n.axisPointRange||0,l=t.options.pointPlacement,u=t.closestPointRange;r=ct(r,s),n.single||(o=ct(o,i(l)?0:s/2),a=ct(a,"on"===l?0:s)),!t.noSharedTooltip&&h(u)&&(e=h(e)?ut(e,u):u)}),l=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=l,n.pointRangePadding=a*=l,n.pointRange=ut(r,s),d&&(n.closestPointRange=e)),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.len/(s+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,i,n,s,a=this,l=a.chart,c=a.options,u=a.isLog,d=a.isDatetimeAxis,p=a.isXAxis,f=a.isLinked,g=c.maxPadding,m=c.minPadding,v=c.tickInterval,w=c.tickPixelInterval,x=a.categories,S=a.threshold,k=a.softThreshold;!d&&!x&&!f&&this.getTickAmount(),n=Nt(a.userMin,c.min),s=Nt(a.userMax,c.max),f?(a.linkedParent=l[a.coll][c.linkedTo],l=a.linkedParent.getExtremes(),a.min=Nt(l.min,l.dataMin),a.max=Nt(l.max,l.dataMax),c.type!==a.linkedParent.options.type&&D(11,1)):(!k&&h(S)&&(a.dataMin>=S?(e=S,m=0):a.dataMax<=S&&(i=S,g=0)),a.min=Nt(n,e,a.dataMin),a.max=Nt(s,i,a.dataMax)),u&&(!t&&ut(a.min,Nt(a.dataMin,a.min))<=0&&D(10,1),a.min=T(o(a.min),15),a.max=T(o(a.max),15)),a.range&&h(a.max)&&(a.userMin=a.min=n=ct(a.min,a.minFromRange()),a.userMax=s=a.max,a.range=null),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),x||a.axisPointRange||a.usePercentage||f||!h(a.min)||!h(a.max)||!(l=a.max-a.min)||(!h(n)&&m&&(a.min-=l*m),!h(s)&&g&&(a.max+=l*g)),r(c.floor)&&(a.min=ct(a.min,c.floor)),r(c.ceiling)&&(a.max=ut(a.max,c.ceiling)),k&&h(a.dataMin)&&(S=S||0,!h(n)&&a.min<S&&a.dataMin>=S?a.min=S:!h(s)&&a.max>S&&a.dataMax<=S&&(a.max=S)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:f&&!v&&w===a.linkedParent.options.tickPixelInterval?v=a.linkedParent.tickInterval:Nt(v,this.tickAmount?(a.max-a.min)/ct(this.tickAmount-1,1):void 0,x?1:(a.max-a.min)*w/ct(a.len,w)),p&&!t&&Vt(a.series,function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&(a.tickInterval=ct(a.pointRange,a.tickInterval)),t=Nt(c.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!v&&a.tickInterval<t&&(a.tickInterval=t),d||u||v||(a.tickInterval=b(a.tickInterval,null,y(a.tickInterval),Nt(c.allowDecimals,!(a.tickInterval>.5&&a.tickInterval<5&&a.max>1e3&&a.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,s=i.tickPositioner,r=i.startOnTick,o=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,s&&(s=s.apply(this,[this.min,this.max])))&&(this.tickPositions=t=s),this.isLinked||(this.trimTicks(t,r,o),this.min===this.max&&h(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!n&&!s&&this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],s=t[t.length-1],r=this.minPointOffset||0;e?this.min=n:this.min-r>n&&t.shift(),i?this.max=s:this.max+r<s&&t.pop(),0===t.length&&h(n)&&t.push((s+n)/2)},getTickAmount:function(){var t,e={},i=this.options,n=i.tickAmount,s=i.tickPixelInterval;!h(i.tickInterval)&&this.len<s&&!this.isRadial&&!this.isLog&&i.startOnTick&&i.endOnTick&&(n=2),!n&&this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&(Vt(this.chart[this.coll],function(i){var n=i.options,s=i.horiz,n=[s?n.left:n.top,s?n.width:n.height,n.pane].join(",");i.series.length&&(e[n]?t=!0:e[n]=1)}),t&&(n=ht(this.len/s)+1)),n<4&&(this.finalTickAmt=n,n=5),this.tickAmount=n},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,s=e&&e.length;if(s<i){for(;e.length<i;)e.push(T(e[e.length-1]+t));this.transA*=(s-1)/(i-1),this.max=e[e.length-1]}else s>i&&(this.tickInterval*=2,this.setTickPositions());if(h(n)){for(t=i=e.length;t--;)(3===n&&t%2===1||n<=2&&t>0&&t<i-1)&&e.splice(t,1);this.finalTickAmt=P}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,Vt(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,n,s){var r=this,o=r.chart,i=Nt(i,!0);Vt(r.series,function(t){delete t.kdTree}),s=Bt(s,{min:t,max:e}),Jt(r,"setExtremes",s,function(){r.userMin=t,r.userMax=e,r.eventArgs=s,i&&o.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,s=this.options,r=ut(i,Nt(s.min,i)),s=ct(n,Nt(s.max,n));return this.allowZoomOutside||(h(i)&&t<=r&&(t=r),h(n)&&e>=s&&(e=s)),this.displayBtn=t!==P||e!==P,this.setExtremes(t,e,!1,P,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=this.horiz,s=Nt(e.width,t.plotWidth-i+(e.offsetRight||0)),r=Nt(e.height,t.plotHeight),o=Nt(e.top,t.plotTop),e=Nt(e.left,t.plotLeft+i),i=/%$/;i.test(r)&&(r=parseFloat(r)/100*t.plotHeight),i.test(o)&&(o=parseFloat(o)/100*t.plotHeight+t.plotTop),this.left=e,this.top=o,this.width=s,this.height=r,this.bottom=t.chartHeight-r-o,this.right=t.chartWidth-s-e,this.len=ct(n?s:r,0),this.pos=n?e:o},getExtremes:function(){var t=this.isLog;return{min:t?T(a(this.min)):this.min,max:t?T(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?a(this.min):this.min,e=e?a(this.max):this.max;return null===t?t=e<0?e:i:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(Nt(t,0)-90*this.side+720)%360,t>15&&t<165?"right":t>195&&t<345?"left":"center"},unsquish:function(){var t,e,i,n=this.ticks,s=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,l=this.len/(((this.categories?1:0)+this.max-this.min)/o),c=s.rotation,u=this.chart.renderer.fontMetrics(s.style.fontSize,n[0]&&n[0].label),d=Number.MAX_VALUE,p=function(t){return t/=l||1,t=t>1?ht(t):1,t*o};return r?(i=!s.staggerLines&&!s.step&&(h(c)?[c]:l<Nt(s.autoRotationLimit,80)&&s.autoRotation))&&Vt(i,function(i){var n;(i===c||i&&i>=-90&&i<=90)&&(e=p(dt(u.h/ft(mt*i))),n=e+dt(i/360),n<d&&(d=n,t=i,a=e))}):s.step||(a=p(u.h)),this.autoRotation=i,this.labelRotation=Nt(t,c),a},renderUnsquish:function(){var e,n=this.chart,s=n.renderer,r=this.tickPositions,o=this.ticks,a=this.options.labels,l=this.horiz,h=n.margin,c=this.categories?r.length:r.length-1,u=this.slotWidth=l&&!a.step&&!a.rotation&&(this.staggerLines||1)*n.plotWidth/c||!l&&(h[3]&&h[3]-n.spacing[3]||.33*n.chartWidth),d=ct(1,at(u-2*(a.padding||5))),p={},h=s.fontMetrics(a.style.fontSize,o[0]&&o[0].label),c=a.style.textOverflow,f=0;if(i(a.rotation)||(p.rotation=a.rotation||0),this.autoRotation)Vt(r,function(t){(t=o[t])&&t.labelLength>f&&(f=t.labelLength)}),f>d&&f>h.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(e={width:d+"px"},!c))for(e.textOverflow="clip",u=r.length;!l&&u--;)d=r[u],(d=o[d].label)&&("ellipsis"===d.styles.textOverflow&&d.css({textOverflow:"clip"}),d.getBBox().height>this.len/r.length-(h.h-h.f)&&(d.specCss={textOverflow:"ellipsis"}));p.rotation&&(e={width:(f>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px"},!c)&&(e.textOverflow="ellipsis"),this.labelAlign=p.align=a.align||this.autoLabelAlign(this.labelRotation),Vt(r,function(i){var n=(i=o[i])&&i.label;n&&(n.attr(p),e&&n.css(t(e,n.specCss)),delete n.specCss,i.rotation=p.rotation)}),this.tickRotCorr=s.rotCorr(h.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,s=this,r=s.chart,o=r.renderer,a=s.options,l=s.tickPositions,c=s.ticks,u=s.horiz,d=s.side,p=r.inverted?[1,0,3,2][d]:d,f=0,g=0,m=a.title,v=a.labels,y=0,b=r.axisOffset,r=r.clipOffset,w=[-1,1,1,-1][d],x=s.axisParent;if(t=s.hasData(),s.showAxis=e=t||Nt(a.showEmpty,!0),s.staggerLines=s.horiz&&v.staggerLines,s.axisGroup||(s.gridGroup=o.g("grid").attr({zIndex:a.gridZIndex||1}).add(x),s.axisGroup=o.g("axis").attr({zIndex:a.zIndex||2}).add(x),s.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels").add(x)),t||s.isLinked)Vt(l,function(t){c[t]?c[t].addLabel():c[t]=new A(s,t)}),s.renderUnsquish(),Vt(l,function(t){0!==d&&2!==d&&{1:"left",3:"right"}[d]!==s.labelAlign||(y=ct(c[t].getLabelSize(),y))}),s.staggerLines&&(y*=s.staggerLines,s.labelOffset=y);else for(n in c)c[n].destroy(),delete c[n];m&&m.text&&m.enabled!==!1&&(s.axisTitle||(s.axisTitle=o.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(s.axisGroup),s.axisTitle.isNew=!0),e&&(f=s.axisTitle.getBBox()[u?"height":"width"],i=m.offset,g=h(i)?0:Nt(m.margin,u?5:10)),s.axisTitle[e?"show":"hide"]()),s.offset=w*Nt(a.offset,b[d]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},o=2===d?s.tickRotCorr.y:0,u=y+g+(y&&w*(u?Nt(v.y,s.tickRotCorr.y+8):v.x)-o),s.axisTitleMargin=Nt(i,u),b[d]=ct(b[d],s.axisTitleMargin+f+w*s.offset,u),a=a.offset?0:2*lt(a.lineWidth/2),r[p]=ct(r[p],a)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,s=this.horiz,r=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",s?this.left:r,s?n:this.top,"L",s?e.chartWidth-this.right:r,s?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,i=this.left,n=this.top,s=this.len,r=this.options.title,o=t?i:n,a=this.opposite,l=this.offset,h=r.x||0,c=r.y||0,u=e(r.style.fontSize||12),s={low:o+(t?0:s),middle:o+s/2,high:o+(t?s:0)}[r.align],i=(t?n+this.height:i)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:t?s+h:i+(a?this.width:0)+l+h,y:t?i+c-(a?this.height:0)+l:s+c}},render:function(){var t,e,i,n=this,s=n.chart,r=s.renderer,o=n.options,l=n.isLog,c=n.isLinked,u=n.tickPositions,d=n.axisTitle,p=n.ticks,f=n.minorTicks,g=n.alternateBands,m=o.stackLabels,v=o.alternateGridColor,y=n.tickmarkOffset,b=o.lineWidth,w=s.hasRendered&&h(n.oldMin)&&!isNaN(n.oldMin),x=n.showAxis,S=r.globalAnimation;n.labelEdge.length=0,n.overlap=!1,Vt([p,f,g],function(t){for(var e in t)t[e].isActive=!1}),(n.hasData()||c)&&(n.minorTickInterval&&!n.categories&&Vt(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new A(n,t,"minor")),w&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),u.length&&(Vt(u,function(t,e){(!c||t>=n.min&&t<=n.max)&&(p[t]||(p[t]=new A(n,t)),w&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e))}),y&&(0===n.min||n.single))&&(p[-1]||(p[-1]=new A(n,(-1),null,(!0))),p[-1].render(-1)),v&&Vt(u,function(t,s){i=u[s+1]!==P?u[s+1]+y:n.max-y,s%2===0&&t<n.max&&i<=n.max-y&&(g[t]||(g[t]=new nt.PlotLineOrBand(n)),e=t+y,g[t].options={from:l?a(e):e,to:l?a(i):i,color:v},g[t].render(),g[t].isActive=!0)}),n._addedPlotLB||(Vt((o.plotLines||[]).concat(o.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),Vt([p,f,g],function(t){var e,i,n=[],r=S?S.duration||500:0,o=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==g&&s.hasRendered&&r?r&&setTimeout(o,r):o()}),b&&(t=n.getLinePath(b),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=r.path(t).attr({stroke:o.lineColor,"stroke-width":b,zIndex:7}).add(n.axisGroup),n.axisLine[x?"show":"hide"]()),d&&x&&(d[d.isNew?"attr":"animate"](n.getTitlePosition()),d.isNew=!1),m&&m.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),Vt(this.plotLinesAndBands,function(t){t.render()})),Vt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i=this,n=i.stacks,s=i.plotLinesAndBands;t||Zt(i);for(e in n)k(n[e]),n[e]=null;for(Vt([i.ticks,i.minorTicks,i.alternateBands],function(t){k(t)}),t=s.length;t--;)s[t].destroy();Vt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n=this.crosshair,s=n.animation;!this.crosshair||(h(e)||!Nt(this.crosshair.snap,!0))===!1||e&&e.series&&e.series[this.coll]!==this?this.hideCrosshair():(Nt(n.snap,!0)?h(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Nt(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[s?"animate":"attr"]({d:i},s):(s=this.categories&&!this.isRadial,s={"stroke-width":n.width||(s?this.transA:1),stroke:n.color||(s?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:n.zIndex||2},n.dashStyle&&(s.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(s).add()))},hideCrosshair:function(){this.cross&&this.cross.hide()}},Bt(ue.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i&&n.toString()!==i.toString()?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new nt.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=e.length;s--;)e[s].id===t&&e[s].destroy();Vt([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(s=e.length;s--;)e[s].id===t&&l(e,e[s])})}}),ue.prototype.getTimeTicks=function(t,e,i,n){var s,r=[],o={},a=L.global.useUTC,l=new N(e-m(e)),c=t.unitRange,u=t.count;if(h(e)){l[K](c>=B.second?0:u*lt(l.getMilliseconds()/u)),c>=B.second&&l[Q](c>=B.minute?0:u*lt(l.getSeconds()/u)),c>=B.minute&&l[Z](c>=B.hour?0:u*lt(l[Y]()/u)),c>=B.hour&&l[J](c>=B.day?0:u*lt(l[G]()/u)),c>=B.day&&l[tt](c>=B.month?1:u*lt(l[V]()/u)),c>=B.month&&(l[et](c>=B.year?0:u*lt(l[q]()/u)),s=l[X]()),c>=B.year&&(s-=s%u,l[it](s)),c===B.week&&l[tt](l[V]()-l[U]()+Nt(n,1)),e=1,(z||W)&&(l=l.getTime(),l=new N(l+m(l))),s=l[X]();for(var n=l.getTime(),d=l[q](),p=l[V](),f=(B.day+(a?m(l):6e4*l.getTimezoneOffset()))%B.day;n<i;)r.push(n),c===B.year?n=j(s+e*u,0):c===B.month?n=j(s,d+e*u):a||c!==B.day&&c!==B.week?n+=c*u:n=j(s,d,p+e*u*(c===B.day?1:7)),e++;r.push(n),Vt(qt(r,function(t){return c<=B.hour&&t%B.day===f}),function(t){o[t]="day"})}return r.info=Bt(t,{higherRanks:o,totalRange:c*u}),r},ue.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],s=n[n.length-1],r=B[s[0]],o=s[1];for(i=0;i<n.length&&(s=n[i],r=B[s[0]],o=s[1],!(n[i+1]&&t<=(r*o[o.length-1]+B[n[i+1][0]])/2));i++);return r===B.year&&t<5*r&&(o=[1,2,5]),n=b(t/r,o,"year"===s[0]?ct(y(t/r),1):1),{unitRange:r,count:n,unitName:s[0]}},ue.prototype.getLogTickPositions=function(t,e,i,n){var s=this.options,r=this.len,l=[];if(n||(this._minorAutoInterval=null),t>=.5)t=at(t),l=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var h,c,u,d,p,r=lt(e),s=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];r<i+1&&!p;r++)for(c=s.length,h=0;h<c&&!p;h++)u=o(a(r)*s[h]),u>e&&(!n||d<=i)&&d!==P&&l.push(d),d>i&&(p=!0),d=u;else e=a(e),i=a(i),t=s[n?"minorTickInterval":"tickInterval"],t=Nt("auto"===t?null:t,this._minorAutoInterval,(i-e)*(s.tickPixelInterval/(n?5:1))/((n?r/this.tickPositions.length:r)||1)),t=b(t,null,y(t)),l=Kt(this.getLinearTickPositions(t,e,i),o),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),l};var de=nt.Tooltip=function(){this.init.apply(this,arguments)};de.prototype={init:function(t,i){var n=i.borderWidth,s=i.style,r=e(s.padding);this.chart=t,this.options=i,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:r,fill:i.backgroundColor,"stroke-width":n,r:i.borderRadius,zIndex:8}).css(s).css({padding:0}).add().attr({y:-9999}),_t||this.label.shadow(i.shadow),this.shared=i.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var s=this,r=s.now,o=s.options.animation!==!1&&!s.isHidden&&(dt(t-r.x)>1||dt(e-r.y)>1),a=s.followPointer||s.len>1;Bt(r,{x:o?(2*r.x+t)/3:t,y:o?(r.y+e)/2:e,anchorX:a?P:o?(2*r.anchorX+i)/3:i,anchorY:a?P:o?(r.anchorY+n)/2:n}),s.label.attr(r),o&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,e,i,n)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},Nt(t,this.options.hideDelay,500)))},getAnchor:function(t,e){var i,n,s,r=this.chart,o=r.inverted,a=r.plotTop,l=r.plotLeft,h=0,c=0,t=u(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===P&&(e=r.pointer.normalize(e)),i=[e.chartX-r.plotLeft,e.chartY-a]),i||(Vt(t,function(t){n=t.series.yAxis,s=t.series.xAxis,h+=t.plotX+(!o&&s?s.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&n?n.top-a:0)}),h/=t.length,c/=t.length,i=[o?r.plotWidth-c:h,this.shared&&!o&&t.length>1&&e?e.chartY-a:o?r.plotHeight-h:c]),Kt(i,at)},getPosition:function(t,e,i){var n,s=this.chart,r=this.distance,o={},a=i.h||0,l=["y",s.chartHeight,e,i.plotY+s.plotTop,s.plotTop,s.plotTop+s.plotHeight],h=["x",s.chartWidth,t,i.plotX+s.plotLeft,s.plotLeft,s.plotLeft+s.plotWidth],c=Nt(i.ttBelow,s.inverted&&!i.negative||!s.inverted&&i.negative),u=function(t,e,i,n,s,l){var h=i<n-r,u=n+r+i<e,d=n-r-i;if(n+=r,c&&u)o[t]=n;else if(!c&&h)o[t]=d;else if(h)o[t]=ut(l-i,d-a<0?d:d-a);else{if(!u)return!1;o[t]=ct(s,n+a+i>e?n:n+a)}},d=function(t,e,i,n){return!(n<r||n>e-r)&&void(o[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2)},p=function(t){var e=l;l=h,h=e,n=t},f=function(){u.apply(0,l)!==!1?d.apply(0,h)===!1&&!n&&(p(!0),f()):n?o.x=o.y=0:(p(!0),f())};return(s.inverted||this.len>1)&&p(),f(),o},defaultFormatter:function(t){var e,i=this.points||u(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,s,r,o=this.chart,a=this.label,l=this.options,h={},c=[];r=l.formatter||this.defaultFormatter;var d,h=o.hoverPoints,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,s=this.getAnchor(t,e),i=s[0],n=s[1],!p||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(o.hoverPoints=t,h&&Vt(h,function(t){t.setState()}),Vt(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),h={x:t[0].category,y:t[0].y},h.points=c,this.len=c.length,t=t[0]),r=r.call(h,this),h=t.series,this.distance=Nt(h.tooltipOptions.distance,16),r===!1?this.hide():(this.isHidden&&(ie(a),a.attr("opacity",1).show()),a.attr({text:r}),d=l.borderColor||t.color||h.color||"#606060",a.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:s[2]||0}),this.isHidden=!1),Jt(o,"tooltipRefresh",{text:r,x:i+o.plotLeft,y:n+o.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(at(i.x),at(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){var n,s,r,e=e.dateTimeLabelFormats,o=i&&i.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(o){r=O("%m-%d %H:%M:%S.%L",t.x);for(s in B){if(o===B.week&&+O("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===r.substr(6)){s="week";break}if(B[s]>o){s=l;break}if(a[s]&&r.substr(a[s])!=="01-01 00:00:00.000".substr(a[s]))break;"week"!==s&&(l=s)}s&&(n=e[s])}else n=e.day;return n||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,s=n.tooltipOptions,o=s.xDateFormat,a=n.xAxis,l=a&&"datetime"===a.options.type&&r(t.key),i=s[i+"Format"];return l&&!o&&(o=this.getXDateFormat(t,s,a)),l&&o&&(i=i.replace("{point.key}","{point.key:"+o+"}")),v(i,{point:t,series:n})},bodyFormatter:function(t){return Kt(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var pe;H=st.documentElement.ontouchstart!==P;var fe=nt.Pointer=function(t,e){this.init(t,e)};if(fe.prototype={init:function(t,e){var i,n=e.chart,s=n.events,r=_t?"":n.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(r),this.zoomY=r=/y/.test(r),this.zoomHor=i&&!n||r&&n,this.zoomVert=r&&!n||i&&n,this.hasZoom=i||r,this.runChartClick=s&&!!s.click,this.pinchDown=[],this.lastValidTouch={},nt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new de(t,e.tooltip),this.followTouchMove=Nt(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,e){var i,n,t=t||window.event,t=te(t);return t.target||(t.target=t.srcElement),n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=Xt(this.chart.container)),n.pageX===P?(i=ct(t.x,t.clientX-e.left),n=t.y):(i=n.pageX-e.left,n=n.pageY-e.top),Bt(t,{chartX:at(i),chartY:at(n)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Vt(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,n,s,r,o=this.chart,a=o.series,l=o.tooltip,h=!!l&&l.shared,c=o.hoverPoint,u=o.hoverSeries,d=Number.MAX_VALUE,p=[];if(!h&&!u)for(e=0;e<a.length;e++)!a[e].directTouch&&a[e].options.stickyTracking||(a=[]);if(u&&(h?u.noSharedTooltip:u.directTouch)&&c?s=c:(Vt(a,function(e){i=e.noSharedTooltip&&h,n=!h&&e.directTouch,e.visible&&!i&&!n&&Nt(e.options.enableMouseTracking,!0)&&(r=e.searchPoint(t,!i&&1===e.kdDimensions))&&p.push(r)}),Vt(p,function(t){t&&"number"==typeof t.dist&&t.dist<d&&(d=t.dist,s=t)})),s&&(s!==this.prevKDPoint||l&&l.isHidden)){if(h&&!s.series.noSharedTooltip){for(e=p.length;e--;)(p[e].clientX!==s.clientX||p[e].series.noSharedTooltip)&&p.splice(e,1);p.length&&l&&l.refresh(p,t),Vt(p,function(e){e.onMouseOver(t,e!==(u&&u.directTouch&&c||s))})}else l&&l.refresh(s,t),u&&u.directTouch||s.onMouseOver(t);this.prevKDPoint=s}else a=u&&u.tooltipOptions.followPointer,l&&a&&!l.isHidden&&(a=l.getAnchor([{}],t),l.updatePosition({plotX:a[0],plotY:a[1]}));l&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(t){It[pe]&&It[pe].pointer.onDocumentMouseMove(t)},Qt(st,"mousemove",this._onDocumentMouseMove)),Vt(o.axes,function(e){e.drawCrosshair(t,Nt(s,c))})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,s=i.hoverPoint,r=i.hoverPoints,o=i.tooltip,a=o&&o.shared?r:s;(t=t&&o&&a)&&u(a)[0].plotX===P&&(t=!1),t?(o.refresh(a),s&&(s.setState(s.state,!0),Vt(i.axes,function(t){Nt(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,s):t.hideCrosshair()}))):(s&&s.onMouseOut(),r&&Vt(r,function(t){t.setState()}),n&&n.onMouseOut(),o&&o.hide(e),this._onDocumentMouseMove&&(Zt(st,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Vt(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;Vt(n.series,function(s){
i=t||s.getPlotBox(),s.xAxis&&s.xAxis.zoomEnabled&&(s.group.attr(i),s.markerGroup&&(s.markerGroup.attr(i),s.markerGroup.clip(e?n.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,s=t.chartX,r=t.chartY,o=this.zoomHor,a=this.zoomVert,l=i.plotLeft,h=i.plotTop,c=i.plotWidth,u=i.plotHeight,d=this.selectionMarker,p=this.mouseDownX,f=this.mouseDownY,g=n.panKey&&t[n.panKey+"Key"];d&&d.touch||(s<l?s=l:s>l+c&&(s=l+c),r<h?r=h:r>h+u&&(r=h+u),this.hasDragged=Math.sqrt(Math.pow(p-s,2)+Math.pow(f-r,2)),this.hasDragged>10&&(e=i.isInsidePlot(p-l,f-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!d&&(this.selectionMarker=d=i.renderer.rect(l,h,o?1:c,a?1:u,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),d&&o&&(s-=p,d.attr({width:dt(s),x:(s>0?0:s)+p})),d&&a&&(s=r-f,d.attr({height:dt(s),y:(s>0?0:s)+f})),e&&!d&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,r={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},o=this.selectionMarker,a=o.attr?o.attr("x"):o.x,l=o.attr?o.attr("y"):o.y,c=o.attr?o.attr("width"):o.width,u=o.attr?o.attr("height"):o.height;(this.hasDragged||n)&&(Vt(i.axes,function(i){if(i.zoomEnabled&&h(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,d="touchend"===t.type?i.minPixelPadding:0,p=i.toValue((o?a:l)+d),o=i.toValue((o?a+c:l+u)-d);r[i.coll].push({axis:i,min:ut(p,o),max:ct(p,o)}),s=!0}}),s&&Jt(i,"selection",r,function(t){i.zoom(Bt(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(d(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){It[pe]&&It[pe].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,t=this.normalize(t,i);i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=It[pe];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;pe=e.index,t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=c(t,"class")){if(i.indexOf(e)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,t=t.relatedTarget||t.toElement;!e||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,s=e.plotTop,t=this.normalize(t);t.originalEvent=t,e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Jt(i.series,"click",Bt(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(Bt(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-s)&&Jt(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},Qt(e,"mouseleave",t.onContainerMouseLeave),1===Pt&&Qt(st,"mouseup",t.onDocumentMouseUp),H&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Pt&&Qt(st,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;Zt(this.chart.container,"mouseleave",this.onContainerMouseLeave),Pt||(Zt(st,"mouseup",this.onDocumentMouseUp),Zt(st,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},Bt(nt.Pointer.prototype,{pinchTranslate:function(t,e,i,n,s,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,s,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,s,r)},pinchTranslateDirection:function(t,e,i,n,s,r,o,a){var l,h,c,u=this.chart,d=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=u["plot"+(t?"Left":"Top")],v=a||1,y=u.inverted,b=u.bounds[t?"h":"v"],w=1===e.length,x=e[0][f],S=i[0][f],k=!w&&e[1][f],C=!w&&i[1][f],i=function(){!w&&dt(x-k)>20&&(v=a||dt(S-C)/dt(x-k)),h=(m-S)/v+x,l=u["plot"+(t?"Width":"Height")]/v};i(),e=h,e<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(S-=.8*(S-o[d][0]),w||(C-=.8*(C-o[d][1])),i()):o[d]=[S,C],y||(r[d]=h-m,r[g]=l),r=y?1/v:v,s[g]=l,s[d]=e,n[y?t?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=r*m+(S-r*x)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,s=t.touches,r=s.length,o=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,h={},c=1===r&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),u={};r>1&&(e.initiated=!0),a&&e.initiated&&!c&&t.preventDefault(),Kt(s,function(t){return e.normalize(t)}),"touchstart"===t.type?(Vt(s,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),o.x=[n[0].chartX,n[1]&&n[1].chartX],o.y=[n[0].chartY,n[1]&&n[1].chartY],Vt(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,s=t.toPixels(Nt(t.options.min,t.dataMin)),r=t.toPixels(Nt(t.options.max,t.dataMax)),o=ut(s,r),s=ct(s,r);e.min=ut(t.pos,o-n),e.max=ct(t.pos+t.len,s+n)}}),e.res=!0):n.length&&(l||(e.selectionMarker=l=Bt({destroy:At,touch:!0},i.plotBox)),e.pinchTranslate(n,s,h,l,u,o),e.hasPinched=a,e.scaleGroups(h,u),!a&&e.followTouchMove&&1===r?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i=this.chart;pe=i.index,1===t.touches.length?(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&!i.openMenu?(e&&this.runPointActions(t),this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){It[pe]&&It[pe].pointer.drop(t)}}),rt.PointerEvent||rt.MSPointerEvent){var ge={},me=!!rt.PointerEvent,ve=function(){var t,e=[];e.item=function(t){return this[t]};for(t in ge)ge.hasOwnProperty(t)&&e.push({pageX:ge[t].pageX,pageY:ge[t].pageY,target:ge[t].target});return e},ye=function(t,e,i,n){t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!It[pe]||(n(t),n=It[pe].pointer,n[e]({type:i,target:t.currentTarget,preventDefault:At,touches:ve()}))};Bt(fe.prototype,{onContainerPointerDown:function(t){ye(t,"onContainerTouchStart","touchstart",function(t){ge[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){ye(t,"onContainerTouchMove","touchmove",function(t){ge[t.pointerId]={pageX:t.pageX,pageY:t.pageY},ge[t.pointerId].target||(ge[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){ye(t,"onDocumentTouchEnd","touchend",function(t){delete ge[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,me?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,me?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(st,me?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),jt(fe.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&d(e.container,{"-ms-touch-action":Ht,"touch-action":Ht})}),jt(fe.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Qt)}),jt(fe.prototype,"destroy",function(t){this.batchMSEvents(Zt),t.call(this)})}var be=nt.Legend=function(t,e){this.init(t,e)};be.prototype={init:function(e,i){var n=this,s=i.itemStyle,r=i.itemMarginTop||0;this.options=i,i.enabled&&(n.itemStyle=s,n.itemHiddenStyle=t(s,i.itemHiddenStyle),n.itemMarginTop=r,n.padding=s=Nt(i.padding,8),n.initialItemX=s,n.initialItemY=s-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=Nt(i.symbolWidth,16),n.pages=[],n.render(),Qt(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,s=t.legendItem,r=t.legendLine,o=t.legendSymbol,a=this.itemHiddenStyle.color,n=e?n.itemStyle.color:a,l=e?t.legendColor||t.color||"#CCC":a,a=t.options&&t.options.marker,h={fill:l};if(s&&s.css({fill:n,color:n}),r&&r.attr({stroke:l}),o){if(a&&o.isMarker)for(i in h.stroke=l,a=t.convertAttribs(a))s=a[i],s!==P&&(h[i]=s);o.attr(h)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,s=n[0],n=n[1],r=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?s:this.legendWidth-s-2*i-4,n),r&&(r.x=s,r.y=n)},destroyItem:function(t){var e=t.checkbox;Vt(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&C(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,Vt(this.allItems,function(s){var r,o=s.checkbox;o&&(r=e+o.y+(t||0)+3,d(o,{left:i.translateX+s.checkboxOffset+o.x-20+"px",top:r+"px",display:r>e-6&&r<e+n-6?"":Ht}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?v(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(e){var i=this.chart,n=i.renderer,s=this.options,r="horizontal"===s.layout,o=this.symbolWidth,a=s.symbolPadding,l=this.itemStyle,h=this.itemHiddenStyle,c=this.padding,u=r?Nt(s.itemDistance,20):0,d=!s.rtl,p=s.width,f=s.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,v=e.legendItem,y=e.series&&e.series.drawLegendSymbol?e.series:e,b=y.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,w=s.useHTML;v||(e.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=v=n.text("",d?o+a:-a,this.baseline||0,w).css(t(e.visible?l:h)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(l.fontSize,v),this.baseline=this.fontMetrics.f+3+g,v.attr("y",this.baseline)),y.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,v,w,l,h),this.colorizeItem(e,e.visible),b&&this.createCheckboxForItem(e)),this.setText(e),n=v.getBBox(),o=e.checkboxOffset=s.itemWidth||e.legendItemWidth||o+a+n.width+u+(b?20:0),this.itemHeight=a=at(e.legendItemHeight||n.height),r&&this.itemX-m+o>(p||i.chartWidth-2*c-m-s.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=ct(this.maxItemWidth,o),this.lastItemY=g+this.itemY+f,this.lastLineHeight=ct(a,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=o:(this.itemY+=g+a+f,this.lastLineHeight=a),this.offsetWidth=p||ct((r?this.itemX-m-u:o)+c,this.offsetWidth)},getAllItems:function(){var t=[];return Vt(this.chart.series,function(e){var i=e.options;Nt(i.showInLegend,!h(i.linkedTo)&&P,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,s=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);this.display&&!n.floating&&Vt([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(r,o){r.test(s)&&!h(t[o])&&(i[Lt[o]]=ct(i[Lt[o]],i.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*n[o%2?"x":"y"]+Nt(n.margin,12)+e[o]))})},render:function(){var t,e,i,n,s=this,r=s.chart,o=r.renderer,a=s.group,l=s.box,h=s.options,c=s.padding,u=h.borderWidth,d=h.backgroundColor;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,a||(s.group=a=o.g("legend").attr({zIndex:7}).add(),s.contentGroup=o.g().attr({zIndex:1}).add(a),s.scrollGroup=o.g().add(s.contentGroup)),s.renderTitle(),t=s.getAllItems(),w(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),s.allItems=t,s.display=e=!!t.length,s.lastLineHeight=0,Vt(t,function(t){s.renderItem(t)}),i=(h.width||s.offsetWidth)+c,n=s.lastItemY+s.lastLineHeight+s.titleHeight,n=s.handleOverflow(n),n+=c,(u||d)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(s.box=l=o.rect(0,0,i,n,h.borderRadius,u||0).attr({stroke:h.borderColor,"stroke-width":u||0,fill:d||Ht}).add(a).shadow(h.shadow),l.isNew=!0),l[e?"show":"hide"]()),s.legendWidth=i,s.legendHeight=n,Vt(t,function(t){s.positionItem(t)}),e&&a.align(Bt({width:i,height:n},h),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,s=this.chart,r=s.renderer,o=this.options,a=o.y,a=s.spacingBox.height+("top"===o.verticalAlign?-a:a)-this.padding,l=o.maxHeight,h=this.clipRect,c=o.navigation,u=Nt(c.animation,!0),d=c.arrowSize||12,p=this.nav,f=this.pages,g=this.padding,m=this.allItems,v=function(t){h.attr({height:t}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+t)+"px,0)")};return"horizontal"===o.layout&&(a/=2),l&&(a=ut(a,l)),f.length=0,t>a?(this.clipHeight=e=ct(a-20-this.titleHeight-g,0),this.currentPage=Nt(this.currentPage,1),this.fullHeight=t,Vt(m,function(t,n){var s=t._legendItemPos[1],r=at(t.legendItem.getBBox().height),o=f.length;(!o||s-f[o-1]>e&&(i||s)!==f[o-1])&&(f.push(i||s),o++),n===m.length-1&&s+r-f[o-1]>e&&f.push(s),s!==i&&(i=s)}),h||(h=n.clipRect=r.clipRect(0,g,9999,0),n.contentGroup.clip(h)),v(e),p||(this.nav=p=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,d,d).on("click",function(){n.scroll(-1,u)}).add(p),this.pager=r.text("",15,10).css(c.style).add(p),this.down=r.symbol("triangle-down",0,0,d,d).on("click",function(){n.scroll(1,u)}).add(p)),n.scroll(0),t=a):p&&(v(s.chartHeight),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,s=this.currentPage+t,r=this.clipHeight,o=this.options.navigation,a=o.activeColor,o=o.inactiveColor,l=this.pager,h=this.padding;s>n&&(s=n),s>0&&(e!==P&&_(e,this.chart),this.nav.attr({translateX:h,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===s?o:a}).css({cursor:1===s?"default":"pointer"}),l.attr({text:s+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===n?o:a}).css({cursor:s===n?"default":"pointer"}),i=-i[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=s,this.positionCheckboxes(i))}},he=nt.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker;e=t.symbolWidth;var s,r=this.chart.renderer,o=this.legendGroup,t=t.baseline-at(.3*t.fontMetrics.b);i.lineWidth&&(s={"stroke-width":i.lineWidth},i.dashStyle&&(s.dashstyle=i.dashStyle),this.legendLine=r.path(["M",0,t,"L",e,t]).attr(s).add(o)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=e=r.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(o),e.isMarker=!0)}},(/Trident\/7\.0/.test(vt)||St)&&jt(be.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)}),Wt=nt.Chart=function(){this.init.apply(this,arguments)},Wt.prototype={callbacks:[],init:function(e,i){var n,s=e.series;e.series=null,n=t(L,e),n.series=e.series=s,this.userOptions=e,s=n.chart,this.margin=this.splashArray("margin",s),this.spacing=this.splashArray("spacing",s);var r=s.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var o,a=this;if(a.index=It.length,It.push(a),Pt++,s.reflow!==!1&&Qt(a,"load",function(){a.initReflow()}),r)for(o in r)Qt(a,o,r[o]);a.xAxis=[],a.yAxis=[],a.animation=!_t&&Nt(s.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Ft[t.type||e.type||e.defaultSeriesType])||D(17,!0),e=new e,e.init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,i,n=this.axes,s=this.series,r=this.pointer,o=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,h=this.isDirtyBox,c=s.length,u=c,d=this.renderer,p=d.isHidden(),f=[];for(_(t,this),p&&this.cloneRenderTo(),this.layOutTitles();u--;)if(t=s[u],t.options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(u=c;u--;)t=s[u],t.options.stacking&&(t.isDirty=!0);Vt(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),a=!0)}),a&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Vt(n,function(t){t.setScale()})),this.getMargins(),l&&(Vt(n,function(t){t.isDirty&&(h=!0)}),Vt(n,function(t){var i=t.min+","+t.max;t.extKey!==i&&(t.extKey=i,f.push(function(){Jt(t,"afterSetExtremes",Bt(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||e)&&t.redraw()})),h&&this.drawChartBox(),Vt(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),r&&r.reset(!0),d.draw(),Jt(this,"redraw"),p&&this.cloneRenderTo(!0),Vt(f,function(t){t.call()})},get:function(t){var e,i,n=this.axes,s=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=u(e.xAxis||{}),e=e.yAxis=u(e.yAxis||{});Vt(i,function(t,e){t.index=e,t.isX=!0}),Vt(e,function(t,e){t.index=e}),i=i.concat(e),Vt(i,function(e){new ue(t,e)})},getSelectedPoints:function(){var t=[];return Vt(this.series,function(e){t=t.concat(qt(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return qt(this.series,function(t){return t.selected})},setTitle:function(e,i,n){var s,r,o=this,a=o.options;r=a.title=t(a.title,e),s=a.subtitle=t(a.subtitle,i),a=s,Vt([["title",e,r],["subtitle",i,a]],function(t){var e=t[0],i=o[e],n=t[1],t=t[2];i&&n&&(o[e]=i=i.destroy()),t&&t.text&&!i&&(o[e]=o.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),o.layOutTitles(n)},layOutTitles:function(t){var e=0,i=this.title,n=this.subtitle,s=this.options,r=s.title,s=s.subtitle,o=this.renderer,a=this.spacingBox.width-44;!i||(i.css({width:(r.width||a)+"px"}).align(Bt({y:o.fontMetrics(r.style.fontSize,i).b-3},r),!1,"spacingBox"),r.floating||r.verticalAlign)||(e=i.getBBox().height),n&&(n.css({width:(s.width||a)+"px"}).align(Bt({y:e+(r.margin-13)+o.fontMetrics(s.style.fontSize,i).b},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(e=ht(e+n.getBBox().height))),i=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&Nt(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;h(e)||(this.containerWidth=Yt(i,"width")),h(t)||(this.containerHeight=Yt(i,"height")),this.chartWidth=ct(0,e||this.containerWidth||600),this.chartHeight=ct(0,Nt(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),C(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),d(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),st.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,n,s,r,o=this.options,a=o.chart;this.renderTo=t=a.renderTo,r="highcharts-"+Mt++,i(t)&&(this.renderTo=t=st.getElementById(t)),t||D(13,!0),n=e(c(t,"data-highcharts-chart")),!isNaN(n)&&It[n]&&It[n].hasRendered&&It[n].destroy(),c(t,"data-highcharts-chart",this.index),t.innerHTML="",!a.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,s=this.chartHeight,this.container=t=p(Rt,{className:"highcharts-container"+(a.className?" "+a.className:""),id:r},Bt({position:"relative",overflow:"hidden",width:n+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=new(nt[a.renderer]||R)(t,n,s,a.style,a.forExport,o.exporting&&o.exporting.allowHTML),_t&&this.renderer.create(this,t,n,s),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!h(i[0])&&(this.plotTop=ct(this.plotTop,n+this.options.title.margin+e[0])),this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&Vt(t.axes,function(t){t.visible&&t.getOffset()}),Vt(Lt,function(n,s){h(i[s])||(t[n]+=e[s])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,s=i.width||Yt(n,"width"),r=i.height||Yt(n,"height"),i=t?t.target:rt,n=function(){e.container&&(e.setSize(s,r,!1),e.hasUserSize=null)};e.hasUserSize||e.isPrinting||!s||!r||i!==rt&&i!==st||(s===e.containerWidth&&r===e.containerHeight||(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(n,100):n()),e.containerWidth=s,e.containerHeight=r)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};Qt(rt,"resize",e),Qt(t,"destroy",function(){Zt(rt,"resize",e)})},setSize:function(t,e,i){var n,s,r,o=this,a=o.renderer;o.isResizing+=1,r=function(){o&&Jt(o,"endResize",null,function(){o.isResizing-=1})},_(i,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,h(t)&&(o.chartWidth=n=ct(0,at(t)),o.hasUserSize=!!n),h(e)&&(o.chartHeight=s=ct(0,at(e))),t=a.globalAnimation,(t?ee:d)(o.container,{width:n+"px",height:s+"px"},t),o.setChartSize(!0),a.setSize(n,s,i),o.maxTicks=null,Vt(o.axes,function(t){t.isDirty=!0,t.setScale()}),Vt(o.series,function(t){t.isDirty=!0}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(i),o.oldChartHeight=null,Jt(o,"resize"),t=a.globalAnimation,t===!1?r():setTimeout(r,t&&t.duration||500)},setChartSize:function(t){var e,i,n,s,r=this.inverted,o=this.renderer,a=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,u=this.clipOffset;this.plotLeft=e=at(this.plotLeft),this.plotTop=i=at(this.plotTop),this.plotWidth=n=ct(0,at(a-e-this.marginRight)),this.plotHeight=s=ct(0,at(l-i-this.marginBottom)),this.plotSizeX=r?s:n,this.plotSizeY=r?n:s,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=o.plotBox={x:e,y:i,width:n,height:s},a=2*lt(this.plotBorderWidth/2),r=ht(ct(a,u[3])/2),o=ht(ct(a,u[0])/2),this.clipBox={x:r,y:o,width:lt(this.plotSizeX-ct(a,u[1])/2-r),height:ct(0,lt(this.plotSizeY-ct(a,u[2])/2-o))},t||Vt(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;Vt(Lt,function(e,i){t[e]=Nt(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,s=this.chartHeight,r=this.chartBackground,o=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,u=e.plotBackgroundColor,d=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;t=h+(e.shadow?8:0),(h||c)&&(r?r.animate(r.crisp({width:n-t,height:s-t})):(r={fill:c||Ht},h&&(r.stroke=e.borderColor,r["stroke-width"]=h),this.chartBackground=i.rect(t/2,t/2,n-t,s-t,e.borderRadius,h).attr(r).addClass("highcharts-background").add().shadow(e.shadow))),u&&(o?o.animate(y):this.plotBackground=i.rect(f,g,m,v,0).attr({fill:u}).add().shadow(e.plotShadow)),d&&(l?l.animate(y):this.plotBGImage=i.image(d,f,g,m,v).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=i.clipRect(w),p&&(a?a.animate(a.crisp({x:f,y:g,width:m,height:v,strokeWidth:-p})):this.plotBorder=i.rect(f,g,m,v,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,fill:Ht,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,s=n.options.chart,r=n.options.series;Vt(["inverted","angular","polar"],function(o){for(t=Ft[s.type||s.defaultSeriesType],i=n[o]||s[o]||t&&t.prototype[o],e=r&&r.length;!i&&e--;)(t=Ft[r[e].type])&&t.prototype[o]&&(i=!0);n[o]=i})},linkSeries:function(){var t=this,e=t.series;Vt(e,function(t){t.linkedSeries.length=0}),Vt(e,function(e){var n=e.options.linkedTo;i(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=Nt(e.options.visible,n.options.visible,e.visible))})},renderSeries:function(){Vt(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,i=t.options.labels;i.items&&Vt(i.items,function(n){var s=Bt(i.style,n.style),r=e(s.left)+t.plotLeft,o=e(s.top)+t.plotTop+12;delete s.left,delete s.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(s).add()})},render:function(){var t,e,i,n,s=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new be(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=13,Vt(s,function(t){t.setScale()}),this.getAxisMargins(),i=t/this.plotWidth>1.1,n=e/this.plotHeight>1.1,(i||n)&&(this.maxTicks=null,Vt(s,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Vt(s,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(o.credits),this.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,s=e.container,r=s&&s.parentNode;for(Jt(e,"destroy"),It[e.index]=P,Pt--,e.renderTo.removeAttribute("data-highcharts-chart"),Zt(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();Vt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),s&&(s.innerHTML="",Zt(s),r&&C(s));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!(!Dt&&rt==rt.top&&"complete"!==st.readyState||_t&&!rt.canvg)||(_t?ce.push(function(){t.firstRender()},t.options.global.canvasToolsURL):st.attachEvent("onreadystatechange",function(){st.detachEvent("onreadystatechange",t.firstRender),"complete"===st.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Jt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Vt(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Jt(t,"beforeRender"),nt.Pointer&&(t.pointer=new fe(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),Vt(t.callbacks,function(e){t.index!==P&&e.apply(t,[t])}),Jt(t,"load"),t.cloneRenderTo(!0))},splashArray:function(t,e){var i=e[t],i=n(i)?i:[i,i,i,i];return[Nt(e[t+"Top"],i[0]),Nt(e[t+"Right"],i[1]),Nt(e[t+"Bottom"],i[2]),Nt(e[t+"Left"],i[3])]}};var we=nt.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,n=this.chart,s=2*(i.slicedOffset||0),r=n.plotWidth-2*s,n=n.plotHeight-2*s,o=i.center,o=[Nt(o[0],"50%"),Nt(o[1],"50%"),i.size||"100%",i.innerSize||0],a=ut(r,n);for(t=0;t<4;++t)e=o[t],i=t<2||2===t&&/%$/.test(e),o[t]=(/%$/.test(e)?[r,n,a,o[2]][t]*parseFloat(e)/100:parseFloat(e))+(i?s:0);return o[3]>o[2]&&(o[3]=o[2]),o}},xe=function(){};xe.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var i=this.series,n=i.options.pointValKey||i.pointValKey,t=xe.prototype.optionsToObject.call(this,t);return Bt(this,t),this.options=this.options?Bt(this.options,t):t,n&&(this.y=this[n]),this.x===P&&i&&(this.x=e===P?i.autoIncrement():e),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,r=n||i.pointArrayMap||["y"],o=r.length,a=0,l=0;if("number"==typeof t||null===t)e[r[0]]=t;else if(s(t))for(!n&&t.length>o&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),a++);l<o;)n&&void 0===t[a]||(e[r[l]]=t[a]),a++,l++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),l(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Zt(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=Nt(i.valueDecimals,""),s=i.valuePrefix||"",r=i.valueSuffix||"";return Vt(e.pointArrayMap||["y"],function(e){e="{point."+e,(s||r)&&(t=t.replace(e+"}",s+e+"}"+r)),t=t.replace(e+"}",e+":,."+n+"f}")}),v(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,s=this.series.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Jt(this,t,e,i)},visible:!0};var Se=nt.Series=function(){};Se.prototype={isCartesian:!0,type:"line",pointClass:xe,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,s=this,r=t.series,o=function(t,e){return Nt(t.options.index,t._i)-Nt(e.options.index,e._i)};s.chart=t,s.options=e=s.setOptions(e),s.linkedSeries=[],s.bindAxes(),Bt(s,{name:e.name,state:"",pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),_t&&(e.animation=!1),n=e.events;for(i in n)Qt(s,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),s.getColor(),s.getSymbol(),Vt(s.parallelArrays,function(t){s[t+"Data"]=[]}),s.setData(e.data,!1),s.isCartesian&&(t.hasCartesianSeries=!0),r.push(s),s._i=r.length-1,w(r,o),this.yAxis&&w(this.yAxis.series,o),Vt(r,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;Vt(e.axisTypes||[],function(s){
Vt(n[s],function(n){t=n.options,(i[s]===t.index||i[s]!==P&&i[s]===t.id||i[s]===P&&0===t.index)&&(n.series.push(e),e[s]=n,n.isDirty=!0)}),!e[s]&&e.optionalAxis!==s&&D(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments;Vt(i.parallelArrays,"number"==typeof e?function(n){var s="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=s}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,i=Nt(i,e.pointStart,0);return this.pointInterval=t=Nt(this.pointInterval,e.pointInterval,1),"month"!==n&&"year"!==n||(e=new N(i),e="month"===n?+e[et](e[q]()+t):+e[it](e[X]()+t),t=e-i),this.xIncrement=i+t,i},getSegments:function(){var t,e=-1,i=[],n=this.points,s=n.length;if(s)if(this.options.connectNulls){for(t=s;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else Vt(n,function(t,r){null===t.y?(r>e+1&&i.push(n.slice(e+1,r)),e=r):r===s-1&&i.push(n.slice(e+1,r+1))});this.segments=i},setOptions:function(e){var i=this.chart,n=i.options.plotOptions,i=i.userOptions||{},s=i.plotOptions||{},r=n[this.type];return this.userOptions=e,n=t(r,n.series,e),this.tooltipOptions=t(L.tooltip,L.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,e.tooltip),null===r.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,e=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||e.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),e.length&&h(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(t,e,i){var n=this.userOptions,s="_"+t+"Index",r=t+"Counter";e||(h(n[s])?e=n[s]:(n[s]=e=this.chart[r]%i.length,this.chart[r]+=1),e=i[e]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||ne[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:he.drawLineMarker,setData:function(t,e,n,o){var a,l=this,c=l.points,u=c&&c.length||0,d=l.options,p=l.chart,f=null,g=l.xAxis,m=g&&!!g.categories,v=d.turboThreshold,y=this.xData,b=this.yData,w=(a=l.pointArrayMap)&&a.length,t=t||[];if(a=t.length,e=Nt(e,!0),o!==!1&&a&&u===a&&!l.cropped&&!l.hasGroupedData&&l.visible)Vt(t,function(t,e){c[e].update&&c[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.pointRange=m?1:d.pointRange,l.colorCounter=0,Vt(this.parallelArrays,function(t){l[t+"Data"].length=0}),v&&a>v){for(n=0;null===f&&n<a;)f=t[n],n++;if(r(f)){for(m=Nt(d.pointStart,0),f=Nt(d.pointInterval,1),n=0;n<a;n++)y[n]=m,b[n]=t[n],m+=f;l.xIncrement=m}else if(s(f))if(w)for(n=0;n<a;n++)f=t[n],y[n]=f[0],b[n]=f.slice(1,w+1);else for(n=0;n<a;n++)f=t[n],y[n]=f[0],b[n]=f[1];else D(12)}else for(n=0;n<a;n++)t[n]!==P&&(f={series:l},l.pointClass.prototype.applyOptions.apply(f,[t[n]]),l.updateParallelArrays(f,n),m&&h(f.name))&&(g.names[f.x]=f.name);for(i(b[0])&&D(14,!0),l.data=[],l.options.data=t,n=u;n--;)c[n]&&c[n].destroy&&c[n].destroy();g&&(g.minRange=g.userMinRange),l.isDirty=l.isDirtyData=p.isDirtyBox=!0,n=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),e&&p.redraw(n)},processData:function(t){var e,i=this.xData,n=this.yData,s=i.length;e=0;var r,o,a,l=this.xAxis,h=this.options;a=h.cropThreshold;var c,u,d=this.getExtremesFromAll||h.getExtremesFromAll,p=this.isCartesian;if(p&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(t=l.getExtremes(),c=t.min,u=t.max),p&&this.sorted&&!d&&(!a||s>a||this.forceCrop)&&(i[s-1]<c||i[0]>u?(i=[],n=[]):(i[0]<c||i[s-1]>u)&&(e=this.cropData(this.xData,this.yData,c,u),i=e.xData,n=e.yData,e=e.start,r=!0)),a=i.length-1;a>=0;a--)s=i[a]-i[a-1],s>0&&(o===P||s<o)?o=s:s<0&&this.requireSorting&&D(15);this.cropped=r,this.cropStart=e,this.processedXData=i,this.processedYData=n,null===h.pointRange&&(this.pointRange=o||1),this.closestPointRange=o},cropData:function(t,e,i,n){var s,r=t.length,o=0,a=r,l=Nt(this.cropShoulder,1);for(s=0;s<r;s++)if(t[s]>=i){o=ct(0,s-l);break}for(;s<r;s++)if(t[s]>n){a=s+l;break}return{xData:t.slice(o,a),yData:e.slice(o,a),start:o,end:a}},generatePoints:function(){var t,e,i,n,s=this.options.data,r=this.data,o=this.processedXData,a=this.processedYData,l=this.pointClass,h=o.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(r||d||(r=[],r.length=s.length,r=this.data=r),n=0;n<h;n++)e=c+n,d?p[n]=(new l).init(this,[o[n]].concat(u(a[n]))):(r[e]?i=r[e]:s[e]!==P&&(r[e]=i=(new l).init(this,s[e],o[n])),p[n]=i),p[n].index=e;if(r&&(h!==(t=r.length)||d))for(n=0;n<t;n++)n===c&&!d&&(n+=h),r[n]&&(r[n].destroyElements(),r[n].plotX=P);this.data=r,this.points=p},getExtremes:function(t){var e,i=this.yAxis,n=this.processedXData,s=[],r=0;e=this.xAxis.getExtremes();var o,a,l,h,c=e.min,u=e.max,t=t||this.stackedYData||this.processedYData;for(e=t.length,h=0;h<e;h++)if(a=n[h],l=t[h],o=null!==l&&l!==P&&(!i.isLog||l.length||l>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[h+1]||a)>=c&&(n[h-1]||a)<=u,o&&a)if(o=l.length)for(;o--;)null!==l[o]&&(s[r++]=l[o]);else s[r++]=l;this.dataMin=x(s),this.dataMax=S(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,i,n,s=this.options,o=s.stacking,a=this.xAxis,l=a.categories,c=this.yAxis,u=this.points,d=u.length,p=!!this.modifyValue,f=s.pointPlacement,g="between"===f||r(f),m=s.threshold,v=s.startFromThreshold?m:0,y=Number.MAX_VALUE,s=0;s<d;s++){var b=u[s],w=b.x,x=b.y;e=b.low;var S=o&&c.stacks[(this.negStacks&&x<(v?0:m)?"-":"")+this.stackKey];c.isLog&&null!==x&&x<=0&&(b.y=x=null,D(10)),b.plotX=t=ut(ct(-1e5,a.translate(w,0,0,0,1,f,"flags"===this.type)),1e5),o&&this.visible&&S&&S[w]&&(n=this.getStackIndicator(n,w,this.index),S=S[w],x=S.points[n.key],e=x[0],x=x[1],e===v&&(e=Nt(m,c.min)),c.isLog&&e<=0&&(e=null),b.total=b.stackTotal=S.total,b.percentage=S.total&&b.y/S.total*100,b.stackY=x,S.setOffset(this.pointXOffset||0,this.barW||0)),b.yBottom=h(e)?c.translate(e,0,1,0,1):null,p&&(x=this.modifyValue(x,b)),b.plotY=e="number"==typeof x&&x!==1/0?ut(ct(-1e5,c.translate(x,0,1,0,1)),1e5):P,b.isInside=e!==P&&e>=0&&e<=c.len&&t>=0&&t<=a.len,b.clientX=g?a.translate(w,0,0,0,1):t,b.negative=b.y<(m||0),b.category=l&&l[b.x]!==P?l[b.x]:b.x,s&&(y=ut(y,dt(t-i))),i=t}this.closestPointRangePx=y,this.getSegments()},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,s=e.inverted,r=this.clipBox,o=r||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height,i.xAxis,i.yAxis].join(","),l=e[a],h=e[a+"m"];l||(t&&(o.width=0,e[a+"m"]=h=n.clipRect(-99,s?-e.plotLeft:-e.plotTop,99,s?e.chartWidth:e.chartHeight)),e[a]=l=n.clipRect(o)),t&&(l.count+=1),i.clip!==!1&&(this.group.clip(t||r?l:e.clipRect),this.markerGroup.clip(h),this.sharedClipKey=a),t||(l.count-=1,l.count<=0&&a&&e[a]&&(r||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,s=this.options.animation;s&&!n(s)&&(s=ne[this.type].animation),t?this.setClip(s):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX},s),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},s),this.animate=null)},afterAnimate:function(){this.setClip(),Jt(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,s,r,o,a,l,h,c,u,d=this.points,p=this.chart,f=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,v=Nt(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(n=d.length;n--;)s=d[n],e=lt(s.plotX),i=s.plotY,l=s.graphic,h=s.marker||{},c=!!s.marker,t=v&&h.enabled===P||h.enabled,u=s.isInside,t&&i!==P&&!isNaN(i)&&null!==s.y?(t=s.pointAttr[s.selected?"select":""]||g,r=t.r,o=Nt(h.symbol,this.symbol),a=0===o.indexOf("url"),l?l[u?"show":"hide"](!0).animate(Bt({x:e-r,y:i-r},l.symbolName?{width:2*r,height:2*r}:{})):u&&(r>0||a)&&(s.graphic=p.renderer.symbol(o,e-r,i-r,2*r,2*r,c?h:f).attr(t).add(m))):l&&(s.graphic=l.destroy())},convertAttribs:function(t,e,i,n){var s,r,o=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},n=n||{};for(s in o)r=o[s],a[s]=Nt(t[r],e[s],i[s],n[s]);return a},getAttribs:function(){var t,e=this,i=e.options,n=ne[e.type].marker?i.marker:i,s=n.states,r=s.hover,o=e.color,a=e.options.negativeColor;t={stroke:o,fill:o};var l,c,u=e.points||[],d=[],p=e.pointAttrToOptions;l=e.hasPointSpecificOptions;var f=n.lineColor,g=n.fillColor;c=i.turboThreshold;var m,v=e.zones,y=e.zoneAxis||"y";if(i.marker?(r.radius=r.radius||n.radius+r.radiusPlus,r.lineWidth=r.lineWidth||n.lineWidth+r.lineWidthPlus):(r.color=r.color||ae(r.color||o).brighten(r.brightness).get(),r.negativeColor=r.negativeColor||ae(r.negativeColor||a).brighten(r.brightness).get()),d[""]=e.convertAttribs(n,t),Vt(["hover","select"],function(t){d[t]=e.convertAttribs(s[t],d[""])}),e.pointAttr=d,o=u.length,!c||o<c||l)for(;o--;){if(c=u[o],(n=c.options&&c.options.marker||c.options)&&n.enabled===!1&&(n.radius=0),v.length){for(l=0,t=v[l];c[y]>=t.value;)t=v[++l];c.color=c.fillColor=Nt(t.color,e.color)}if(l=i.colorByPoint||c.color,c.options)for(m in p)h(n[p[m]])&&(l=!0);l?(n=n||{},l=[],s=n.states||{},t=s.hover=s.hover||{},i.marker&&(!c.negative||t.fillColor||r.fillColor)||(t[e.pointAttrToOptions.fill]=t.color||!c.options.color&&r[c.negative&&a?"negativeColor":"color"]||ae(c.color).brighten(t.brightness||r.brightness).get()),t={color:c.color},g||(t.fillColor=c.color),f||(t.lineColor=c.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,l[""]=e.convertAttribs(Bt(t,n),d[""]),l.hover=e.convertAttribs(s.hover,d.hover,l[""]),l.select=e.convertAttribs(s.select,d.select,l[""])):l=d,c.pointAttr=l}},destroy:function(){var t,e,i,n,s=this,r=s.chart,o=/AppleWebKit\/533/.test(vt),a=s.data||[];for(Jt(s,"destroy"),Zt(s),Vt(s.axisTypes||[],function(t){(n=s[t])&&(l(n.series,s),n.isDirty=n.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();s.points=null,clearTimeout(s.animationTimeout);for(i in s)s[i]instanceof M&&!s[i].survive&&(t=o&&"group"===i?"hide":"destroy",s[i][t]());r.hoverSeries===s&&(r.hoverSeries=null),l(r.series,s);for(i in s)delete s[i]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return Vt(t,function(s,r){var o,a=s.plotX,l=s.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,s,r)):(i.push(r?"L":"M"),n&&r&&(o=t[r-1],"right"===n?i.push(o.plotX,l,"L"):"center"===n?i.push((o.plotX+a)/2,o.plotY,"L",(o.plotX+a)/2,l,"L"):i.push(a,o.plotY,"L")),i.push(s.plotX,s.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return Vt(e.segments,function(s){t=e.getSegmentPath(s),s.length>1?i=i.concat(t):n.push(s[0])}),e.singlePoints=n,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,s="square"!==e.linecap,r=this.getGraphPath(),o=this.fillGraph&&this.color||Ht;Vt(this.zones,function(n,s){i.push(["zoneGraph"+s,n.color||t.color,n.dashStyle||e.dashStyle])}),Vt(i,function(i,a){var l=i[0],h=t[l];h?h.animate({d:r}):(n||o)&&r.length&&(h={stroke:i[1],"stroke-width":n,fill:o,zIndex:1},i[2]?h.dashstyle=i[2]:s&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(r).attr(h).add(t.group).shadow(a<2&&e.shadow))})},applyZones:function(){var t,e,i,n,s,r,o,a=this,l=this.chart,h=l.renderer,c=this.zones,u=this.clips||[],d=this.graph,p=this.area,f=ct(l.chartWidth,l.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],m=g.reversed,v=l.inverted,y=g.horiz,b=!1;c.length&&(d||p)&&g.min!==P&&(d&&d.hide(),p&&p.hide(),n=g.getExtremes(),Vt(c,function(c,w){t=m?y?l.plotWidth:0:y?0:g.toPixels(n.min),t=ut(ct(Nt(e,t),0),f),e=ut(ct(at(g.toPixels(Nt(c.value,n.max),!0)),0),f),b&&(t=e=g.toPixels(n.max)),s=Math.abs(t-e),r=ut(t,e),o=ct(t,e),g.isXAxis?(i={x:v?o:r,y:0,width:s,height:f},y||(i.x=l.plotHeight-i.x)):(i={x:0,y:v?o:r,width:f,height:s},y&&(i.y=l.plotWidth-i.y)),l.inverted&&h.isVML&&(i=g.isXAxis?{x:0,y:m?r:o,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),u[w]?u[w].animate(i):(u[w]=h.clipRect(i),d&&a["zoneGraph"+w].clip(u[w]),p&&a["zoneArea"+w].clip(u[w])),b=c.value>n.max}),this.clips=u)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Vt(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(Qt(i,"resize",t),Qt(e,"destroy",function(){Zt(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,s){var r=this[t],o=!r;return o&&(this[t]=r=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(s),r.addClass("highcharts-series-"+this.index)),r[o?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,s=(t=n.animation)&&!!e.animate&&i.renderer.isSVG&&Nt(t.duration,500)||0,r=e.visible?"visible":"hidden",o=n.zIndex,a=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",r,o,l),e.markerGroup=e.plotGroup("markerGroup","markers",r,o,l),s&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&i.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),Vt(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip!==!1&&!e.sharedClipKey&&!a&&t.clip(i.clipRect),s&&e.animate(),a||(s?e.animationTimeout=setTimeout(function(){e.afterAnimate()},s):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.isDirty,n=this.group,s=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:Nt(s&&s.left,t.plotLeft),translateY:Nt(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&Jt(this,"updatedData"),(i||e)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,s=this.chart.inverted;return this.searchKDTree({clientX:s?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:s?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(e,n,s){var r,o;if(o=e&&e.length)return r=i.kdAxisArray[n%s],e.sort(function(t,e){return t[r]-e[r]}),o=Math.floor(o/2),{point:e[o],left:t(e.slice(0,o),n+1,s),right:t(e.slice(o+1),n+1,s)}}function e(){var e=qt(i.points||[],function(t){return null!==t.y});i.kdTree=t(e,n,n)}var i=this,n=i.kdDimensions;delete i.kdTree,i.options.kdSync?e():setTimeout(e)},searchKDTree:function(t,e){function i(t,e,a,l){var c,u,d=e.point,p=n.kdAxisArray[a%l],f=d;return u=h(t[s])&&h(d[s])?Math.pow(t[s]-d[s],2):null,c=h(t[r])&&h(d[r])?Math.pow(t[r]-d[r],2):null,c=(u||0)+(c||0),d.dist=h(c)?Math.sqrt(c):Number.MAX_VALUE,d.distX=h(u)?Math.sqrt(u):Number.MAX_VALUE,p=t[p]-d[p],c=p<0?"left":"right",u=p<0?"right":"left",e[c]&&(c=i(t,e[c],a+1,l),f=c[o]<f[o]?c:d),e[u]&&Math.sqrt(p*p)<f[o]&&(t=i(t,e[u],a+1,l),f=t[o]<f[o]?t:f),f}var n=this,s=this.kdAxisArray[0],r=this.kdAxisArray[1],o=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},I.prototype={destroy:function(){k(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?v(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,s=n.inverted,r=i.reversed,r=this.isNegative&&!r||!this.isNegative&&r,o=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=dt(o-i),a=n.xAxis[0].translate(this.x)+t,l=n.plotHeight,r={x:s?r?o:o-i:a,y:s?l-a-e:r?l-o-i:l-o,width:s?i:e,height:s?e:i};(s=this.label)&&(s.align(this.alignOptions,null,r),r=s.alignAttr,s[this.options.crop===!1||n.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}},Wt.prototype.getStacks=function(){var t=this;Vt(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Vt(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+Nt(e.options.stack,""))})},ue.prototype.buildStacks=function(){var t=this.series,e=Nt(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},ue.prototype.renderStackTotals=function(){var t,e,i=this.chart,n=i.renderer,s=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(i.plotLeft,i.plotTop);for(t in s)for(e in i=s[t])i[e].render(r)},ue.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=0)},ue.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(i in t[e])t[e][i].cum=t[e][i].total}},Se.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,s,r,o,a=this.processedXData,l=this.processedYData,h=[],c=l.length,u=this.options,d=u.threshold,p=u.startFromThreshold?d:0,f=u.stack,u=u.stacking,g=this.stackKey,m="-"+g,v=this.negStacks,y=this.yAxis,b=y.stacks,w=y.oldStacks;for(y.stacksTouched+=1,s=0;s<c;s++)r=a[s],o=l[s],t=this.getStackIndicator(t,r,this.index),n=t.key,i=(e=v&&o<(p?0:d))?m:g,b[i]||(b[i]={}),b[i][r]||(w[i]&&w[i][r]?(b[i][r]=w[i][r],b[i][r].total=null):b[i][r]=new I(y,y.options.stackLabels,e,r,f)),i=b[i][r],i.points[n]=[Nt(i.cum,p)],i.touched=y.stacksTouched,"percent"===u?(e=e?g:m,v&&b[e]&&b[e][r]?(e=b[e][r],i.total=e.total=ct(e.total,i.total)+dt(o)||0):i.total=T(i.total+(dt(o)||0))):i.total=T(i.total+(o||0)),i.cum=Nt(i.cum,p)+(o||0),i.points[n].push(i.cum),h[s]=i.cum;"percent"===u&&(y.usePercentage=!0),this.stackedYData=h,y.oldStacks={}}},Se.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,s=e.processedXData;Vt([i,"-"+i],function(i){for(var r,o,a,l=s.length;l--;)o=s[l],t=e.getStackIndicator(t,o,e.index),r=(a=n[i]&&n[i][o])&&a.points[t.key],(o=r)&&(a=a.total?100/a.total:0,o[0]=T(o[0]*a),o[1]=T(o[1]*a),e.stackedYData[l]=o[1])})},Se.prototype.getStackIndicator=function(t,e,i){return h(t)&&t.x===e?t.index++:t={x:e,index:0},t.key=[i,e,t.index].join(","),t},Bt(Wt.prototype,{addSeries:function(t,e,i){var n,s=this;return t&&(e=Nt(e,!0),Jt(s,"addSeries",{options:t},function(){n=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),e&&s.redraw(i)})),n},addAxis:function(e,i,n,s){var r=i?"xAxis":"yAxis",o=this.options;new ue(this,t(e,{index:this[r].length,isX:i})),o[r]=u(o[r]||{}),o[r].push(e),Nt(n,!0)&&this.redraw(s)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,s=i.loading,r=function(){n&&d(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};n||(e.loadingDiv=n=p(Rt,{className:"highcharts-loading"},Bt(s.style,{zIndex:10,display:Ht}),e.container),e.loadingSpan=p("span",null,s.labelStyle,n),Qt(e,"redraw",r)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(d(n,{opacity:0,display:""}),ee(n,{opacity:s.style.opacity},{duration:s.showDuration||0}),e.loadingShown=!0),r()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&ee(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){d(e,{display:Ht})}}),this.loadingShown=!1}}),Bt(xe.prototype,{update:function(t,e,i,r){function o(){l.applyOptions(t),null===l.y&&c&&(l.graphic=c.destroy()),n(t)&&!s(t)&&(l.redraw=function(){c&&c.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=c.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),a=l.index,h.updateParallelArrays(l,a),p&&l.name&&(p[l.x]=l.name),d.data[a]=l.options,h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===d.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(i)}var a,l=this,h=l.series,c=l.graphic,u=h.chart,d=h.options,p=h.xAxis&&h.xAxis.names,e=Nt(e,!0);r===!1?o():l.firePointEvent("update",{options:t},o)},remove:function(t,e){this.series.removePoint(Ut(this,this.series.data),t,e)}}),Bt(Se.prototype,{addPoint:function(t,e,i,n){var s,r=this,o=r.options,a=r.data,l=r.graph,h=r.area,c=r.chart,u=r.xAxis&&r.xAxis.names,d=l&&l.shift||0,p=["graph","area"],l=o.data,f=r.xData;if(_(n,c),i){for(n=r.zones.length;n--;)p.push("zoneGraph"+n,"zoneArea"+n);Vt(p,function(t){r[t]&&(r[t].shift=d+(o.step?2:1))})}if(h&&(h.isArea=!0),e=Nt(e,!0),h={series:r},r.pointClass.prototype.applyOptions.apply(h,[t]),p=h.x,n=f.length,r.requireSorting&&p<f[n-1])for(s=!0;n&&f[n-1]>p;)n--;r.updateParallelArrays(h,"splice",n,0,0),r.updateParallelArrays(h,n),u&&h.name&&(u[p]=h.name),l.splice(n,0,t),s&&(r.data.splice(n,0,null),r.processData()),"point"===o.legendType&&r.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),r.updateParallelArrays(h,"shift"),l.shift())),r.isDirty=!0,r.isDirtyData=!0,e&&(r.getAttribs(),c.redraw())},removePoint:function(t,e,i){var n=this,s=n.data,r=s[t],o=n.points,a=n.chart,l=function(){s.length===o.length&&o.splice(t,1),s.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(r||{series:n},"splice",t,1),r&&r.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};_(i,a),e=Nt(e,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,n=i.chart,t=Nt(t,!0);i.isRemoving||(i.isRemoving=!0,Jt(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(e,i){var n,s=this,r=this.chart,o=this.userOptions,a=this.type,l=Ft[a].prototype,h=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==a||void 0!==e.zIndex)&&(h.length=0),Vt(h,function(t){h[t]=s[t],delete s[t]}),e=t(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1);for(n in l)this[n]=P;Bt(this,Ft[e.type||a].prototype),Vt(h,function(t){s[t]=h[t]}),this.init(r,e),r.linkSeries(),Nt(i,!0)&&r.redraw(!1)}}),Bt(ue.prototype,{update:function(e,i){var n=this.chart,e=n.options[this.coll][this.options.index]=t(this.userOptions,e);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=P,this.init(n,Bt(e,{events:P})),n.isDirtyBox=!0,Nt(i,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,s=n.length;s--;)n[s]&&n[s].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),Vt(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,Nt(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var ke=f(Se);Ft.line=ke,ne.area=t(zt,{softThreshold:!1,threshold:0});var Ce=f(Se,{type:"area",getSegments:function(){var t,e,i,n,s,r=this,o=[],a=[],l=[],h=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],d={},p=this.points,f=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<p.length;n++)d[p[n].x]=p[n];for(s in u)null!==u[s].total&&l.push(+s);l.sort(function(t,e){return t-e}),Vt(l,function(s){var o,l=null;if(!f||d[s]&&null!==d[s].y)if(d[s])a.push(d[s]);else{for(n=r.index;n<=c.series.length;n++)if(i=r.getStackIndicator(null,s,n),o=u[s].points[i.key]){l=o[1];break}t=h.translate(s),e=c.getThreshold(l),a.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:At})}}),a.length&&o.push(a)}else Se.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,i=Se.prototype.getSegmentPath.call(this,t),n=[].concat(i),s=this.options;e=i.length;var r,o=this.yAxis.getThreshold(s.threshold);if(3===e&&n.push("L",i[1],i[2]),s.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)r=Nt(t[e].yBottom,o),e<t.length-1&&s.step&&n.push(t[e+1].plotX,r),n.push(t[e].plotX,r);else this.closeSegment(n,t,o);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Se.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Vt(this.zones,function(e,s){n.push(["zoneArea"+s,e.color||t.color,e.fillColor||i.fillColor])}),Vt(n,function(n){var s=n[0],r=t[s];r?r.animate({d:e}):t[s]=t.chart.renderer.path(e).attr({fill:Nt(n[2],ae(n[1]).setOpacity(Nt(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:he.drawRectangle});Ft.area=Ce,ne.spline=t(zt),ke=f(Se,{type:"spline",getPointSpline:function(t,e,i){var n,s,r,o,a=e.plotX,l=e.plotY,h=t[i-1],c=t[i+1];if(h&&c){t=h.plotY,r=c.plotX;var u,c=c.plotY;n=(1.5*a+h.plotX)/2.5,s=(1.5*l+t)/2.5,r=(1.5*a+r)/2.5,o=(1.5*l+c)/2.5,u=(o-s)*(r-a)/(r-n)+l-o,s+=u,o+=u,s>t&&s>l?(s=ct(t,l),o=2*l-s):s<t&&s<l&&(s=ut(t,l),o=2*l-s),o>c&&o>l?(o=ct(c,l),s=2*l-o):o<c&&o<l&&(o=ut(c,l),s=2*l-o),e.rightContX=r,e.rightContY=o}return i?(e=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,n||a,s||l,a,l],h.rightContX=h.rightContY=null):e=["M",a,l],e}}),Ft.spline=ke,ne.areaspline=t(ne.area),Ce=Ce.prototype,ke=f(ke,{type:"areaspline",closedStacks:!0,getSegmentPath:Ce.getSegmentPath,closeSegment:Ce.closeSegment,drawGraph:Ce.drawGraph,drawLegendSymbol:he.drawRectangle}),Ft.areaspline=ke,ne.column=t(zt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),ke=f(Se,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Se.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Vt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,s=i.xAxis,r=i.yAxis,o=s.reversed,a={},l=0;n.grouping===!1?l=1:Vt(i.chart.series,function(n){var s=n.options,o=n.yAxis;n.type===i.type&&n.visible&&r.len===o.len&&r.pos===o.pos&&(s.stacking?(t=n.stackKey,a[t]===P&&(a[t]=l++),e=a[t]):s.grouping!==!1&&(e=l++),n.columnIndex=e)});var h=ut(dt(s.transA)*(s.ordinalSlope||n.pointRange||s.closestPointRange||s.tickInterval||1),s.len),c=h*n.groupPadding,u=(h-2*c)/l,n=ut(n.maxPointWidth||s.len,Nt(n.pointWidth,u*(1-2*n.pointPadding)));return i.columnMetrics={width:n,offset:(u-n)/2+(c+((o?l-(i.columnIndex||0):i.columnIndex)||0)*u-h/2)*(o?-1:1)}},crispCol:function(t,e,i,n){var s=this.chart,r=this.borderWidth,o=-(r%2?.5:0),r=r%2?.5:1;return s.inverted&&s.renderer.isVML&&(r+=1),i=Math.round(t+i)+o,t=Math.round(t)+o,i-=t,o=dt(e)<=.5,n=Math.round(e+n)+r,e=Math.round(e)+r,n-=e,o&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=Nt(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),s=t.yAxis,r=t.translatedThreshold=s.getThreshold(i.threshold),o=Nt(i.minPointLength,5),a=t.getColumnMetrics(),l=a.width,h=t.barW=ct(l,1+2*n),c=t.pointXOffset=a.offset;e.inverted&&(r-=.5),i.pointPadding&&(h=ht(h)),Se.prototype.translate.apply(t),Vt(t.points,function(i){var n,a=ut(Nt(i.yBottom,r),9e4),u=999+dt(a),u=ut(ct(-u,i.plotY),s.len+u),d=i.plotX+c,p=h,f=ut(u,a),g=ct(u,a)-f;dt(g)<o&&o&&(g=o,n=!s.reversed&&!i.negative||s.reversed&&i.negative,f=dt(f-r)>o?a-o:r-(n?o:0)),i.barX=d,i.pointWidth=l,i.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-u,t.xAxis.len-d-p/2,g]:[d+p/2,u+s.pos-e.plotTop,g],i.shapeType="rect",i.shapeArgs=t.crispCol(d,f,p,g)})},getSymbol:At,drawLegendSymbol:he.drawRectangle,drawGraph:At,drawPoints:function(){var e,i,n=this,s=this.chart,r=n.options,o=s.renderer,a=r.animationLimit||250;Vt(n.points,function(l){var c=l.plotY,u=l.graphic;c===P||isNaN(c)||null===l.y?u&&(l.graphic=u.destroy()):(e=l.shapeArgs,c=h(n.borderWidth)?{"stroke-width":n.borderWidth}:{},i=l.pointAttr[l.selected?"select":""]||n.pointAttr[""],u?(ie(u),u.attr(c)[s.pointCount<a?"animate":"attr"](t(e))):l.graphic=o[l.shapeType](e).attr(c).attr(i).add(l.group||n.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,s={};Dt&&(t?(s.scaleY=.001,t=ut(e.pos+e.len,ct(e.pos,e.toPixels(i.threshold))),n?s.translateX=t-e.len:s.translateY=t,this.group.attr(s)):(s.scaleY=1,s[n?"translateX":"translateY"]=e.pos,this.group.animate(s,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Vt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Se.prototype.remove.apply(t,arguments)}}),Ft.column=ke,ne.bar=t(ne.column),Ce=f(ke,{type:"bar",inverted:!0}),Ft.bar=Ce,ne.scatter=t(zt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Ce=f(Se,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Se.prototype.drawGraph.call(this)}}),Ft.scatter=Ce,ne.pie=t(zt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),zt={type:"pie",isCartesian:!1,pointClass:f(xe,{init:function(){xe.prototype.init.apply(this,arguments);var t,e=this;return e.name=Nt(e.name,"Slice"),t=function(t){e.slice("select"===t.type)},Qt(e,"select",t),Qt(e,"unselect",t),e},setVisible:function(t,e){var i=this,n=i.series,s=n.chart,r=n.options.ignoreHiddenPoint,e=Nt(e,r);t!==i.visible&&(i.visible=i.options.visible=t=t===P?!i.visible:t,n.options.data[Ut(i,n.data)]=i.options,Vt(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&s.legend.colorizeItem(i,t),!t&&"hover"===i.state&&i.setState(""),r&&(n.isDirty=!0),e&&s.redraw())},slice:function(t,e,i){var n=this.series;_(i,n.chart),Nt(e,!0),this.sliced=this.options.sliced=t=h(t)?t:!this.sliced,n.options.data[Ut(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(Vt(i,function(t){var i=t.graphic,s=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:s.r,start:s.start,end:s.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,s=n.length,r=this.options.ignoreHiddenPoint;for(t=0;t<s;t++)e=n[t],i+=r&&!e.visible?0:e.y;for(this.total=i,t=0;t<s;t++)e=n[t],e.percentage=i>0&&(e.visible||!r)?e.y/i*100:0,e.total=i},generatePoints:function(){Se.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();
var e,i,n,s,r,o=0,a=this.options,l=a.slicedOffset,h=l+a.borderWidth,c=a.startAngle||0,u=this.startAngleRad=gt/180*(c-90),c=(this.endAngleRad=gt/180*(Nt(a.endAngle,c+360)-90))-u,d=this.points,p=a.dataLabels.distance,a=a.ignoreHiddenPoint,f=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=ot.asin(ut((e-t[1])/(t[2]/2+p),1)),t[0]+(i?-1:1)*pt(n)*(t[2]/2+p)},s=0;s<f;s++)r=d[s],e=u+o*c,a&&!r.visible||(o+=r.percentage/100),i=u+o*c,r.shapeType="arc",r.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:at(1e3*e)/1e3,end:at(1e3*i)/1e3},n=(i+e)/2,n>1.5*gt?n-=2*gt:n<-gt/2&&(n+=2*gt),r.slicedTranslation={translateX:at(pt(n)*l),translateY:at(ft(n)*l)},e=pt(n)*t[2]/2,i=ft(n)*t[2]/2,r.tooltipPos=[t[0]+.7*e,t[1]+.7*i],r.half=n<-gt/2||n>gt/2?1:0,r.angle=n,h=ut(h,p/2),r.labelPos=[t[0]+e+pt(n)*p,t[1]+i+ft(n)*p,t[0]+e+pt(n)*h,t[1]+i+ft(n)*h,t[0]+e,t[1]+i,p<0?"center":r.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,s,r=this,o=r.chart.renderer,a=r.options.shadow;a&&!r.shadowGroup&&(r.shadowGroup=o.g("shadow").add(r.group)),Vt(r.points,function(l){null!==l.y&&(e=l.graphic,n=l.shapeArgs,i=l.shadowGroup,a&&!i&&(i=l.shadowGroup=o.g("shadow").add(r.shadowGroup)),t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.setRadialReference(r.center).animate(Bt(n,t)):(s={"stroke-linejoin":"round"},l.visible||(s.visibility="hidden"),l.graphic=e=o[l.shapeType](n).setRadialReference(r.center).attr(l.pointAttr[l.selected?"select":""]).attr(s).attr(t).add(r.group).shadow(a,i)))})},searchPoint:At,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:he.drawRectangle,getCenter:we.getCenter,getSymbol:At},zt=f(Se,zt),Ft.pie=zt,Se.prototype.drawDataLabels=function(){var e,i,n,s,r=this,o=r.options,a=o.cursor,l=o.dataLabels,c=r.points,u=r.hasRendered||0,d=r.chart.renderer;(l.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(l),s=r.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),Nt(l.defer,!0)&&(s.attr({opacity:+u}),u||Qt(r,"afterAnimate",function(){r.visible&&s.show(),s[o.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=l,Vt(c,function(c){var u,p,f,g,m=c.dataLabel,y=c.connector,b=!0,w={};if(e=c.dlOptions||c.options&&c.options.dataLabels,u=Nt(e&&e.enabled,i.enabled),m&&!u)c.dataLabel=m.destroy();else if(u){if(l=t(i,e),g=l.style,u=l.rotation,p=c.getLabelConfig(),n=l.format?v(l.format,p):l.formatter.call(p,l),g.color=Nt(l.color,g.color,r.color,"black"),m)h(n)?(m.attr({text:n}),b=!1):(c.dataLabel=m=m.destroy(),y&&(c.connector=y.destroy()));else if(h(n)){m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:u,padding:l.padding,zIndex:1},"contrast"===g.color&&(w.color=l.inside||l.distance<0||o.stacking?d.getContrast(c.color||r.color):"#000000"),a&&(w.cursor=a);for(f in m)m[f]===P&&delete m[f];m=c.dataLabel=d[u?"text":"label"](n,0,-999,l.shape,null,null,l.useHTML).attr(m).css(Bt(g,w)).add(s).shadow(l.shadow)}m&&r.alignDataLabel(c,m,l,null,b)}}))},Se.prototype.alignDataLabel=function(t,e,i,n,s){var r=this.chart,o=r.inverted,a=Nt(t.plotX,-999),l=Nt(t.plotY,-999),h=e.getBBox(),c=r.renderer.fontMetrics(i.style.fontSize).b,u=this.visible&&(t.series.forceDL||r.isInsidePlot(a,at(l),o)||n&&r.isInsidePlot(a,o?n.x+1:n.y+n.height-1,o));u&&(n=Bt({x:o?r.plotWidth-l:a,y:at(o?r.plotHeight-a:l),width:0,height:0},n),Bt(i,{width:h.width,height:h.height}),i.rotation?(t=r.renderer.rotCorr(c,i.rotation),e[s?"attr":"animate"]({x:n.x+i.x+n.width/2+t.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(e.align(i,null,n),o=e.alignAttr,"justify"===Nt(i.overflow,"justify")?this.justifyDataLabel(e,i,o,h,n,s):Nt(i.crop,!0)&&(u=r.isInsidePlot(o.x,o.y)&&r.isInsidePlot(o.x+h.width,o.y+h.height)),i.shape&&e.attr({anchorX:t.plotX,anchorY:t.plotY}))),u||(ie(e),e.attr({y:-999}),e.placed=!1)},Se.prototype.justifyDataLabel=function(t,e,i,n,s,r){var o,a,l=this.chart,h=e.align,c=e.verticalAlign,u=t.box?0:t.padding||0;o=i.x+u,o<0&&("right"===h?e.align="left":e.x=-o,a=!0),o=i.x+n.width-u,o>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-o,a=!0),o=i.y+u,o<0&&("bottom"===c?e.verticalAlign="top":e.y=-o,a=!0),o=i.y+n.height-u,o>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-o,a=!0),a&&(t.placed=!r,t.align(e,null,s))},Ft.pie&&(Ft.pie.prototype.drawDataLabels=function(){var t,e,i,n,s,r,o,a,l,h,c,u=this,d=u.data,p=u.chart,f=u.options.dataLabels,g=Nt(f.connectorPadding,10),m=Nt(f.connectorWidth,1),v=p.plotWidth,y=p.plotHeight,b=Nt(f.softConnector,!0),w=f.distance,x=u.center,k=x[2]/2,C=x[1],D=w>0,T=[[],[]],_=[0,0,0,0],E=function(t,e){return e.y-t.y};if(u.visible&&(f.enabled||u._hasPointLabels)){for(Se.prototype.drawDataLabels.apply(u),Vt(d,function(t){t.dataLabel&&t.visible&&T[t.half].push(t)}),h=2;h--;){var M,A=[],I=[],P=T[h],R=P.length;if(R){for(u.sortByAngle(P,h-.5),c=d=0;!d&&P[c];)d=P[c]&&P[c].dataLabel&&(P[c].dataLabel.getBBox().height||21),c++;if(w>0){for(s=ut(C+k+w,p.plotHeight),c=ct(0,C-k-w);c<=s;c+=d)A.push(c);if(s=A.length,R>s){for(t=[].concat(P),t.sort(E),c=R;c--;)t[c].rank=c;for(c=R;c--;)P[c].rank>=s&&P.splice(c,1);R=P.length}for(c=0;c<R;c++){t=P[c],r=t.labelPos,t=9999;var H,$;for($=0;$<s;$++)H=dt(A[$]-r[1]),H<t&&(t=H,M=$);if(M<c&&null!==A[c])M=c;else for(s<R-c+M&&null!==A[c]&&(M=s-R+c);null===A[M];)M++;I.push({i:M,y:A[M]}),A[M]=null}I.sort(E)}for(c=0;c<R;c++)t=P[c],r=t.labelPos,n=t.dataLabel,l=t.visible===!1?"hidden":"inherit",t=r[1],w>0?(s=I.pop(),M=s.i,a=s.y,(t>a&&null!==A[M+1]||t<a&&null!==A[M-1])&&(a=ut(ct(0,t),p.plotHeight))):a=t,o=f.justify?x[0]+(h?-1:1)*(k+w):u.getX(a===C-k-w||a===C+k+w?t:a,h),n._attr={visibility:l,align:r[6]},n._pos={x:o+f.x+({left:g,right:-g}[r[6]]||0),y:a+f.y-10},n.connX=o,n.connY=a,null===this.options.size&&(s=n.width,o-s<g?_[3]=ct(at(s-o+g),_[3]):o+s>v-g&&(_[1]=ct(at(o+s-v+g),_[1])),a-d/2<0?_[0]=ct(at(-a+d/2),_[0]):a+d/2>y&&(_[2]=ct(at(a+d/2-y),_[2])))}}(0===S(_)||this.verifyDataLabelOverflow(_))&&(this.placeDataLabels(),D&&m&&Vt(this.points,function(t){e=t.connector,r=t.labelPos,(n=t.dataLabel)&&n._pos&&t.visible?(l=n._attr.visibility,o=n.connX,a=n.connY,i=b?["M",o+("left"===r[6]?5:-5),a,"C",o,a,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],"L",r[4],r[5]]:["M",o+("left"===r[6]?5:-5),a,"L",r[2],r[3],"L",r[4],r[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=u.chart.renderer.path(i).attr({"stroke-width":m,stroke:f.connectorColor||t.color||"#606060",visibility:l}).add(u.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},Ft.pie.prototype.placeDataLabels=function(){Vt(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},Ft.pie.prototype.alignDataLabel=At,Ft.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,s=n.center,r=n.minSize||80,o=r;return null!==s[0]?o=ct(i[2]-ct(t[1],t[3]),r):(o=ct(i[2]-t[1]-t[3],r),i[0]+=(t[3]-t[1])/2),null!==s[1]?o=ct(ut(o,i[2]-ct(t[0],t[2])),r):(o=ct(ut(o,i[2]-t[0]-t[2]),r),i[1]+=(t[0]-t[2])/2),o<i[2]?(i[2]=o,i[3]=Math.min(/%$/.test(n.innerSize||0)?o*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),o),this.translate(i),Vt(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Ft.column&&(Ft.column.prototype.alignDataLabel=function(e,i,n,s,r){var o=this.chart.inverted,a=e.series,l=e.dlBox||e.shapeArgs,h=Nt(e.below,e.plotY>Nt(this.translatedThreshold,a.yAxis.len)),c=Nt(n.inside,!!this.options.stacking);l&&(s=t(l),o&&(s={x:a.yAxis.len-s.y-s.height,y:a.xAxis.len-s.x-s.width,width:s.height,height:s.width}),!c)&&(o?(s.x+=h?0:s.width,s.width=0):(s.y+=h?s.height:0,s.height=0)),n.align=Nt(n.align,!o||c?"center":h?"right":"left"),n.verticalAlign=Nt(n.verticalAlign,o||c?"middle":h?"top":"bottom"),Se.prototype.alignDataLabel.call(this,e,i,n,s,r)}),function(t){var e=t.Chart,i=t.each,n=t.pick,s=HighchartsAdapter.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var s=t.options.dataLabels,r=t.dataLabelCollections||["dataLabel"];(s.enabled||t._hasPointLabels)&&!s.allowOverlap&&t.visible&&i(r,function(s){i(t.points,function(t){t[s]&&(t[s].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[s]))})})}),t.hideOverlappingLabels(e)}e(),s(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,s,r,o,a,l,h=t.length;for(n=0;n<h;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<h;n++)for(s=t[n],e=n+1;e<h;++e)r=t[e],s&&r&&s.placed&&r.placed&&0!==s.newOpacity&&0!==r.newOpacity&&(o=s.alignAttr,a=r.alignAttr,l=2*(s.box?0:s.padding),o=!(a.x>o.x+(s.width-l)||a.x+(r.width-l)<o.x||a.y>o.y+(s.height-l)||a.y+(r.height-l)<o.y))&&((s.labelrank<r.labelrank?s:r).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(nt),zt=nt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,s=n&&{cursor:n},r=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;i!==P&&i!==e.hoverPoint&&i.onMouseOver(t)};Vt(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Vt(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(s),H)&&t[e].on("touchstart",r)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,s=[].concat(n?e.areaPath:e.graphPath),r=s.length,o=e.chart,a=o.pointer,l=o.renderer,h=o.options.tooltip.snap,c=e.tracker,u=i.cursor,d=u&&{cursor:u},u=e.singlePoints,p=function(){o.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(Dt?1e-4:.002)+")";if(r&&!n)for(t=r+1;t--;)"M"===s[t]&&s.splice(t+1,0,s[t+1]-h,s[t+2],"L"),(t&&"M"===s[t]||t===r)&&s.splice(t,0,"L",s[t-2]+h,s[t-1]);for(t=0;t<u.length;t++)r=u[t],s.push("M",r.plotX-h,r.plotY,"L",r.plotX+h,r.plotY);c?c.attr({d:s}):(e.tracker=l.path(s).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:n?f:Ht,"stroke-width":i.lineWidth+(n?0:2*h),zIndex:2}).add(e.group),Vt([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(d),H&&t.on("touchstart",p)}))}},Ft.column&&(ke.prototype.drawTracker=zt.drawTrackerPoint),Ft.pie&&(Ft.pie.prototype.drawTracker=zt.drawTrackerPoint),Ft.scatter&&(Ce.prototype.drawTracker=zt.drawTrackerPoint),Bt(be.prototype,{setItemEvents:function(t,e,i,n,s){var r=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(r.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:s),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Jt(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=p("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Qt(t.checkbox,"click",function(e){Jt(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),L.legend.itemStyle.cursor="pointer",Bt(Wt.prototype,{showResetZoom:function(){var t=this,e=L.lang,i=t.options.chart.resetZoomButton,n=i.theme,s=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,s&&s.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var t=this;Jt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,s=this.pointer,r=!1;!t||t.resetSelection?Vt(this.axes,function(t){e=t.zoom()}):Vt(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(s[n?"zoomX":"zoomY"]||s[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&n(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(Nt(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,s=n.hoverPoints;s&&Vt(s,function(t){t.setState()}),Vt("xy"===e?[1,0]:[1],function(e){var s=t[e?"chartX":"chartY"],r=n[e?"xAxis":"yAxis"][0],o=n[e?"mouseDownX":"mouseDownY"],a=(r.pointRange||0)/2,l=r.getExtremes(),h=r.toValue(o-s,!0)+a,a=r.toValue(o+n[e?"plotWidth":"plotHeight"]-s,!0)-a,o=o>s;r.series.length&&(o||h>ut(l.dataMin,l.min))&&(!o||a<ct(l.dataMax,l.max))&&(r.setExtremes(h,a,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=s}),i&&n.redraw(!1),d(n.container,{cursor:"move"})}}),Bt(xe.prototype,{select:function(t,e){var i=this,n=i.series,s=n.chart,t=Nt(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[Ut(i,n.data)]=i.options,i.setState(t&&"select"),e||Vt(s.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[Ut(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this.series,n=i.chart,s=n.tooltip,r=n.hoverPoint;n.hoverSeries!==i&&i.onMouseOver(),r&&r!==this&&r.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),s&&(!s.shared||i.noSharedTooltip)&&s.refresh(this,t),this.setState("hover"),!e)&&(n.hoverPoint=this)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&Ut(this,e)!==-1||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,i=t(this.series.options.point,this.options).events;this.events=i;for(e in i)Qt(this,e,i[e]);this.hasImportedEvents=!0}},setState:function(e,i){var n,s=lt(this.plotX),r=this.plotY,o=this.series,a=o.options.states,l=ne[o.type].marker&&o.options.marker,h=l&&!l.enabled,c=l&&l.states[e],u=c&&c.enabled===!1,d=o.stateMarkerGraphic,p=this.marker||{},f=o.chart,g=o.halo,e=e||"";n=this.pointAttr[e]||o.pointAttr[e],e===this.state&&!i||this.selected&&"select"!==e||a[e]&&a[e].enabled===!1||e&&(u||h&&c.enabled===!1)||e&&p.states&&p.states[e]&&p.states[e].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(t(n,l?{x:s-l,y:r-l,width:2*l,height:2*l}:{})),d&&d.hide()):(e&&c&&(l=c.radius,p=p.symbol||o.symbol,d&&d.currentSymbol!==p&&(d=d.destroy()),d?d[i?"animate":"attr"]({x:s-l,y:r-l}):p&&(o.stateMarkerGraphic=d=f.renderer.symbol(p,s-l,r-l,2*l,2*l).attr(n).add(o.markerGroup),d.currentSymbol=p)),d&&(d[e&&f.isInsidePlot(s,r,f.inverted)?"show":"hide"](),d.element.point=this)),(s=a[e]&&a[e].halo)&&s.size?(g||(o.halo=g=f.renderer.path().add(f.seriesGroup)),g.attr(Bt({fill:ae(this.color||o.color).setOpacity(s.opacity).get()},s.attributes))[i?"animate":"attr"]({d:this.haloPath(s.size)})):g&&g.attr({d:[]}),this.state=e)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),s=i.inverted;return i.renderer.symbols.circle(n.translateX+(s?e.yAxis.len-this.plotY:this.plotX)-t,n.translateY+(s?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),Bt(Se.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Jt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&Jt(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(t){var e=this.options,i=this.graph,n=e.states,s=e.lineWidth,e=0,t=t||"";if(this.state!==t&&(this.state=t,!(n[t]&&n[t].enabled===!1)&&(t&&(s=n[t].lineWidth||s+(n[t].lineWidthPlus||0)),i&&!i.dashstyle)))for(t={"stroke-width":s},i.attr(t);this["zoneGraph"+e];)this["zoneGraph"+e].attr(t),e+=1},setVisible:function(t,e){var i,n=this,s=n.chart,r=n.legendItem,o=s.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.userOptions.visible=t===P?!a:t)?"show":"hide",Vt(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),s.hoverSeries!==n&&(s.hoverPoint&&s.hoverPoint.series)!==n||n.onMouseOut(),r&&s.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Vt(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Vt(n.linkedSeries,function(e){e.setVisible(t,!1)}),o&&(s.isDirtyBox=!0),e!==!1&&s.redraw(),Jt(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===P?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Jt(this,t?"select":"unselect")},drawTracker:zt.drawTrackerGraph}),Bt(nt,{Color:ae,Point:xe,Tick:A,Renderer:R,SVGElement:M,SVGRenderer:le,arrayMin:x,arrayMax:S,charts:It,dateFormat:O,error:D,format:v,pathAnim:F,getOptions:function(){return L},hasBidiBug:Tt,isTouchDevice:kt,setOptions:function(e){return L=t(!0,L,e),E(),L},addEvent:Qt,removeEvent:Zt,createElement:p,discardElement:C,css:d,each:Vt,map:Kt,merge:t,splat:u,extendClass:f,pInt:e,svg:Dt,canvas:_t,vml:!Dt&&!_t,product:"Highcharts",version:"4.1.9"})}(),!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.editableform.defaults,i),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value)},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.input.prerender(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width(),t&&this.$loading.width(t)),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),t!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var i,n=this.$form.find(".form-group"),s=this.$form.find(".editable-error-block");if(e===!1)n.removeClass(t.fn.editableform.errorGroupClass),s.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){i=e.split("\n");for(var r=0;r<i.length;r++)i[r]=t("<div>").text(i[r]).html();e=i.join("<br>")}n.addClass(t.fn.editableform.errorGroupClass),s.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var i,n=this.input.input2value();if(i=this.validate(n))return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(n)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var s=this.input.value2submit(n);this.isSaving=!0,t.when(this.save(s)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,n):null;return e===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(n=e.newValue),this.error(!1),this.value=n,void this.$div.triggerHandler("save",{newValue:n,submitValue:s,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,n):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var i,n="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,s=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==n&&void 0!==n));return s?(this.showLoading(),i={name:this.options.name||"",value:e,pk:n},"function"==typeof this.options.params?i=this.options.params.call(this.options.scope,i):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(i,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,i):t.ajax(t.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(i){var n=arguments;return this.each(function(){var s=t(this),r=s.data("editableform"),o="object"==typeof i&&i;r||s.data("editableform",r=new e(this,o)),"string"==typeof i&&r[i].apply(r,Array.prototype.slice.call(n,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="form-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass="editable-error"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(i){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,i,n){var s,r,o={};if(!t.isArray(i)||!i.length)return o;for(var a=0;a<i.length;a++)s=i[a],e.hasOwnProperty(s)&&(o[s]=e[s]),n!==!0&&(r=s.toLowerCase(),e.hasOwnProperty(r)&&(o[s]=e[r]));return o},getConfigData:function(e){var i={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(i[t]=e)}),i},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,i,n){if(!i||null===e)return[];if("function"!=typeof n){var s=n||"value";n=function(t){return t[s]}}var r=t.isArray(e),o=[],a=this;return t.each(i,function(i,s){if(s.children)o=o.concat(a.itemsByValue(e,s.children,n));else if(r)t.grep(e,function(t){return t==(s&&"object"==typeof s?n(s):s)}).length&&o.push(s);else{var l=s&&"object"==typeof s?n(s):s;e==l&&o.push(s)}}),o},createInput:function(e){var i,n,s,r=e.type;return"date"===r&&("inline"===e.mode?t.fn.editabletypes.datefield?r="datefield":t.fn.editabletypes.dateuifield&&(r="dateuifield"):t.fn.editabletypes.date?r="date":t.fn.editabletypes.dateui&&(r="dateui"),"date"!==r||t.fn.editabletypes.date||(r="combodate")),"datetime"===r&&"inline"===e.mode&&(r="datetimefield"),"wysihtml5"!==r||t.fn.editabletypes[r]||(r="textarea"),"function"==typeof t.fn.editabletypes[r]?(i=t.fn.editabletypes[r],n=this.sliceObj(e,this.objectKeys(i.defaults)),s=new i(n)):(t.error("Unknown type: "+r),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,i="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var s=0;s<n.length;s++)if("string"==typeof e[n[s]+i])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},i=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",init:function(i,n){this.$element=t(i),this.options=t.extend({},t.fn.editableContainer.defaults,n),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(i){var n,s=t(i.target),r=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,i.target)&&!s.is(document)){for(n=0;n<r.length;n++)if(s.is(r[n])||s.parents(r[n]).length)return;e.prototype.closeOthers(i.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");var e=t.fn[this.containerName].defaults;for(var i in this.options)i in e?this.containerOptions[i]=this.options[i]:this.formOptions[i]=this.options[i]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),e!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(i,n){if(n!==e&&!t(n).find(e).length){var s=t(n),r=s.data("editableContainer");r&&("cancel"===r.options.onblur?s.data("editableContainer").hide("onblur"):"submit"===r.options.onblur&&s.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(n){var s=arguments;return this.each(function(){var r=t(this),o="editableContainer",a=r.data(o),l="object"==typeof n&&n,h="inline"===l.mode?i:e;a||r.data(o,a=new h(this,l)),"string"==typeof n&&a[n].apply(a,Array.prototype.slice.call(s,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=i,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,i,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,i=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),i=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){
if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!i;break;default:e=!1}t.when(!e||this.render()).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var i=t(e.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(e))},this))},render:function(t){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,i){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,i){this.option(t.trim(e),i)},this)):(this.options[e]=i,"disabled"===e?i?this.disable():this.enable():("value"===e&&this.setValue(i),this.container&&this.container.option(e,i),void(this.input.option&&this.input.option(e,i))))},handleEmpty:function(e){this.options.display!==!1&&(this.isEmpty=void 0!==e?e:""===t.trim(this.$element.html())||""===t.trim(this.$element.text())&&(!this.$element.height()||!this.$element.width()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;i=i||"function"==typeof this.options.url,i=i||this.options.display===!1,i=i||void 0!==e.response,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var n=this.$element,s=n.css("background-color");n.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===s&&(s=""),n.css("background-color",s),n.addClass("editable-bg-transition"),setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,i,n){this.value=i?this.input.str2value(e):e,this.container&&this.container.option("value",this.value),t.when(this.render(n)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(i){var n={},s=arguments,r="editable";switch(i){case"validate":return this.each(function(){var e,i=t(this),s=i.data(r);s&&(e=s.validate())&&(n[s.options.name]=e)}),n;case"getValue":return 2===arguments.length&&arguments[1]===!0?n=this.eq(0).data(r).value:this.each(function(){var e=t(this),i=e.data(r);i&&void 0!==i.value&&null!==i.value&&(n[i.options.name]=i.input.value2submit(i.value))}),n;case"submit":var o,a=arguments[1]||{},l=this,h=this.editable("validate");return t.isEmptyObject(h)?(o=this.editable("getValue"),a.data&&t.extend(o,a.data),t.ajax(t.extend({url:a.url,data:o,type:"POST"},a.ajaxOptions)).success(function(t){"function"==typeof a.success&&a.success.call(l,t,a)}).error(function(){"function"==typeof a.error&&a.error.apply(l,arguments)})):"function"==typeof a.error&&a.error.call(l,h),this}return this.each(function(){var n=t(this),o=n.data(r),a="object"==typeof i&&i;return a&&a.selector?void(o=new e(this,a)):(o||n.data(r,o=new e(this,a)),void("string"==typeof i&&o[i].apply(o,Array.prototype.slice.call(s,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,i,n){this.type=e,this.options=t.extend({},n,i)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,i){t(i).text(t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:"input-medium",scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,i,n,s){var r=t.Deferred(),o=function(){"function"==typeof n?n.call(i,e,this.sourceData,s):this.value2htmlFinal(e,i),r.resolve()};return null===e?o.call(this):this.onSourceReady(o,function(){r.resolve()}),r.promise()},onSourceReady:function(e,i){var n;if(t.isFunction(this.options.source)?(n=this.options.source.call(this.options.scope),this.sourceData=null):n=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{n=t.fn.editableutils.tryParseJson(n,!1)}catch(s){return void i.call(this)}if("string"==typeof n){if(this.options.sourceCache){var r,o=n;if(t(document).data(o)||t(document).data(o,{}),r=t(document).data(o),r.loading===!1&&r.sourceData)return this.sourceData=r.sourceData,this.doPrepend(),void e.call(this);if(r.loading===!0)return r.callbacks.push(t.proxy(function(){this.sourceData=r.sourceData,this.doPrepend(),e.call(this)},this)),void r.err_callbacks.push(t.proxy(i,this));r.loading=!0,r.callbacks=[],r.err_callbacks=[]}t.ajax({url:n,type:"get",cache:!1,dataType:"json",success:t.proxy(function(n){r&&(r.loading=!1),this.sourceData=this.makeArray(n),t.isArray(this.sourceData)?(r&&(r.sourceData=this.sourceData,t.each(r.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(i.call(this),r&&t.each(r.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){i.call(this),r&&(r.loading=!1,t.each(r.err_callbacks,function(){this.call()}))},this)})}else this.sourceData=this.makeArray(n),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):i.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var i,n,s,r,o=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){r=function(t,e){return n={value:t,text:e},!(i++>=2)&&void 0};for(var a=0;a<e.length;a++)s=e[a],"object"==typeof s?(i=0,t.each(s,r),1===i?o.push(n):i>1&&(s.children&&(s.children=this.makeArray(s.children)),o.push(s))):o.push({value:s,text:s})}else t.each(e,function(t,e){o.push({value:t,text:e})});return o},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(i,n){var s;if(t.isArray(n))for(var r=0;r<n.length;r++)s={},n[r].children?(s.label=n[r].text,i.append(e(t("<optgroup>",s),n[r].children))):(s.value=n[r].value,n[r].disabled&&(s.disabled=!0),i.append(t("<option>",s).text(n[r].text)));return i};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,i){var n="",s=t.fn.editableutils.itemsByValue(e,this.sourceData);s.length&&(n=s[0].text),t(i).text(n)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<select class="form-control"></select>'}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[i].value})).append(t("<span>").text(" "+this.sourceData[i].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var i,n=null;return"string"==typeof e&&e.length?(i=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),n=e.split(i)):n=t.isArray(e)?e:[e],n},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(i,n){var s=t(n);t.each(e,function(t,e){s.val()==e&&s.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(i,n){e.push(t(n).val())}),e},value2htmlFinal:function(e,i){var n=[],s=t.fn.editableutils.itemsByValue(e,this.sourceData);s.length?(t.each(s,function(e,i){n.push(t.fn.editableutils.escape(i.text))}),t(i).html(n.join("<br>"))):t(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,i){e?t(i).text("[hidden]"):t(i).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"form-control input-small",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"form-control input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(i){if(this.init("select2",i,e.defaults),i.select2=i.select2||{},this.sourceData=null,i.placeholder&&(i.select2.placeholder=i.placeholder),!i.select2.tags&&i.source){var n=i.source;t.isFunction(i.source)&&(n=i.source.call(i.scope)),"string"==typeof n?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(t){return{query:t}}),i.select2.ajax.results||(i.select2.ajax.results=function(t){return{results:t}}),i.select2.ajax.url=n):(this.sourceData=this.convertSource(n),i.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,i.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var s=this.idFunc||"id";this.idFunc=function(t){return t[s]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.$input.select2(this.options.select2),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(e,i){var n,s="",r=this;this.options.select2.tags?n=e:this.sourceData&&(n=t.fn.editableutils.itemsByValue(e,this.sourceData,this.idFunc)),t.isArray(n)?(s=[],t.each(n,function(t,e){s.push(e&&"object"==typeof e?r.formatSelection(e):e)})):n&&(s=r.formatSelection(n)),s=t.isArray(s)?s.join(this.options.viewseparator):s,t(i).text(s)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(this.$input.val(e).trigger("change",!0),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,n=this.options.select2.formatSelection;if(!i&&!n){var s={id:e,text:t(this.options.scope).text()};this.$input.select2("data",s)}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,i){if("string"!=typeof e||!this.isMultiple)return e;i=i||this.options.select2.separator||t.fn.select2.defaults.separator;var n,s,r;if(null===e||e.length<1)return null;for(n=e.split(i),s=0,r=n.length;r>s;s+=1)n[s]=t.trim(n[s]);return n},autosubmit:function(){this.$input.on("change",function(e,i){i||t(this).closest("form").submit()})},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var i=0;i<e.length;i++)void 0!==e[i].value&&(e[i].id=e[i].value,delete e[i].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,i){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,i,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(){this.$element.val(this.getValue())},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,i){i=i[0];var n=new RegExp(i+"+"),s=i.length>1?i.substring(1,2):i;e=e.replace(n,"{"+s+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,i){i=i[0];var n=i.length>1?i.substring(1,2):i;e=e.replace("{"+n+"}",'<select class="form-control '+t+'"></select>')}),e},initCombos:function(){var e=this;t.each(this.map,function(t){var i,n,s=e.$widget.find("."+t);s.length&&(e["$"+t]=s,i="fill"+t.charAt(0).toUpperCase()+t.slice(1),n=e[i](),e["$"+t].html(e.renderItems(n)))})},initItems:function(t){var e,i=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var n="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},renderItems:function(t){for(var e=[],i=0;i<t.length;i++)e.push('<option value="'+t[i][0]+'">'+t[i][1]+"</option>");return e.join("\n")},fillDay:function(){var t,e,i=this.initItems("d"),n=-1!==this.options.template.indexOf("DD");for(e=1;31>=e;e++)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.initItems("M"),n=-1!==this.options.template.indexOf("MMMM"),s=-1!==this.options.template.indexOf("MMM"),r=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=n?moment().date(1).month(e).format("MMMM"):s?moment().date(1).month(e).format("MMM"):r?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],n=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=n?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return i=this.initItems("y").concat(i)},fillHour:function(){var t,e,i=this.initItems("h"),n=-1!==this.options.template.indexOf("h"),s=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),r=n?1:0,o=n?12:23;for(e=r;o>=e;e++)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.initItems("m"),n=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.initItems("s"),n=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a"),e=(-1!==this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]);return e},getValue:function(e){var i,n={},s=this,r=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return n[t]=s["$"+t]?parseInt(s["$"+t].val(),10):e,isNaN(n[t])?(r=!0,!1):void 0}}),r?"":(this.$ampm&&(n.hour=12===n.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?n.hour:n.hour+12),i=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]),this.highlight(i),e=void 0===e?this.options.format:e,null===e?i.isValid()?i:null:i.isValid()?i.format(e):"")},setValue:function(e){function i(e,i){var n={};return e.children("option").each(function(e,s){var r,o=t(s).attr("value");""!==o&&(r=Math.abs(o-i),("undefined"==typeof n.distance||r<n.distance)&&(n={value:o,distance:r}))}),n.value}if(e){var n="string"==typeof e?moment(e,this.options.format):moment(e),s=this,r={};n.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(r[t]=n[e[1]]())}),this.$ampm&&(r.hour>=12?(r.ampm="pm",r.hour>12&&(r.hour-=12)):(r.ampm="am",0===r.hour&&(r.hour=12))),t.each(r,function(t,e){s["$"+t]&&("minute"===t&&s.options.minuteStep>1&&s.options.roundTime&&(e=i(s["$"+t],e)),"second"===t&&s.options.secondStep>1&&s.options.roundTime&&(e=i(s["$"+t],e)),s["$"+t].val(e))}),this.$element.val(n.format(this.options.format)))}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(i){var n,s=Array.apply(null,arguments);return s.shift(),"getValue"===i&&this.length&&(n=this.eq(0).data("combodate"))?n.getValue.apply(n,s):this.each(function(){var n=t(this),r=n.data("combodate"),o="object"==typeof i&&i;r||n.data("combodate",r=new e(this,o)),"string"==typeof i&&"function"==typeof r[i]&&r[i].apply(r,s)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:"has-error",roundTime:!0}}(window.jQuery),function(t){"use strict";var e=function(i){this.init("combodate",i,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),i.combodate=t.fn.editableutils.tryParseJson(i.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate)},value2html:function(e,i){var n=e?e.format(this.options.viewformat):"";t(i).text(n)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text" class="form-control">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".editable-error-block").addClass("help-block")}}),t.fn.editableform.buttons='<button type="submit" class="btn blue editable-submit"><i class="fa fa-check"></i></button><button type="button" class="btn default editable-cancel"><i class="fa fa-times"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null}(window.jQuery),function(t){"use strict";t.fn.popover.defaults=t.fn.popover.Constructor.DEFAULTS,t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:t.fn.popover&&t(t.fn.popover.defaults.template).find("p").length?".popover-content p":".popover-content",initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:t.fn.popover.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){!function(){var e,i,n,s,r,o,a,l,h,c,u=this.tip();switch(r="function"==typeof this.options.placement?this.options.placement.call(this,u[0],this.$element[0]):this.options.placement,e=/in/.test(r),u.removeClass("top right bottom left").css({top:0,left:0,display:"block"}),i=this.getPosition(e),n=u[0].offsetWidth,s=u[0].offsetHeight,r=e?r.split(" ")[1]:r,l={top:i.top+i.height,left:i.left+i.width/2-n/2},a={top:i.top-s,left:i.left+i.width/2-n/2},h={top:i.top+i.height/2-s/2,left:i.left-n},c={top:i.top+i.height/2-s/2,left:i.left+i.width},r){case"bottom":l.top+s>t(window).scrollTop()+t(window).height()&&(r=a.top>t(window).scrollTop()?"top":c.left+n<t(window).scrollLeft()+t(window).width()?"right":h.left>t(window).scrollLeft()?"left":"right");break;case"top":a.top<t(window).scrollTop()&&(r=l.top+s<t(window).scrollTop()+t(window).height()?"bottom":c.left+n<t(window).scrollLeft()+t(window).width()?"right":h.left>t(window).scrollLeft()?"left":"right");break;case"left":h.left<t(window).scrollLeft()&&(r=c.left+n<t(window).scrollLeft()+t(window).width()?"right":a.top>t(window).scrollTop()?"top":a.top>t(window).scrollTop()?"bottom":"right");break;case"right":c.left+n>t(window).scrollLeft()+t(window).width()&&(h.left>t(window).scrollLeft()?r="left":a.top>t(window).scrollTop()?r="top":a.top>t(window).scrollTop()&&(r="bottom"))}switch(r){case"bottom":o=l;break;case"top":o=a;break;case"left":o=h;break;case"right":o=c}u.offset(o).addClass(r).addClass("in")}.call(this.container())}})}(window.jQuery),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function i(e,i){var n,s=t(e).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var a in s)i.test(a)&&(n=a.replace(o,function(t,e){return e.toLowerCase()}),r[n]=s[a]);return r}function n(e){var i={};if(c[e]||(e=e.split("-")[0],c[e])){var n=c[e];return t.each(h,function(t,e){e in n&&(i[e]=n[e])}),i}}var s=function(e,i){this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(u.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("fa-angle-left fa-angle-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};s.prototype={constructor:s,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),n=i.language;switch(c[n]||(n=n.split("-")[0],c[n]||(n=l.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":
i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var s=u.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate=u.parseDate(i.startDate,s,i.language)),1/0!==i.endDate&&(i.endDate=u.parseDate(i.endDate,s,i.language)),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n=0;n<t.length;n++)e=t[n][0],i=t[n][1],e.on(i)},_unapplyEvents:function(t){for(var e,i,n=0;n<t.length;n++)e=t[n][0],i=t[n][1],e.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.date,s=new Date(n.getTime()+6e4*n.getTimezoneOffset());this.element.trigger({type:e,date:s,format:t.proxy(function(t){var e=t||this.o.format;return u.formatDate(n,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),u.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.parent().offset():this.element.offset(),n=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+n,left:i.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=u.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+c[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+c[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r=this.date.valueOf(),o=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()==n&&e.getUTCMonth()<s?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()==n&&e.getUTCMonth()>s)&&i.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==o.getFullYear()&&e.getUTCMonth()==o.getMonth()&&e.getUTCDate()==o.getDate()&&i.push("today"),r&&e.valueOf()==r&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var i,n=new Date(this.viewDate),s=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,h=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[r]+" "+s),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=e(s,r-1,28,0,0,0,0),p=u.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(p),d.setUTCDate(p-(d.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(d);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var g,m=[];d.valueOf()<f;){if(d.getUTCDay()==this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+d+864e5*((this.o.weekStart-d.getUTCDay()-7)%7)),y=new Date(+v+864e5*((11-v.getUTCDay())%7)),b=new Date(+(b=e(y.getUTCFullYear(),0,1))+864e5*((11-b.getUTCDay())%7)),w=(y-b)/864e5/7+1;m.push('<td class="cw">'+w+"</td>")}g=this.getClassNames(d),g.push("day");var x=this.o.beforeShowDay(d);void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&g.push("disabled"),x.classes&&(g=g.concat(x.classes.split(/\s+/))),x.tooltip&&(i=x.tooltip),g=t.unique(g),m.push('<td class="'+g.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&m.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var S=this.date&&this.date.getUTCFullYear(),k=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");S&&S==s&&k.eq(this.date.getUTCMonth()).addClass("active"),(o>s||s>l)&&k.addClass("disabled"),s==o&&k.slice(0,a).addClass("disabled"),s==l&&k.slice(h+1).addClass("disabled"),m="",s=10*parseInt(s/10,10);var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var D=-1;11>D;D++)m+='<span class="year'+(-1==D?" old":10==D?" new":"")+(S==s?" active":"")+(o>s||s>l?" disabled":"")+'">'+s+"</span>",s+=1;C.html(m)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var n=t(i.target).closest("span, td, th");if(1==n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=u.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s)}this.fill();break;case"today":var r=new Date;r=e(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var o="linked"==this.o.todayBtn?null:"view";this._setDate(r,o);break;case"clear":var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){if(this.viewDate.setUTCDate(1),n.is(".month")){var l=1,h=n.parent().find("span").index(n),c=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(h),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(c,h,l,0,0,0,0))}else{var c=parseInt(n.text(),10)||0,l=1,h=0;this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(c,h,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var l=parseInt(n.text(),10)||1,c=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth();n.is(".old")?0===h?(h=11,c-=1):h-=1:n.is(".new")&&(11==h?(h=0,c+=1):h+=1),this._setDate(e(c,h,l,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var i,n,s=new Date(t.valueOf()),r=s.getUTCDate(),o=s.getUTCMonth(),a=Math.abs(e);if(e=e>0?1:-1,1==a)n=-1==e?function(){return s.getUTCMonth()==o}:function(){return s.getUTCMonth()!=i},i=o+e,s.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;a>l;l++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(r),n=function(){return i!=s.getUTCMonth()}}for(;n();)s.setUTCDate(--r),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,i,n,s=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),s=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),s=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(s){this._trigger("changeDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+u.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var r=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){var i=t(e.target).data("datepicker"),n=i.getUTCDate(),s=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!=s){if(n<this.dates[s])for(;s>=0&&n<this.dates[s];)this.pickers[s--].setUTCDate(n);else if(n>this.dates[s])for(;r>s&&n>this.dates[s];)this.pickers[s++].setUTCDate(n);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var o=t.fn.datepicker,a=t.fn.datepicker=function(e){var o=Array.apply(null,arguments);o.shift();var a;return this.each(function(){var h=t(this),c=h.data("datepicker"),u="object"==typeof e&&e;if(!c){var d=i(this,"date"),p=t.extend({},l,d,u),f=n(p.language),g=t.extend({},l,f,d,u);if(h.is(".input-daterange")||g.inputs){var m={inputs:g.inputs||h.find("input").toArray()};h.data("datepicker",c=new r(this,t.extend(g,m)))}else h.data("datepicker",c=new s(this,g))}return("string"!=typeof e||"function"!=typeof c[e]||(a=c[e].apply(c,o),void 0===a))&&void 0}),void 0!==a?a:this},l=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},h=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=s;var c=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},u={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,u.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,n,r){if(i instanceof Date)return i;if("string"==typeof n&&(n=u.parseFormat(n)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var o,a,l=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(var d=0;d<h.length;d++)switch(o=l.exec(h[d]),a=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+a);break;case"m":i=s.prototype.moveMonth.call(s.prototype,i,a);break;case"w":i.setUTCDate(i.getUTCDate()+7*a);break;case"y":i=s.prototype.moveYear.call(s.prototype,i,a)}return e(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var p,f,o,h=i&&i.match(this.nonpunctuation)||[],i=new Date,g={},m=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,i=e(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var y=n.parts.slice();if(h.length!=y.length&&(y=t(y).filter(function(e,i){return-1!==t.inArray(i,m)}).toArray()),h.length==y.length){for(var d=0,b=y.length;b>d;d++){if(p=parseInt(h[d],10),o=y[d],isNaN(p))switch(o){case"MM":f=t(c[r].months).filter(function(){var t=this.slice(0,h[d].length),e=h[d].slice(0,t.length);return t==e}),p=t.inArray(f[0],c[r].months)+1;break;case"M":f=t(c[r].monthsShort).filter(function(){var t=this.slice(0,h[d].length),e=h[d].slice(0,t.length);return t==e}),p=t.inArray(f[0],c[r].monthsShort)+1}g[o]=p}for(var w,d=0;d<m.length;d++)w=m[d],w in g&&!isNaN(g[w])&&v[w](i,g[w])}return i},formatDate:function(e,i,n){"string"==typeof i&&(i=u.parseFormat(i));var s={d:e.getUTCDate(),D:c[n].daysShort[e.getUTCDay()],DD:c[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:c[n].monthsShort[e.getUTCMonth()],MM:c[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;for(var e=[],r=t.extend([],i.separators),o=0,a=i.parts.length;a>=o;o++)r.length&&e.push(r.shift()),e.push(s[i.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="fa fa-angle-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="fa fa-angle-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};u.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+u.headTemplate+"<tbody></tbody>"+u.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=u,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=o,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),a.call(i,"show"))}),t(function(){a.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(t){"use strict";t.fn.bdatepicker=t.fn.datepicker.noConflict(),t.fn.datepicker||(t.fn.datepicker=t.fn.bdatepicker);var e=function(t){this.init("date",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datepicker=t.fn.editableutils.tryParseJson(e.datepicker,!0),this.options.datepicker=t.extend({},i.datepicker,e.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=t.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var n=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";e.superclass.value2html(n,i)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!t(e.currentTarget).is(".old")&&!t(e.currentTarget).is(".new")){var i=t(this).closest("form");setTimeout(function(){i.submit()},200)}})},parseDate:function(t,e){var i,n=null;return t&&(n=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(i=this.dpg.formatDate(n,e,this.options.datepicker.language),t!==i&&(n=null))),n}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:'clear <i class="icon-remove fa fa-times" style="font-size:12px"></i>'}),t.fn.editabletypes.date=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-group input-group-fixed date"><input type="text" readonly class="form-control input-medium pull-left"/><span class="input-group-btn pull-left"><button class="btn default" type="button"><i class="fa fa-calendar"></i></button></span></div>',inputclass:"form-control input-medium",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},i.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var e=t(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var n=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return i?void e.superclass.value2html(n,i):n},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var e=t(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var i,n=null;return t&&(n=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(i=this.dpg.formatDate(n,e,this.options.datetimepicker.language,this.options.formatType),t!==i&&(n=null))),n}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:'clear <i class="icon-remove fa fa-times" style="font-size:12px"></i>'}),t.fn.editabletypes.datetime=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-group input-group-fixed date"><input type="text" readonly class="form-control input-medium pull-left"/><span class="input-group-btn pull-left"><button class="btn date-set default" type="button"><i class="fa fa-calendar"></i></button></span></div>',inputclass:"form-control input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery),function(t){"use strict";var e=function(i){this.init("typeahead",i,e.defaults),this.options.typeahead=t.extend({},e.defaults.typeahead,{matcher:this.matcher,sorter:this.sorter,highlighter:this.highlighter,updater:this.updater},i.typeahead)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input=this.$tpl.is("input")?this.$tpl:this.$tpl.find('input[type="text"]'),this.options.typeahead.source=this.sourceData,this.$input.typeahead(this.options.typeahead);var e=this.$input.data("typeahead");e.render=t.proxy(this.typeaheadRender,e),e.select=t.proxy(this.typeaheadSelect,e),e.move=t.proxy(this.typeaheadMove,e),this.renderClear(),this.setClass(),this.setAttr("placeholder")},value2htmlFinal:function(e,i){if(this.getIsObjects()){var n=t.fn.editableutils.itemsByValue(e,this.sourceData);t(i).text(n.length?n[0].text:"")}else t(i).text(e)},html2value:function(t){return t?t:null},value2input:function(e){if(this.getIsObjects()){var i=t.fn.editableutils.itemsByValue(e,this.sourceData);this.$input.data("value",e).val(i.length?i[0].text:"")}else this.$input.val(e)},input2value:function(){if(this.getIsObjects()){var e=this.$input.data("value"),i=t.fn.editableutils.itemsByValue(e,this.sourceData);return i.length&&i[0].text.toLowerCase()===this.$input.val().toLowerCase()?e:null}return this.$input.val()},getIsObjects:function(){if(void 0===this.isObjects){this.isObjects=!1;for(var t=0;t<this.sourceData.length;t++)if(this.sourceData[t].value!==this.sourceData[t].text){this.isObjects=!0;break}}return this.isObjects},activate:t.fn.editabletypes.text.prototype.activate,renderClear:t.fn.editabletypes.text.prototype.renderClear,postrender:t.fn.editabletypes.text.prototype.postrender,toggleClear:t.fn.editabletypes.text.prototype.toggleClear,clear:function(){t.fn.editabletypes.text.prototype.clear.call(this),this.$input.data("value","")},matcher:function(e){return t.fn.typeahead.Constructor.prototype.matcher.call(this,e.text)},sorter:function(t){for(var e,i,n=[],s=[],r=[];e=t.shift();)i=e.text,i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?s.push(e):r.push(e):n.push(e);return n.concat(s,r)},highlighter:function(e){return t.fn.typeahead.Constructor.prototype.highlighter.call(this,e.text)},updater:function(t){return this.$element.data("value",t.value),t.text},typeaheadRender:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).data("item",n),e.find("a").html(i.highlighter(n)),e[0]}),this.options.autoSelect&&e.first().addClass("active"),this.$menu.html(e),this},typeaheadSelect:function(){var t=this.$menu.find(".active").data("item");return(this.options.autoSelect||t)&&this.$element.val(this.updater(t)).change(),this.hide()},typeaheadMove:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:if(!this.$menu.find(".active").length)return;t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<input type="text">',typeahead:null,clear:!0}),t.fn.editabletypes.typeahead=e}(window.jQuery),!function(t){"use strict";t.event.special.destroyed||(t.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}),t.fn.extend({maxlength:function(e,i){function n(t){var i=t.val();i=e.twoCharLinebreak?i.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n"):i.replace(new RegExp("\r?\n","g"),"\n");var n=0;return n=e.utf8?r(i):i.length}function s(t,i){var n=t.val(),s=0;e.twoCharLinebreak&&(n=n.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n"),"\n"===n.substr(n.length-1)&&n.length%2===1&&(s=1)),t.val(n.substr(0,i-s))}function r(t){for(var e=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e++:e+=n>127&&2048>n?2:3}return e}function o(t,i,s){var r=!0;return!e.alwaysShow&&s-n(t)>i&&(r=!1),r}function a(t,e){var i=e-n(t);return i}function l(t,e){e.css({display:"block"}),t.trigger("maxlength.shown")}function h(t,e){e.css({display:"none"}),t.trigger("maxlength.hidden")}function c(t,i,n){var s="";return e.message?s="function"==typeof e.message?e.message(t,i):e.message.replace("%charsTyped%",n).replace("%charsRemaining%",i-n).replace("%charsTotal%",i):(e.preText&&(s+=e.preText),s+=e.showCharsTyped?n:i-n,e.showMaxLength&&(s+=e.separator+i),e.postText&&(s+=e.postText)),s;
}function u(t,i,n,s){s&&(s.html(c(i.val(),n,n-t)),t>0?o(i,e.threshold,n)?l(i,s.removeClass(e.limitReachedClass).addClass(e.warningClass)):h(i,s):l(i,s.removeClass(e.warningClass).addClass(e.limitReachedClass))),e.customMaxAttribute&&(0>t?i.addClass("overmax"):i.removeClass("overmax"))}function d(e){var i=e[0];return t.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():{width:i.offsetWidth,height:i.offsetHeight},e.offset())}function p(i,n){var s=d(i);if("function"===t.type(e.placement))return void e.placement(i,n,s);if(t.isPlainObject(e.placement))return void f(e.placement,n);var r=i.outerWidth(),o=n.outerWidth(),a=n.width(),l=n.height();switch(e.appendToParent&&(s.top-=i.parent().offset().top,s.left-=i.parent().offset().left),e.placement){case"bottom":n.css({top:s.top+s.height,left:s.left+s.width/2-a/2});break;case"top":n.css({top:s.top-l,left:s.left+s.width/2-a/2});break;case"left":n.css({top:s.top+s.height/2-l/2,left:s.left-a});break;case"right":n.css({top:s.top+s.height/2-l/2,left:s.left+s.width});break;case"bottom-right":n.css({top:s.top+s.height,left:s.left+s.width});break;case"top-right":n.css({top:s.top-l,left:s.left+r});break;case"top-left":n.css({top:s.top-l,left:s.left-o});break;case"bottom-left":n.css({top:s.top+i.outerHeight(),left:s.left-o});break;case"centered-right":n.css({top:s.top+l/2,left:s.left+r-o-3});break;case"bottom-right-inside":n.css({top:s.top+s.height,left:s.left+s.width-o});break;case"top-right-inside":n.css({top:s.top-l,left:s.left+r-o});break;case"top-left-inside":n.css({top:s.top-l,left:s.left});break;case"bottom-left-inside":n.css({top:s.top+i.outerHeight(),left:s.left})}}function f(i,n){if(i&&n){var s=["top","bottom","left","right","position"],r={};t.each(s,function(t,i){var n=e.placement[i];"undefined"!=typeof n&&(r[i]=n)}),n.css(r)}}function g(){return"bottom-right-inside"===e.placement||"top-right-inside"===e.placement||"function"==typeof e.placement||e.message&&"function"==typeof e.message}function m(t){var i=t.attr("maxlength");if(e.customMaxAttribute){var n=t.attr(e.customMaxAttribute);(!i||i>n)&&(i=n)}return i||(i=t.attr("size")),i}var v=t("body"),y={showOnReady:!1,alwaysShow:!1,threshold:10,warningClass:"label label-success",limitReachedClass:"label label-important label-danger",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom",message:null,showCharsTyped:!0,validate:!1,utf8:!1,appendToParent:!1,twoCharLinebreak:!0,customMaxAttribute:null};return t.isFunction(e)&&!i&&(i=e,e={}),e=t.extend(y,e),this.each(function(){function i(){var i=c(o.val(),n,"0");n=m(o),r||(r=t('<span class="bootstrap-maxlength"></span>').css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:1099}).html(i)),o.is("textarea")&&(o.data("maxlenghtsizex",o.outerWidth()),o.data("maxlenghtsizey",o.outerHeight()),o.mouseup(function(){(o.outerWidth()!==o.data("maxlenghtsizex")||o.outerHeight()!==o.data("maxlenghtsizey"))&&p(o,r),o.data("maxlenghtsizex",o.outerWidth()),o.data("maxlenghtsizey",o.outerHeight())})),e.appendToParent?(o.parent().append(r),o.parent().css("position","relative")):v.append(r);var s=a(o,m(o));u(s,o,n,r),p(o,r)}var n,r,o=t(this);t(window).resize(function(){r&&p(o,r)}),e.showOnReady?o.ready(function(){i()}):o.focus(function(){i()}),o.on("maxlength.reposition",function(){p(o,r)}),o.on("destroyed",function(){r&&r.remove()}),o.on("blur",function(){r&&!e.showOnReady&&r.remove()}),o.on("input",function(){var t=m(o),i=a(o,t),l=!0;return e.validate&&0>i?(s(o,t),l=!1):u(i,o,n,r),g()&&p(o,r),l})})}})}(jQuery),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.SignaturePad=e()}):"object"==typeof exports?module.exports=e():t.SignaturePad=e()}(this,function(){var t=function(t){"use strict";var e=function(t,e){var i=this,n=e||{};this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onEnd=n.onEnd,this.onBegin=n.onBegin,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(i._mouseButtonDown=!0,i._strokeBegin(t))},this._handleMouseMove=function(t){i._mouseButtonDown&&i._strokeUpdate(t)},this._handleMouseUp=function(t){1===t.which&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(t))},this._handleTouchStart=function(t){if(1==t.targetTouches.length){var e=t.changedTouches[0];i._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];i._strokeUpdate(e)},this._handleTouchEnd=function(t){var e=t.target===i._canvas;e&&(t.preventDefault(),i._strokeEnd(t))},this._handleMouseEvents(),this._handleTouchEvents()};e.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._reset()},e.prototype.toDataURL=function(){var t=this._canvas;return t.toDataURL.apply(t,arguments)},e.prototype.fromDataURL=function(t){var e=this,i=new Image,n=window.devicePixelRatio||1,s=this._canvas.width/n,r=this._canvas.height/n;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,s,r)},this._isEmpty=!1},e.prototype._strokeUpdate=function(t){var e=this._createPoint(t);this._addPoint(e)},e.prototype._strokeBegin=function(t){this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},e.prototype._strokeDraw=function(t){var e=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,i),e.closePath(),e.fill()},e.prototype._strokeEnd=function(t){var e=this.points.length>2,i=this.points[0];!e&&i&&this._strokeDraw(i),"function"==typeof this.onEnd&&this.onEnd(t)},e.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),t.addEventListener("mouseup",this._handleMouseUp)},e.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},e.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},e.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),t.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},e.prototype._createPoint=function(t){var e=this._canvas.getBoundingClientRect();return new i(t.clientX-e.left,t.clientY-e.top)},e.prototype._addPoint=function(t){var e,i,s,r,o=this.points;o.push(t),o.length>2&&(3===o.length&&o.unshift(o[0]),r=this._calculateCurveControlPoints(o[0],o[1],o[2]),e=r.c2,r=this._calculateCurveControlPoints(o[1],o[2],o[3]),i=r.c1,s=new n(o[1],e,i,o[2]),this._addCurve(s),o.shift())},e.prototype._calculateCurveControlPoints=function(t,e,n){var s=t.x-e.x,r=t.y-e.y,o=e.x-n.x,a=e.y-n.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},h={x:(e.x+n.x)/2,y:(e.y+n.y)/2},c=Math.sqrt(s*s+r*r),u=Math.sqrt(o*o+a*a),d=l.x-h.x,p=l.y-h.y,f=u/(c+u),g={x:h.x+d*f,y:h.y+p*f},m=e.x-g.x,v=e.y-g.y;return{c1:new i(l.x+m,l.y+v),c2:new i(h.x+m,h.y+v)}},e.prototype._addCurve=function(t){var e,i,n=t.startPoint,s=t.endPoint;e=s.velocityFrom(n),e=this.velocityFilterWeight*e+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(e),this._drawCurve(t,this._lastWidth,i),this._lastVelocity=e,this._lastWidth=i},e.prototype._drawPoint=function(t,e,i){var n=this._ctx;n.moveTo(t,e),n.arc(t,e,i,0,2*Math.PI,!1),this._isEmpty=!1},e.prototype._drawCurve=function(t,e,i){var n,s,r,o,a,l,h,c,u,d,p,f=this._ctx,g=i-e;for(n=Math.floor(t.length()),f.beginPath(),r=0;n>r;r++)o=r/n,a=o*o,l=a*o,h=1-o,c=h*h,u=c*h,d=u*t.startPoint.x,d+=3*c*o*t.control1.x,d+=3*h*a*t.control2.x,d+=l*t.endPoint.x,p=u*t.startPoint.y,p+=3*c*o*t.control1.y,p+=3*h*a*t.control2.y,p+=l*t.endPoint.y,s=e+l*g,this._drawPoint(d,p,s);f.closePath(),f.fill()},e.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};var i=function(t,e,i){this.x=t,this.y=e,this.time=i||(new Date).getTime()};i.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},i.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};var n=function(t,e,i,n){this.startPoint=t,this.control1=e,this.control2=i,this.endPoint=n};return n.prototype.length=function(){var t,e,i,n,s,r,o,a,l=10,h=0;for(t=0;l>=t;t++)e=t/l,i=this._point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),n=this._point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),t>0&&(o=i-s,a=n-r,h+=Math.sqrt(o*o+a*a)),s=i,r=n;return h},n.prototype._point=function(t,e,i,n,s){return e*(1-t)*(1-t)*(1-t)+3*i*(1-t)*(1-t)*t+3*n*(1-t)*t*t+s*t*t*t},e}(document);return t});